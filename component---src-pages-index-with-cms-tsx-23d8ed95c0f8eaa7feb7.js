"use strict";(self.webpackChunkgatsby_starter_minimal_ts=self.webpackChunkgatsby_starter_minimal_ts||[]).push([[910],{42:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var l=a(6540),r=a(5893),n=a(180),o=a(3384),s=a(4552),m=a(6144),c=a(9776),d=a(7440),i=a(4373);const u=e=>{let{isOpen:t,onClose:a}=e;const{cmsData:r,resetCMSData:n,exportCMSData:o,importCMSData:s}=(0,i.f9)(),{0:m,1:c}=(0,l.useState)("global"),{0:d,1:u}=(0,l.useState)("home"),{0:g,1:b}=(0,l.useState)(""),{0:E,1:p}=(0,l.useState)("");(0,l.useEffect)(()=>{t&&b(o())},[t,o]);return t?l.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},l.createElement("div",{className:"bg-white rounded-lg shadow-xl w-11/12 h-5/6 max-w-6xl flex flex-col"},l.createElement("div",{className:"flex items-center justify-between p-4 border-b"},l.createElement("h2",{className:"text-xl font-bold"},"CMS Editor"),l.createElement("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 text-2xl"},"Ã—")),l.createElement("div",{className:"flex border-b"},l.createElement("button",{onClick:()=>c("global"),className:"px-4 py-2 font-medium "+("global"===m?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800")},"Global Settings"),l.createElement("button",{onClick:()=>c("pages"),className:"px-4 py-2 font-medium "+("pages"===m?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800")},"Pages")),l.createElement("div",{className:"flex-1 flex overflow-hidden"},"pages"===m&&l.createElement("div",{className:"w-64 border-r bg-gray-50 overflow-y-auto"},l.createElement("div",{className:"p-4"},l.createElement("h3",{className:"font-medium text-gray-900 mb-2"},"Pages"),Object.keys(r.pages).map(e=>l.createElement("button",{key:e,onClick:()=>u(e),className:"w-full text-left px-3 py-2 rounded mb-1 "+(d===e?"bg-blue-100 text-blue-700":"hover:bg-gray-100")},"home"===e?"Home":"page2"===e?"About SBU":"page3"===e?"Meditation":"page4"===e?"Elementary Program":"page5"===e?"College Program":"page6"===e?"Abhidhamma Program":e)))),l.createElement("div",{className:"flex-1 overflow-y-auto p-6"},"global"===m&&l.createElement("div",{className:"space-y-6"},l.createElement("div",null,l.createElement("h3",{className:"text-lg font-medium mb-4"},"Data Management"),l.createElement("div",{className:"space-y-4"},l.createElement("div",{className:"flex flex-wrap gap-2"},l.createElement("button",{onClick:()=>{const e=o(),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download="sbu-cms-data.json",l.click(),URL.revokeObjectURL(a)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Export Data"),l.createElement("button",{onClick:()=>{confirm("Are you sure you want to delete all draft changes and restore to original? This cannot be undone.")&&(n(),alert("All draft changes deleted! Data restored to original successfully!"))},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Delete Draft")),l.createElement("div",null,l.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Import Data (JSON)"),l.createElement("textarea",{value:E,onChange:e=>p(e.target.value),className:"w-full h-32 p-3 border border-gray-300 rounded-md",placeholder:"Paste JSON data here..."}),l.createElement("button",{onClick:()=>{s(E)?(alert("Data imported successfully!"),p("")):alert("Failed to import data. Please check the JSON format.")},disabled:!E.trim(),className:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 disabled:bg-gray-300"},"Import Data")),l.createElement("div",null,l.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Current Data (Read-only)"),l.createElement("textarea",{value:g,readOnly:!0,className:"w-full h-64 p-3 border border-gray-300 rounded-md bg-gray-50 font-mono text-sm"}))))),"pages"===m&&l.createElement("div",null,l.createElement("h3",{className:"text-lg font-medium mb-4"},"Editing: ","home"===d?"Home":"page2"===d?"About SBU":"page3"===d?"Meditation":"page4"===d?"Elementary Program":"page5"===d?"College Program":"page6"===d?"Abhidhamma Program":d),l.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4"},l.createElement("p",{className:"text-yellow-800"},l.createElement("strong",null,"Live Preview:")," Changes are automatically saved to local storage and will be reflected on the website immediately. Use the browser's developer tools to inspect the current data structure.")),l.createElement("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4"},l.createElement("h4",{className:"font-medium mb-2"},"Page Data Structure"),l.createElement("pre",{className:"text-sm overflow-auto max-h-96 bg-white p-3 rounded border"},JSON.stringify(r.pages[d],null,2)))))),l.createElement("div",{className:"border-t p-4 bg-gray-50"},l.createElement("div",{className:"flex items-center justify-between"},l.createElement("div",{className:"text-sm text-gray-600"},"Data is automatically saved to localStorage"),l.createElement("div",{className:"text-sm text-gray-600"},"Last updated: ",(new Date).toLocaleString()))))):null},g=()=>{const{0:e,1:t}=(0,l.useState)(!1),{isEditorMode:a}=(()=>{const{0:e,1:t}=(0,l.useState)(!1);return(0,l.useEffect)(()=>{const e="undefined"!=typeof window&&(window.location.search.includes("editor=true")||"true"===localStorage.getItem("cms-editor-enabled"));t(e)},[]),{isEditorMode:e,toggleEditor:()=>{if("undefined"!=typeof window){const a=!e;t(a),localStorage.setItem("cms-editor-enabled",a.toString())}}}})();return{isEditorOpen:e,openEditor:()=>t(!0),closeEditor:()=>t(!1),isEditorMode:a}},b=()=>{const{isEditorOpen:e,openEditor:t,closeEditor:a,isEditorMode:r}=g();return r?l.createElement(l.Fragment,null,l.createElement("button",{onClick:t,className:"fixed bottom-4 right-4 z-40 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg transition-colors",title:"Open CMS Editor"},l.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"}))),l.createElement(u,{isOpen:e,onClose:a})):null},E=e=>{let{children:t}=e;return l.createElement(i.$4,null,t,l.createElement(b,null))};var p=()=>{const{0:e,1:t}=(0,l.useState)(!1);return(0,l.useEffect)(()=>{t(!0)},[]),e?l.createElement(E,null,l.createElement("div",null,l.createElement(r.A,null),l.createElement(n.A,null),l.createElement(o.A,null),l.createElement(s.A,null),l.createElement(m.A,null),l.createElement(c.A,null),l.createElement(d.A,null))):null}}}]);
//# sourceMappingURL=component---src-pages-index-with-cms-tsx-23d8ed95c0f8eaa7feb7.js.map