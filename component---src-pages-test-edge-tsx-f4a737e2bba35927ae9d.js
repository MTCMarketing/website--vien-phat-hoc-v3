"use strict";(self.webpackChunkgatsby_starter_minimal_ts=self.webpackChunkgatsby_starter_minimal_ts||[]).push([[315],{6307:function(e,t,n){n.a(e,async function(e,a){try{n.r(t),n.d(t,{default:function(){return d}});var l=n(740),r=n(1454),o=n(6540),s=e([r]);const c=""+(r=(s.then?(await s)():s)[0]).dI,u=(0,l.UU)(r.VI,r.m5),m=e=>o.createElement("div",{style:{background:"#0f172a",color:"#e5e7eb",padding:16,borderRadius:8,border:"1px solid #334155",fontFamily:"JetBrains Mono, Menlo, monospace",marginBottom:16,whiteSpace:"pre-wrap"}},e);function d(){const{0:e,1:t}=(0,o.useState)("Abdul"),{0:n,1:a}=(0,o.useState)(null),{0:l,1:r}=(0,o.useState)(null),{0:s,1:i}=(0,o.useState)(null);return o.createElement("div",{style:{fontFamily:"Inter, -apple-system, system-ui, Segoe UI, Roboto, sans-serif",padding:32,background:"#0b1220",color:"#e5e7eb",minHeight:"100vh"}},o.createElement("h1",{style:{color:"#facc15"}},"üß™ Supabase Admin Edge Test"),m(o.createElement(o.Fragment,null,o.createElement("strong",null,"1) Enter a name"),o.createElement("br",null),o.createElement("input",{value:e,onChange:e=>t(e.target.value),style:{marginTop:8,padding:8,width:300,background:"#020617",color:"#e5e7eb",border:"1px solid #334155",borderRadius:6}}))),m(o.createElement(o.Fragment,null,o.createElement("strong",null,"2) Call your Edge Function"),o.createElement("br",null),o.createElement("button",{onClick:async function(){var t;a("Getting session...");const{data:n}=await u.auth.getSession(),l=null==n||null===(t=n.session)||void 0===t?void 0:t.access_token;if(console.log(l),l){i(l.slice(0,40)+"...");try{a("Calling Edge Function...");const t=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+l},body:JSON.stringify({name:e})}),n=await t.json();r(n),t.ok?a("‚úÖ SUCCESS ‚Äî admin access confirmed"):a("‚ùå BLOCKED (status "+t.status+")")}catch(o){a("üí• NETWORK ERROR"),r({error:String(o)})}}else a("‚ùå NOT LOGGED IN ‚Äî no token available")},style:{marginTop:8,padding:"8px 12px",background:"#facc15",color:"#020617",border:"none",borderRadius:6,fontWeight:600}},"CALL HELLO-ADMIN"))),n&&m(o.createElement(o.Fragment,null,o.createElement("strong",null,"Status:"),o.createElement("br",null),n)),s&&m(o.createElement(o.Fragment,null,o.createElement("strong",null,"JWT Preview (client side):"),o.createElement("br",null),s)),l&&m(o.createElement(o.Fragment,null,o.createElement("strong",null,"Edge Response:"),o.createElement("br",null),JSON.stringify(l,null,2))))}a()}catch(i){a(i)}})}}]);
//# sourceMappingURL=component---src-pages-test-edge-tsx-f4a737e2bba35927ae9d.js.map