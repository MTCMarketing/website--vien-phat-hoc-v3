{"version":3,"file":"629de8e4252b8c8f99bc709bb1ea30398af266f7-7320bbb2236e391c267e.js","mappings":"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","sources":["webpack://gatsby-starter-minimal-ts/./src/components/modals/ImageUploadModal.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/ImageEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/SectionLockControl.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/HeaderEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/HeaderContentEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/UpcomingEventEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/modals/PopupDynamic.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/NewsEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/ProgramsEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/SupportEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/ScriptureEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/FooterEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/LoiTuBachEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/BonDaiTongChiEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/BanNhanSuEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/GhiDanhNhapHocEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/KhongGianThienEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/KhongGianThien12Editor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/GhiDanhThienEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/ChuongTrinhSoTrungDangEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/NienKhoaEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/NienKhoa2022Editor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/NienKhoa2019Editor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/ChuongTrinhCaoDangEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/CaoDangNienKhoaEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/CaoDang2022Editor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/CaoDang2019Editor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/ChuyenKhoaATyDamEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/NienKhoaPage6Editor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/ProgramSectionEFEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/api/site-api.ts","webpack://gatsby-starter-minimal-ts/./src/components/editors/FormBuilderEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/SubmissionsEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/components/editors/AlertsEditor.tsx","webpack://gatsby-starter-minimal-ts/./src/pages/editor.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport './ImageUploadModal.css';\n\ntype UploadState = 'idle' | 'uploading' | 'success' | 'error';\n\ntype ImageUploadModalProps = {\n    isOpen: boolean;\n    onClose: () => void;\n    onUpload: (url: string) => void;\n    currentValue: string;\n};\n\nconst ImageUploadModal: React.FC<ImageUploadModalProps> = ({ isOpen, onClose, onUpload, currentValue }) => {\n    const [activeTab, setActiveTab] = useState<'upload' | 'url'>('upload');\n    const [url, setUrl] = useState(currentValue);\n    const [isDragging, setIsDragging] = useState(false);\n    const [uploadState, setUploadState] = useState<UploadState>('idle');\n    const [progress, setProgress] = useState(0);\n    const [statusMessage, setStatusMessage] = useState('');\n    const [uploadedImageUrl, setUploadedImageUrl] = useState('');\n    const [logicalName, setLogicalName] = useState('');\n    const [altText, setAltText] = useState('');\n    const [showToast, setShowToast] = useState(false);\n    const fileInputRef = useRef<HTMLInputElement>(null);\n\n    if (!isOpen) return null;\n\n    const handleUrlSubmit = () => {\n        onUpload(url);\n        onClose();\n    };\n\n    const handleFileBrowse = () => {\n        fileInputRef.current?.click();\n    };\n\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        processFile(file);\n    };\n\n    const processFile = async (file: File | undefined) => {\n        if (!file || !file.type.startsWith('image/')) return;\n\n        setUploadState('uploading');\n        setProgress(0);\n        setStatusMessage('10%  checking dimensions');\n\n        try {\n            // Load image to check dimensions\n            const img = new Image();\n            const objectUrl = URL.createObjectURL(file);\n\n            await new Promise((resolve, reject) => {\n                img.onload = resolve;\n                img.onerror = reject;\n                img.src = objectUrl;\n            });\n\n            // 4) VALIDATE SIZE (MTC-BDPQ-031)\n            const width = img.width;\n            const height = img.height;\n            const aspectRatio = width / height;\n\n            if (width < 400 || height < 250) {\n                setStatusMessage('Please upload a landscape image (at least 400250). Portrait images distort layout.');\n                setUploadState('error');\n                return;\n            }\n\n            if (aspectRatio < 1 || aspectRatio > 4) {\n                setStatusMessage('Image aspect ratio is too extreme. Please use a standard landscape format.');\n                setUploadState('error');\n                return;\n            }\n\n            // 5) AUTO-RESIZE & COMPRESS (MTC-BDPQ-032)\n            let finalUrl = objectUrl;\n            if (width > 1200) {\n                setStatusMessage('40%  optimizing image size');\n                const canvas = document.createElement('canvas');\n                const ctx = canvas.getContext('2d');\n                const scaleFactor = 1200 / width;\n                canvas.width = 1200;\n                canvas.height = height * scaleFactor;\n\n                ctx?.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n                const blob = await new Promise<Blob | null>(resolve => canvas.toBlob(resolve, 'image/jpeg', 0.85));\n                if (blob) {\n                    finalUrl = URL.createObjectURL(blob);\n                }\n                setProgress(60);\n            }\n\n            setStatusMessage('80%  finalizing');\n            setProgress(80);\n            await new Promise(resolve => setTimeout(resolve, 400));\n\n            setUploadedImageUrl(finalUrl);\n            setProgress(100);\n            setStatusMessage('Upload successful ');\n            setShowToast(true);\n\n            setTimeout(() => {\n                setShowToast(false);\n                setUploadState('success');\n            }, 1000);\n        } catch (error) {\n            setStatusMessage('Upload failed   invalid image file');\n            setUploadState('error');\n        }\n    };\n\n    const handleConfirmSave = () => {\n        onUpload(uploadedImageUrl);\n        onClose();\n        // Reset state for next use\n        setUploadState('idle');\n        setProgress(0);\n        setStatusMessage('');\n        setUploadedImageUrl('');\n        setLogicalName('');\n        setAltText('');\n    };\n\n    const handleRetry = () => {\n        setUploadState('idle');\n        setProgress(0);\n        setStatusMessage('');\n    };\n\n    const handleDragOver = (e: React.DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(true);\n    };\n\n    const handleDragLeave = (e: React.DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n    };\n\n    const handleDrop = (e: React.DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n\n        const file = e.dataTransfer.files?.[0];\n        processFile(file);\n    };\n\n    return (\n        <div className=\"modal-overlay\" onClick={onClose}>\n            <div className=\"modal-container\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"modal-header\">\n                    <div className=\"tab-group\">\n                        <button\n                            className={`tab-btn ${activeTab === 'upload' ? 'active' : ''}`}\n                            onClick={() => setActiveTab('upload')}\n                        >\n                            Upload\n                        </button>\n                        <button\n                            className={`tab-btn ${activeTab === 'url' ? 'active' : ''}`}\n                            onClick={() => setActiveTab('url')}\n                        >\n                            Link (URL)\n                        </button>\n                    </div>\n                    <button className=\"close-modal-btn\" onClick={onClose}>&times;</button>\n                </div>\n\n                <div className=\"modal-content\">\n                    {activeTab === 'upload' ? (\n                        <div className=\"upload-view\">\n                            {uploadState === 'idle' && (\n                                <div\n                                    className={`drop-zone ${isDragging ? 'dragging' : ''}`}\n                                    onDragOver={handleDragOver}\n                                    onDragLeave={handleDragLeave}\n                                    onDrop={handleDrop}\n                                >\n                                    <div className=\"dashed-border\">\n                                        <div className=\"folder-icon\">\n                                            <svg width=\"80\" height=\"64\" viewBox=\"0 0 80 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                                <rect x=\"25\" y=\"10\" width=\"30\" height=\"20\" rx=\"2\" fill=\"white\" />\n                                                <path d=\"M72 56V20C72 17.7909 70.2091 16 68 16H42L36 10H12C9.79086 10 8 11.7909 8 14V56C8 58.2091 9.79086 60 12 60H68C70.2091 60 72 58.2091 72 56Z\" fill=\"#4F46E5\" />\n                                                <path d=\"M8 24H72V56C72 58.2091 70.2091 60 68 60H12C9.79086 60 8 58.2091 8 56V24Z\" fill=\"#6366F1\" />\n                                            </svg>\n                                        </div>\n                                        <p className=\"upload-text\">\n                                            Drag your documents, photos, or<br />\n                                            videos here to start uploading.\n                                        </p>\n                                        <div className=\"divider\">\n                                            <span className=\"divider-line\"></span>\n                                            <span className=\"divider-text\">OR</span>\n                                            <span className=\"divider-line\"></span>\n                                        </div>\n                                        <button className=\"browse-btn\" onClick={handleFileBrowse}>Browse files</button>\n                                        <input\n                                            type=\"file\"\n                                            ref={fileInputRef}\n                                            style={{ display: 'none' }}\n                                            accept=\"image/*\"\n                                            onChange={handleFileChange}\n                                        />\n                                    </div>\n                                </div>\n                            )}\n\n                            {uploadState === 'uploading' && (\n                                <div className=\"upload-progress\">\n                                    <div className=\"progress-container\">\n                                        <div className=\"progress-bar\">\n                                            <div className=\"progress-fill\" style={{ width: `${progress}%` }}></div>\n                                        </div>\n                                        <div className=\"progress-status\">{statusMessage}</div>\n                                    </div>\n                                    {showToast && (\n                                        <div className=\"success-toast\">\n                                            {statusMessage}\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n\n                            {uploadState === 'success' && (\n                                <div className=\"upload-success\">\n                                    <div className=\"image-preview\">\n                                        <img src={uploadedImageUrl} alt=\"Uploaded\" className=\"preview-image\" />\n                                    </div>\n                                    <div className=\"metadata-fields\">\n                                        <div className=\"field-group\">\n                                            <label className=\"field-label\">Logical Name (optional)</label>\n                                            <input\n                                                type=\"text\"\n                                                className=\"field-input\"\n                                                value={logicalName}\n                                                onChange={(e) => setLogicalName(e.target.value)}\n                                                placeholder=\"Enter a name for this image\"\n                                            />\n                                        </div>\n                                        <div className=\"field-group\">\n                                            <label className=\"field-label\">Alt Text (optional)</label>\n                                            <input\n                                                type=\"text\"\n                                                className=\"field-input\"\n                                                value={altText}\n                                                onChange={(e) => setAltText(e.target.value)}\n                                                placeholder=\"Describe this image for accessibility\"\n                                            />\n                                        </div>\n                                    </div>\n                                    <div className=\"modal-footer\">\n                                        <button className=\"cancel-btn\" onClick={onClose}>Cancel</button>\n                                        <button className=\"confirm-btn\" onClick={handleConfirmSave}>Confirm & Save</button>\n                                    </div>\n                                </div>\n                            )}\n\n                            {uploadState === 'error' && (\n                                <div className=\"upload-error\">\n                                    <div className=\"error-message\">{statusMessage}</div>\n                                    <div className=\"modal-footer\">\n                                        <button className=\"cancel-btn\" onClick={onClose}>Cancel</button>\n                                        <button className=\"confirm-btn\" onClick={handleRetry}>Try Again</button>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    ) : (\n                        <div className=\"url-view\">\n                            <label className=\"modal-label\">External Image URL</label>\n                            <div className=\"url-input-wrapper\">\n                                <input\n                                    type=\"text\"\n                                    className=\"modal-input\"\n                                    value={url}\n                                    onChange={(e) => setUrl(e.target.value)}\n                                    placeholder=\"https://example.com/image.jpg\"\n                                    autoFocus\n                                />\n                            </div>\n                            <p className=\"url-hint\">Paste a link to an image from the web (Unsplash, Imgur, etc.)</p>\n                            <div className=\"modal-footer\">\n                                <button className=\"cancel-btn\" onClick={onClose}>Cancel</button>\n                                <button className=\"confirm-btn\" onClick={handleUrlSubmit}>Apply Link</button>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ImageUploadModal;\n","import React, { useRef, useState } from 'react'\nimport './ImageEditor.css'\nimport ImageUploadModal from '../modals/ImageUploadModal'\n\ntype ImageEditorProps = {\n    label: string\n    hint?: string\n    value: string\n    onChange: (value: string) => void\n    placeholder?: string\n    aspectRatio?: 'landscape' | 'logo' | 'square' | 'portrait'\n    compact?: boolean\n}\n\nconst ImageEditor: React.FC<ImageEditorProps> = ({\n    label,\n    hint,\n    value,\n    onChange,\n    placeholder = \"Paste image URL here...\",\n    aspectRatio = 'landscape',\n    compact = false\n}) => {\n    const [isModalOpen, setIsModalOpen] = useState(false)\n    const inputRef = useRef<HTMLInputElement>(null)\n\n    const handleEditClick = () => {\n        setIsModalOpen(true)\n    }\n\n    const handleUpload = (newUrl: string) => {\n        onChange(newUrl)\n    }\n\n    return (\n        <div className={`image-editor-component ${compact ? 'compact' : ''}`}>\n            <label className=\"form-label\">\n                {label}\n                {hint && <span className=\"label-hint\">{hint}</span>}\n            </label>\n\n            <div className={`image-workspace ${aspectRatio}-ratio ${compact ? 'compact-workspace' : ''}`}>\n                {value ? (\n                    <div className=\"image-current-wrapper\">\n                        <img src={value} alt=\"Preview\" className=\"image-current-preview\" />\n                        <div className=\"image-overlay-actions\">\n                            <button className=\"btn-edit-image\" onClick={handleEditClick} type=\"button\">\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                    <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" />\n                                    <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" />\n                                </svg>\n                                {!compact && \"Edit Image\"}\n                            </button>\n                        </div>\n                    </div>\n                ) : (\n                    <div className=\"image-upload-placeholder\" onClick={handleEditClick}>\n                        <svg width={compact ? 24 : 48} height={compact ? 24 : 48} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\" ry=\"2\" />\n                            <circle cx=\"9\" cy=\"9\" r=\"2\" />\n                            <path d=\"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\" />\n                        </svg>\n                        {!compact && (\n                            <>\n                                <p>Click to add image</p>\n                                <span>Supports: JPG, PNG, WEBP, SVG</span>\n                            </>\n                        )}\n                    </div>\n                )}\n\n                {!compact && (\n                    <div className=\"image-url-input-group\">\n                        <div className=\"input-with-icon\">\n                            <svg className=\"input-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                <path d=\"M10 13a5 5 0 0 0 7.54.54l3-3a5 0 0 0-7.07-7.07l-1.72 1.71\" />\n                                <path d=\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 0 0 0 7.07 7.07l1.71-1.71\" />\n                            </svg>\n                            <input\n                                ref={inputRef}\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={value}\n                                readOnly\n                                onClick={handleEditClick}\n                                placeholder={placeholder}\n                            />\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            <ImageUploadModal\n                isOpen={isModalOpen}\n                onClose={() => setIsModalOpen(false)}\n                onUpload={handleUpload}\n                currentValue={value}\n            />\n        </div>\n    )\n}\n\nexport default ImageEditor\n","import React from 'react'\nimport { useCMS } from '../../contexts/CMSContext'\n\ninterface SectionLockControlProps {\n    locked: boolean | undefined\n    onToggle: (newLocked: boolean) => void\n}\n\nconst SectionLockControl: React.FC<SectionLockControlProps> = ({ locked, onToggle }) => {\n    const { isSuperAdminMode } = useCMS()\n\n    if (!isSuperAdminMode) return null\n\n    return (\n        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n            <span style={{ fontSize: '12px', fontWeight: 600, color: '#666', textTransform: 'uppercase' }}>\n                {locked ? 'LOCKED' : 'UNLOCKED'}\n            </span>\n            <label className=\"news-toggle-control\" style={{ marginBottom: 0 }}>\n                <input\n                    type=\"checkbox\"\n                    checked={!locked}\n                    onChange={() => onToggle(!locked)}\n                />\n                <span className=\"news-toggle-slider\"></span>\n            </label>\n        </div>\n    )\n}\n\nexport default SectionLockControl\n","import React from 'react'\nimport './HeaderEditor.css'\nimport { HeaderData } from '../../contexts/CMSContext'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype HeaderEditorProps = {\n    data: HeaderData\n    onChange: (data: Partial<HeaderData>) => void\n}\n\nconst HeaderEditor: React.FC<HeaderEditorProps> = ({ data, onChange }) => {\n    return (\n        <div className=\"header-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Hero Header</h2>\n                    <SectionLockControl\n                        locked={data.locked}\n                        onToggle={(newLocked) => onChange({ locked: newLocked })}\n                    />\n                </div>\n                <p className=\"editor-subtitle\">Update the main announcement and visual style</p>\n            </div>\n\n            <div className=\"editor-form\" style={{\n                opacity: data.locked ? 0.5 : 1,\n                pointerEvents: data.locked ? 'none' : 'auto',\n                transition: 'opacity 0.3s'\n            }}>\n                {/* Title Input */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"header-title\" className=\"form-label\">\n                        Main Title\n                        <span className=\"label-hint\">Use \\n for line breaks</span>\n                    </label>\n                    <textarea\n                        id=\"header-title\"\n                        className=\"form-input\"\n                        rows={2}\n                        value={data.title}\n                        onChange={(e) => onChange({ title: e.target.value })}\n                        placeholder=\"VIN PHT HC\\nB  PHT QUC\"\n                    />\n                </div>\n\n                {/* Mobile Title Input */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"header-mobile-title\" className=\"form-label\">\n                        Mobile Title\n                    </label>\n                    <textarea\n                        id=\"header-mobile-title\"\n                        className=\"form-input\"\n                        rows={2}\n                        value={data.mobileTitle}\n                        onChange={(e) => onChange({ mobileTitle: e.target.value })}\n                        placeholder=\"V SBU\"\n                    />\n                </div>\n\n                {/* Subtitle Input */}\n\n\n                {/* Background Image Workspace */}\n                <ImageEditor\n                    label=\"Desktop Background Image\"\n                    hint=\"Hero section background for desktop\"\n                    value={data.backgroundImage}\n                    onChange={(val) => onChange({ backgroundImage: val })}\n                    aspectRatio=\"landscape\"\n                />\n\n                {/* Mobile Background Image Workspace */}\n                <ImageEditor\n                    label=\"Mobile Background Image\"\n                    hint=\"Hero section background for mobile\"\n                    value={data.mobileBackgroundImage}\n                    onChange={(val) => onChange({ mobileBackgroundImage: val })}\n                    aspectRatio=\"portrait\"\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default HeaderEditor\n","import React, { useState } from 'react'\nimport './HeaderContentEditor.css'\nimport { HeaderContent, NavItem } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport { useCMS } from '../../contexts/CMSContext'\nimport SectionLockControl from './SectionLockControl'\n\ntype HeaderContentEditorProps = {\n    data: HeaderContent\n    onChange: (data: Partial<HeaderContent>) => void\n}\n\nconst HeaderContentEditor: React.FC<HeaderContentEditorProps> = ({ data, onChange }) => {\n    const { isSuperAdmin, isSuperAdminMode, toggleSuperAdminMode } = useCMS()\n    const [editingNavId, setEditingNavId] = useState<string | null>(null)\n\n    const updateNavItem = (id: string, updates: Partial<NavItem>) => {\n        const updatedItems = data.navigationItems.map(item =>\n            item.id === id ? { ...item, ...updates } : item\n        )\n        onChange({ navigationItems: updatedItems })\n    }\n\n    const addDropdownItem = (navId: string) => {\n        const navItem = data.navigationItems.find(item => item.id === navId)\n        if (!navItem || !navItem.isDropdown) return\n\n        const newDropdownItem = {\n            id: `dropdown-${Date.now()}`,\n            label: 'New Item',\n            href: '#'\n        }\n\n        const updatedItems = data.navigationItems.map(item =>\n            item.id === navId\n                ? { ...item, dropdownItems: [...(item.dropdownItems || []), newDropdownItem] }\n                : item\n        )\n        onChange({ navigationItems: updatedItems })\n    }\n\n    const updateDropdownItem = (navId: string, dropdownId: string, updates: Partial<{ label: string; href: string }>) => {\n        const updatedItems = data.navigationItems.map(item =>\n            item.id === navId && item.dropdownItems\n                ? {\n                    ...item,\n                    dropdownItems: item.dropdownItems.map(dropItem =>\n                        dropItem.id === dropdownId ? { ...dropItem, ...updates } : dropItem\n                    )\n                }\n                : item\n        )\n        onChange({ navigationItems: updatedItems })\n    }\n\n    const removeDropdownItem = (navId: string, dropdownId: string) => {\n        const updatedItems = data.navigationItems.map(item =>\n            item.id === navId && item.dropdownItems\n                ? {\n                    ...item,\n                    dropdownItems: item.dropdownItems.filter(dropItem => dropItem.id !== dropdownId)\n                }\n                : item\n        )\n        onChange({ navigationItems: updatedItems })\n    }\n\n    return (\n        <>\n            {/* {isSuperAdmin && (\n                <div className=\"header-content-editor\" style={{ marginTop: 20, marginBottom: 20 }}>\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                        <div>Enable Superadmin Mode</div>\n                        <label className=\"news-toggle-control\">\n                            <input\n                                type=\"checkbox\"\n                                checked={isSuperAdminMode}\n                                onChange={toggleSuperAdminMode}\n                            />\n                            <span className=\"news-toggle-slider\"></span>\n                        </label>\n                    </div>\n                </div>\n            )} */}\n\n            <div className=\"header-content-editor\">\n                <div className=\"editor-header-title\">\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                        <h2>Edit Header Content</h2>\n                        <SectionLockControl\n                            locked={data.locked}\n                            onToggle={(newLocked) => onChange({ locked: newLocked })}\n                        />\n                    </div>\n                    <p className=\"editor-subtitle\">Manage logo and navigation links</p>\n                </div>\n\n                <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                    {/* Logo Section using Reusable Component */}\n                    <div className=\"form-section\">\n                        <h3 className=\"section-title\">Logo Settings</h3>\n\n                        <ImageEditor\n                            label=\"Logo Image\"\n                            hint=\"Site logo shown in header\"\n                            value={data.logoImage}\n                            onChange={(val) => onChange({ logoImage: val })}\n                            aspectRatio=\"logo\"\n                            placeholder=\"Paste logo URL here...\"\n                        />\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"logo-vietnamese\" className=\"form-label\">\n                                Vietnamese Text\n                            </label>\n                            <input\n                                id=\"logo-vietnamese\"\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.logoVietnamese}\n                                onChange={(e) => onChange({ logoVietnamese: e.target.value })}\n                                placeholder=\"VIN PHT HC\"\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"logo-english\" className=\"form-label\">\n                                English Text\n                            </label>\n                            <input\n                                id=\"logo-english\"\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.logoEnglish}\n                                onChange={(e) => onChange({ logoEnglish: e.target.value })}\n                                placeholder=\"Sakya Buddha University\"\n                            />\n                        </div>\n                    </div>\n\n                    {/* Navigation Items Section */}\n                    <div className=\"form-section\">\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n                            <h3 className=\"section-title\" style={{ margin: 0 }}>Navigation Items</h3>\n                        </div>\n\n                        <div className=\"nav-items-list\">\n                            {data.navigationItems.map((navItem, index) => (\n                                <div key={navItem.id} className=\"nav-item-card\">\n                                    <div className=\"nav-item-header\">\n                                        <span className=\"nav-item-number\">{index + 1}</span>\n                                        <h4 className=\"nav-item-title\">{navItem.label}</h4>\n                                        <button\n                                            className=\"toggle-edit-btn\"\n                                            onClick={() => setEditingNavId(editingNavId === navItem.id ? null : navItem.id)}\n                                        >\n                                            {editingNavId === navItem.id ? 'Close' : 'Edit'}\n                                        </button>\n                                    </div>\n\n                                    {editingNavId === navItem.id && (\n                                        <div className=\"nav-item-editor\">\n                                            <div className=\"form-group\">\n                                                <label className=\"form-label\">Label</label>\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input\"\n                                                    value={navItem.label}\n                                                    onChange={(e) => updateNavItem(navItem.id, { label: e.target.value })}\n                                                    placeholder=\"Menu label\"\n                                                />\n                                            </div>\n\n                                            <div className=\"form-group\">\n                                                <label className=\"form-label\">Link URL</label>\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input\"\n                                                    value={navItem.href}\n                                                    onChange={(e) => updateNavItem(navItem.id, { href: e.target.value })}\n                                                    placeholder=\"/page-url\"\n                                                    disabled={navItem.isDropdown}\n                                                />\n                                            </div>\n\n                                            <div className=\"form-group\">\n                                                <label className=\"form-label toggle-label\">\n                                                    <span>Is Dropdown Menu</span>\n                                                    <div className=\"toggle-wrapper\">\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            className=\"toggle-checkbox\"\n                                                            checked={navItem.isDropdown}\n                                                            onChange={(e) => updateNavItem(navItem.id, {\n                                                                isDropdown: e.target.checked,\n                                                                dropdownItems: e.target.checked ? (navItem.dropdownItems || []) : undefined\n                                                            })}\n                                                        />\n                                                        <span className=\"toggle-slider\"></span>\n                                                    </div>\n                                                </label>\n                                            </div>\n\n                                            {navItem.isDropdown && (\n                                                <div className=\"dropdown-items-section\">\n                                                    <div className=\"dropdown-header\">\n                                                        <h5>Dropdown Items</h5>\n                                                        <button\n                                                            className=\"add-dropdown-btn\"\n                                                            onClick={() => addDropdownItem(navItem.id)}\n                                                        >\n                                                            + Add Item\n                                                        </button>\n                                                    </div>\n\n                                                    {navItem.dropdownItems?.map((dropItem) => (\n                                                        <div key={dropItem.id} className=\"dropdown-item-card\">\n                                                            <div className=\"dropdown-item-fields\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    className=\"form-input small\"\n                                                                    value={dropItem.label}\n                                                                    onChange={(e) => updateDropdownItem(navItem.id, dropItem.id, { label: e.target.value })}\n                                                                    placeholder=\"Item label\"\n                                                                />\n                                                                <input\n                                                                    type=\"text\"\n                                                                    className=\"form-input small\"\n                                                                    value={dropItem.href}\n                                                                    onChange={(e) => updateDropdownItem(navItem.id, dropItem.id, { href: e.target.value })}\n                                                                    placeholder=\"Item URL\"\n                                                                />\n                                                                <button\n                                                                    className=\"remove-btn\"\n                                                                    onClick={() => removeDropdownItem(navItem.id, dropItem.id)}\n                                                                    title=\"Remove item\"\n                                                                >\n                                                                    \n                                                                </button>\n                                                            </div>\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default HeaderContentEditor\n","import React from 'react'\nimport { UpcomingEventContent } from '../../contexts/types'\nimport SectionLockControl from './SectionLockControl'\nimport './UpcomingEventEditor.css'\n\ninterface UpcomingEventEditorProps {\n    data: UpcomingEventContent\n    onChange: (data: Partial<UpcomingEventContent>) => void\n}\n\nconst UpcomingEventEditor: React.FC<UpcomingEventEditorProps> = ({ data, onChange }) => {\n\n    // Check if data is undefined and provide default if needed, though it should be populated by context\n    if (!data) return <div>Loading...</div>\n\n    const updateField = (field: keyof UpcomingEventContent, value: any) => {\n        onChange({ [field]: value })\n    }\n\n    return (\n        <div className=\"editor-container\">\n            <div className=\"editor-header-row\">\n                <h3>Upcoming Event Configuration</h3>\n                <div className=\"editor-header-actions\">\n                    <div className={`status-badge ${data.enabled ? 'active' : 'hidden'}`}>\n                        {data.enabled ? 'ACTIVE' : 'HIDDEN'}\n                    </div>\n                    <div className=\"header-toggle-container\" title={data.enabled ? 'Hide Section' : 'Show Section'}>\n                        <label className=\"toggle-switch small\">\n                            <input\n                                type=\"checkbox\"\n                                checked={data.enabled}\n                                onChange={(e) => updateField('enabled', e.target.checked)}\n                                disabled={data.locked}\n                            />\n                            <span className=\"toggle-slider\"></span>\n                        </label>\n                    </div>\n                    <SectionLockControl\n                        locked={data.locked}\n                        onToggle={(locked: boolean) => onChange({ locked })}\n                    />\n                </div>\n            </div>\n\n            <div className={`editor-content ${data.locked ? 'locked' : ''}`}>\n                <div className=\"editor-section\">\n                    <div className=\"editor-grid-2\">\n                        <div className=\"form-group\">\n                            <label>Section Label</label>\n                            <input\n                                type=\"text\"\n                                value={data.label}\n                                onChange={(e) => updateField('label', e.target.value)}\n                                disabled={data.locked || !data.enabled}\n                                placeholder=\"e.g. Sp din ra:\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Event Title</label>\n                            <input\n                                type=\"text\"\n                                value={data.title}\n                                onChange={(e) => updateField('title', e.target.value)}\n                                disabled={data.locked || !data.enabled}\n                                placeholder=\"e.g. Php hi Dc S\"\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"editor-section\">\n                    <h4>California Schedule</h4>\n                    <div className=\"editor-grid-2\">\n                        <div className=\"form-group\">\n                            <label>Location Label</label>\n                            <input\n                                type=\"text\"\n                                value={data.californiaLabel}\n                                onChange={(e) => updateField('californiaLabel', e.target.value)}\n                                disabled={data.locked || !data.enabled}\n                                placeholder=\"e.g. California:\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Venue / Type</label>\n                            <input\n                                type=\"text\"\n                                value={data.californiaSubLabel}\n                                onChange={(e) => updateField('californiaSubLabel', e.target.value)}\n                                disabled={data.locked || !data.enabled}\n                                placeholder=\"e.g. Trc tip ti BPQ\"\n                            />\n                        </div>\n                        <div className=\"form-group full-width\">\n                            <label>Date/Time Display</label>\n                            <input\n                                type=\"text\"\n                                value={data.californiaDate}\n                                onChange={(e) => updateField('californiaDate', e.target.value)}\n                                disabled={data.locked || !data.enabled}\n                                placeholder=\"e.g. 26/02/2026\"\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"editor-section\">\n                    <h4>Vietnam Schedule</h4>\n                    <div className=\"editor-grid-2\">\n                        <div className=\"form-group\">\n                            <label>Location Label</label>\n                            <input\n                                type=\"text\"\n                                value={data.vietnamLabel}\n                                onChange={(e) => updateField('vietnamLabel', e.target.value)}\n                                disabled={data.locked || !data.enabled}\n                                placeholder=\"e.g. Vit Nam:\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Venue / Type</label>\n                            <input\n                                type=\"text\"\n                                value={data.vietnamSubLabel}\n                                onChange={(e) => updateField('vietnamSubLabel', e.target.value)}\n                                disabled={data.locked || !data.enabled}\n                                placeholder=\"e.g. Online Zoom/Youtube\"\n                            />\n                        </div>\n                        <div className=\"form-group full-width\">\n                            <label>Date/Time Display</label>\n                            <input\n                                type=\"text\"\n                                value={data.vietnamDate}\n                                onChange={(e) => updateField('vietnamDate', e.target.value)}\n                                disabled={data.locked || !data.enabled}\n                                placeholder=\"e.g. 27/02/2026\"\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default UpcomingEventEditor\n","import React, { useState } from 'react';\nimport './PopupDynamic.css';\n\nexport interface PopupButton {\n    buttonText: string;\n    buttonTextActive?: string;\n    buttonTextResponse?: string;\n    onClick: () => Promise<void> | void;\n    className?: string;\n    variant?: 'primary' | 'danger' | 'secondary' | 'success';\n    template?: any; // For custom structure or styling\n}\n\nexport interface PopupDynamicProps {\n    isOpen: boolean;\n    onClose: () => void;\n    title: string;\n    subtitle?: string;\n    status?: string | null;\n    buttons: PopupButton[];\n    type?: 'warning' | 'error' | 'info' | 'success';\n}\n\nconst PopupDynamic: React.FC<PopupDynamicProps> = ({\n    isOpen,\n    onClose,\n    title,\n    subtitle,\n    status,\n    buttons,\n    type = 'warning'\n}) => {\n    const [activeButtonIndex, setActiveButtonIndex] = useState<number | null>(null);\n    const [responseButtonIndex, setResponseButtonIndex] = useState<number | null>(null);\n\n    if (!isOpen) return null;\n\n    const handleButtonClick = async (button: PopupButton, index: number) => {\n        if (activeButtonIndex !== null || responseButtonIndex !== null) return;\n\n        setActiveButtonIndex(index);\n        try {\n            await button.onClick();\n            if (button.buttonTextResponse) {\n                setResponseButtonIndex(index);\n                setActiveButtonIndex(null);\n                setTimeout(() => {\n                    setResponseButtonIndex(null);\n                    onClose();\n                }, 1500);\n            } else {\n                setActiveButtonIndex(null);\n                onClose();\n            }\n        } catch (error) {\n            setActiveButtonIndex(null);\n            console.error('Popup action failed:', error);\n        }\n    };\n\n    return (\n        <div className=\"popup-overlay\" onClick={onClose}>\n            <div className=\"popup-content\" onClick={(e) => e.stopPropagation()}>\n                <div className={`popup-icon-header ${type}`}>\n                    {type === 'warning' && (\n                        <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\n                            <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\n                            <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\n                        </svg>\n                    )}\n                    {type === 'error' && (\n                        <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n                            <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line>\n                            <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line>\n                        </svg>\n                    )}\n                    {type === 'success' && (\n                        <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <polyline points=\"20 6 9 17 4 12\"></polyline>\n                        </svg>\n                    )}\n                    {type === 'info' && (\n                        <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n                            <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\n                            <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\n                        </svg>\n                    )}\n                </div>\n\n                <h3 className=\"popup-title\">{title}</h3>\n                {subtitle && <p className=\"popup-subtitle\">{subtitle}</p>}\n\n                <div className=\"popup-buttons\">\n                    {buttons.map((btn, index) => {\n                        const isActive = activeButtonIndex === index;\n                        const hasResponse = responseButtonIndex === index;\n\n                        return (\n                            <button\n                                key={index}\n                                className={`popup-btn ${btn.variant || 'secondary'} ${isActive ? 'active' : ''} ${hasResponse ? 'response' : ''} ${btn.className || ''}`}\n                                onClick={() => handleButtonClick(btn, index)}\n                                disabled={activeButtonIndex !== null}\n                                style={btn.template?.style}\n                            >\n                                {isActive ? (\n                                    <>\n                                        <div className=\"btn-spinner\"></div>\n                                        {btn.buttonTextActive || btn.buttonText}\n                                    </>\n                                ) : hasResponse ? (\n                                    btn.buttonTextResponse || 'Success'\n                                ) : (\n                                    btn.buttonText\n                                )}\n                            </button>\n                        );\n                    })}\n                </div>\n\n                {status && <div className=\"popup-status\">{status}</div>}\n\n                <button className=\"popup-close-x\" onClick={onClose} title=\"Close\">\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                        <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                        <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n                    </svg>\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default PopupDynamic;\n","import React, { useState } from 'react'\nimport './NewsEditor.css'\nimport { NewsContent, NewsItem } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport PopupDynamic from '../modals/PopupDynamic'\nimport SectionLockControl from './SectionLockControl'\n\ntype NewsEditorProps = {\n    data: NewsContent\n    onChange: (data: Partial<NewsContent>) => void\n}\n\nconst NewsEditor: React.FC<NewsEditorProps> = ({ data, onChange }) => {\n    const [editingItemId, setEditingItemId] = useState<string | null>(null)\n    const [deleteConfirmId, setDeleteConfirmId] = useState<string | null>(null)\n\n    const updateItem = (id: string, updates: Partial<NewsItem>) => {\n        const updatedItems = data.items.map(item => {\n            if (item.id === id) {\n                const newItem = { ...item, ...updates }\n                // Logic: If this item is set to featured, unfeature all others\n                if (updates.isFeatured) {\n                    return newItem\n                }\n                return newItem\n            }\n            // Logic: If another item is being set to featured, unfeature this one\n            if (updates.isFeatured) {\n                return { ...item, isFeatured: false }\n            }\n            return item\n        })\n\n        // If we're setting an item to featured, we need to handle the others in one pass\n        if (updates.isFeatured) {\n            const allUpdated = data.items.map(item => ({\n                ...item,\n                isFeatured: item.id === id\n            }))\n            onChange({ items: allUpdated })\n        } else {\n            onChange({ items: updatedItems })\n        }\n    }\n\n    const addItem = () => {\n        const newItem: NewsItem = {\n            id: `news-${Date.now()}`,\n            title: 'New Announcement',\n            subtitle: 'Enter description here...',\n            date: new Date().toLocaleDateString('vi-VN'),\n            category: 'General',\n            image: '',\n            isFeatured: false\n        }\n        onChange({ items: [newItem, ...data.items] })\n        setEditingItemId(newItem.id)\n    }\n\n    const removeItem = (id: string) => {\n        const updatedItems = data.items.filter(item => item.id !== id)\n        onChange({ items: updatedItems })\n    }\n\n    return (\n        <div className=\"news-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Announcements</h2>\n                    <SectionLockControl\n                        locked={data.locked}\n                        onToggle={(newLocked) => onChange({ locked: newLocked })}\n                    />\n                </div>\n                <p className=\"editor-subtitle\">Manage news items and featured content</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                {/* Section Title */}\n                <div className=\"form-section\">\n                    <div className=\"form-group\">\n                        <label htmlFor=\"section-title\" className=\"form-label\">\n                            Section Title\n                        </label>\n                        <input\n                            id=\"section-title\"\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.sectionTitle}\n                            onChange={(e) => onChange({ sectionTitle: e.target.value })}\n                            placeholder=\"e.g., Thng bo mi\"\n                        />\n                    </div>\n                </div>\n\n                {/* News Items List */}\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Announcement Items</h3>\n                        <button className=\"btn-add-item\" onClick={addItem}>\n                            + Add Announcement\n                        </button>\n                    </div>\n\n                    <div className=\"news-items-list\">\n                        {data.items.map((item) => (\n                            <div key={item.id} className={`news-item-card ${editingItemId === item.id ? 'active' : ''}`}>\n                                <div className=\"news-item-header\">\n                                    <div className=\"news-item-info\">\n                                        {item.isFeatured && <span className=\"featured-badge\">Featured</span>}\n                                        <span className=\"item-label\">{item.title}</span>\n                                    </div>\n                                    <div className=\"item-actions\">\n                                        <button\n                                            className=\"btn-action edit\"\n                                            onClick={() => setEditingItemId(editingItemId === item.id ? null : item.id)}\n                                        >\n                                            {editingItemId === item.id ? 'Close' : 'Edit'}\n                                        </button>\n                                        <button\n                                            className=\"btn-action delete\"\n                                            onClick={() => setDeleteConfirmId(item.id)}\n                                        >\n                                            Delete\n                                        </button>\n                                    </div>\n                                </div>\n\n                                {editingItemId === item.id && (\n                                    <div className=\"news-item-editor\">\n                                        <div className=\"news-toggle-group\">\n                                            <div className=\"news-toggle-label-side\">\n                                                <span className=\"news-toggle-title\">Featured Announcement</span>\n                                                <span className=\"news-toggle-label-hint\">Promote this item to the main hero slot & mobile header</span>\n                                            </div>\n                                            <label className=\"news-toggle-control\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    checked={item.isFeatured}\n                                                    onChange={(e) => updateItem(item.id, { isFeatured: e.target.checked })}\n                                                />\n                                                <span className=\"news-toggle-slider\"></span>\n                                            </label>\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Title</label>\n                                            <input\n                                                type=\"text\"\n                                                className={`form-input ${item.title.length > 120 ? 'input-error' : ''}`}\n                                                value={item.title}\n                                                onChange={(e) => updateItem(item.id, { title: e.target.value })}\n                                            />\n                                            <div className=\"input-counter\">\n                                                <span className={item.title.length > 120 ? 'text-danger' : ''}>\n                                                    {item.title.length}/120\n                                                </span>\n                                                {item.title.length > 120 && <span className=\"warning-text\">  Too long, will break layout</span>}\n                                            </div>\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Subtitle / Description</label>\n                                            <textarea\n                                                className={`form-input ${item.subtitle.length > 220 ? 'input-error' : ''}`}\n                                                rows={3}\n                                                value={item.subtitle}\n                                                onChange={(e) => updateItem(item.id, { subtitle: e.target.value })}\n                                            />\n                                            <div className=\"input-counter\">\n                                                <span className={item.subtitle.length > 220 ? 'text-danger' : ''}>\n                                                    {item.subtitle.length}/220\n                                                </span>\n                                                {item.subtitle.length > 220 && <span className=\"warning-text\">  Too long, will break layout</span>}\n                                            </div>\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Link URL</label>\n                                            <input\n                                                type=\"text\"\n                                                className=\"form-input\"\n                                                value={item.link || ''}\n                                                onChange={(e) => updateItem(item.id, { link: e.target.value })}\n                                                placeholder=\"e.g., /S-trung-ng-Pht-hc or https://...\"\n                                            />\n                                        </div>\n\n                                        {/* <div className=\"form-row\">\n                                            <div className=\"form-group\">\n                                                <label className=\"form-label\">Date</label>\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input\"\n                                                    value={item.date}\n                                                    onChange={(e) => updateItem(item.id, { date: e.target.value })}\n                                                />\n                                            </div>\n                                            <div className=\"form-group\">\n                                                <label className=\"form-label\">Category</label>\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input\"\n                                                    value={item.category}\n                                                    onChange={(e) => updateItem(item.id, { category: e.target.value })}\n                                                />\n                                            </div>\n                                        </div> */}\n\n                                        <ImageEditor\n                                            label=\"Item Image\"\n                                            hint=\"Best used for featured item\"\n                                            value={item.image}\n                                            onChange={(url) => updateItem(item.id, { image: url })}\n                                            aspectRatio=\"landscape\"\n                                        />\n                                    </div>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            <PopupDynamic\n                isOpen={!!deleteConfirmId}\n                onClose={() => setDeleteConfirmId(null)}\n                title=\"Delete Announcement?\"\n                subtitle={`Are you sure you want to delete \"${data.items.find(i => i.id === deleteConfirmId)?.title}\"? This action cannot be undone.`}\n                type=\"error\"\n                buttons={[\n                    {\n                        buttonText: \"Yes, Delete Announcement\",\n                        buttonTextActive: \"Deleting...\",\n                        buttonTextResponse: \"Deleted!\",\n                        variant: \"danger\",\n                        onClick: async () => {\n                            if (deleteConfirmId) {\n                                removeItem(deleteConfirmId);\n                                setDeleteConfirmId(null);\n                            }\n                        }\n                    },\n                    {\n                        buttonText: \"Cancel\",\n                        variant: \"secondary\",\n                        onClick: () => setDeleteConfirmId(null)\n                    }\n                ]}\n            />\n        </div>\n    )\n}\n\nexport default NewsEditor\n","import React, { useState } from 'react'\nimport './ProgramsEditor.css'\nimport { ProgramsContent, ProgramItem, LectureItem, ProgramLink } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport PopupDynamic from '../modals/PopupDynamic'\nimport SectionLockControl from './SectionLockControl'\n\ntype ProgramsEditorProps = {\n    data: ProgramsContent\n    onChange: (data: Partial<ProgramsContent>) => void\n}\n\nconst ProgramsEditor: React.FC<ProgramsEditorProps> = ({ data, onChange }) => {\n    const [editingProgramId, setEditingProgramId] = useState<string | null>(null)\n    const [deleteConfirmId, setDeleteConfirmId] = useState<string | null>(null)\n\n    const updateProgram = (id: string, updates: Partial<ProgramItem>) => {\n        const updatedItems = data.items.map(item =>\n            item.id === id ? { ...item, ...updates } : item\n        )\n        onChange({ items: updatedItems })\n    }\n\n    const addProgram = () => {\n        const newProgram: ProgramItem = {\n            id: `prog-${Date.now()}`,\n            title: 'New Program',\n            description: 'Program description...',\n            links: [{ label: 'New Link ', href: '#' }],\n            lectures: [],\n            imageUrl: ''\n        }\n        onChange({ items: [...data.items, newProgram] })\n        setEditingProgramId(newProgram.id)\n    }\n\n    const removeProgram = (id: string) => {\n        const updatedItems = data.items.filter(item => item.id !== id)\n        onChange({ items: updatedItems })\n    }\n\n    // Links Handlers\n    const addLink = (progId: string) => {\n        const program = data.items.find(p => p.id === progId)\n        if (program) {\n            updateProgram(progId, { links: [...program.links, { label: 'New Link ', href: '#' }] })\n        }\n    }\n\n    const updateLink = (progId: string, index: number, updates: Partial<ProgramLink>) => {\n        const program = data.items.find(p => p.id === progId)\n        if (program) {\n            const newLinks = [...program.links]\n            newLinks[index] = { ...newLinks[index], ...updates }\n            updateProgram(progId, { links: newLinks })\n        }\n    }\n\n    const removeLink = (progId: string, index: number) => {\n        const program = data.items.find(p => p.id === progId)\n        if (program) {\n            const newLinks = program.links.filter((_, i) => i !== index)\n            updateProgram(progId, { links: newLinks })\n        }\n    }\n\n    // Lectures Handlers\n    const addLecture = (progId: string) => {\n        const program = data.items.find(p => p.id === progId)\n        if (program) {\n            const newLecture: LectureItem = {\n                id: `lect-${Date.now()}`,\n                title: 'New Lecture',\n                subtitle: 'Lecture topic...',\n                instructor: '',\n                image: '',\n                link: '#'\n            }\n            updateProgram(progId, { lectures: [...program.lectures, newLecture] })\n        }\n    }\n\n    const updateLecture = (progId: string, lectId: string, updates: Partial<LectureItem>) => {\n        const program = data.items.find(p => p.id === progId)\n        if (program) {\n            const newLectures = program.lectures.map(l =>\n                l.id === lectId ? { ...l, ...updates } : l\n            )\n            updateProgram(progId, { lectures: newLectures })\n        }\n    }\n\n    const removeLecture = (progId: string, lectId: string) => {\n        const program = data.items.find(p => p.id === progId)\n        if (program) {\n            const newLectures = program.lectures.filter(l => l.id !== lectId)\n            updateProgram(progId, { lectures: newLectures })\n        }\n    }\n\n    return (\n        <div className=\"programs-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Study Programs</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage curriculum blocks and new lectures</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Course Blocks</h3>\n                        <button className=\"btn-add-item\" onClick={addProgram}>\n                            + Add Program\n                        </button>\n                    </div>\n\n                    <div className=\"programs-list\">\n                        {data.items.map((program, index) => (\n                            <div key={program.id} className={`program-card ${editingProgramId === program.id ? 'active' : ''}`}>\n                                <div className=\"program-card-header\">\n                                    <span className=\"item-label\">{program.title}</span>\n                                    <div className=\"item-actions\">\n                                        <button\n                                            className=\"btn-action edit\"\n                                            onClick={() => setEditingProgramId(editingProgramId === program.id ? null : program.id)}\n                                        >\n                                            {editingProgramId === program.id ? 'Close' : 'Edit'}\n                                        </button>\n                                        <button\n                                            className=\"btn-action delete\"\n                                            onClick={() => setDeleteConfirmId(program.id)}\n                                        >\n                                            Delete\n                                        </button>\n                                    </div>\n                                </div>\n\n                                {editingProgramId === program.id && (\n                                    <div className=\"program-item-editor\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Program Title</label>\n                                            <input\n                                                type=\"text\"\n                                                className=\"form-input\"\n                                                value={program.title}\n                                                onChange={(e) => updateProgram(program.id, { title: e.target.value })}\n                                            />\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Description</label>\n                                            <textarea\n                                                className=\"form-input\"\n                                                rows={2}\n                                                value={program.description}\n                                                onChange={(e) => updateProgram(program.id, { description: e.target.value })}\n                                            />\n                                        </div>\n\n                                        <ImageEditor\n                                            label=\"Banner Image\"\n                                            value={program.imageUrl}\n                                            onChange={(url) => updateProgram(program.id, { imageUrl: url })}\n                                            aspectRatio=\"landscape\"\n                                        />\n\n                                        <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                                            <label className=\"form-label\">Image Position (Desktop)</label>\n                                            <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                                                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                                    <input\n                                                        type=\"radio\"\n                                                        name={`pos-${program.id}`}\n                                                        checked={!program.imagePosition}\n                                                        onChange={() => updateProgram(program.id, { imagePosition: undefined })}\n                                                    />\n                                                    Auto (Alternating)\n                                                </label>\n                                                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                                    <input\n                                                        type=\"radio\"\n                                                        name={`pos-${program.id}`}\n                                                        checked={program.imagePosition === 'left'}\n                                                        onChange={() => updateProgram(program.id, { imagePosition: 'left' })}\n                                                    />\n                                                    Image Left\n                                                </label>\n                                                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                                    <input\n                                                        type=\"radio\"\n                                                        name={`pos-${program.id}`}\n                                                        checked={program.imagePosition === 'right'}\n                                                        onChange={() => updateProgram(program.id, { imagePosition: 'right' })}\n                                                    />\n                                                    Image Right\n                                                </label>\n                                            </div>\n                                        </div>\n\n                                        {/* Links Editor */}\n                                        <div className=\"sub-section\">\n                                            <div className=\"sub-section-header\">\n                                                <h4>Program Links</h4>\n                                                <button className=\"btn-mini-add\" onClick={() => addLink(program.id)}>+ Add Link</button>\n                                            </div>\n                                            <div className=\"links-editor-list\">\n                                                {program.links.map((link, idx) => (\n                                                    <div key={idx} className=\"link-item-edit-row\">\n                                                        <div className=\"mini-item-row\">\n                                                            <input\n                                                                type=\"text\"\n                                                                className=\"form-input mini\"\n                                                                placeholder=\"Link Label\"\n                                                                value={link.label}\n                                                                onChange={(e) => updateLink(program.id, idx, { label: e.target.value })}\n                                                            />\n                                                            <input\n                                                                type=\"text\"\n                                                                className=\"form-input mini\"\n                                                                placeholder=\"URL (e.g. /programs/2025)\"\n                                                                value={link.href}\n                                                                onChange={(e) => updateLink(program.id, idx, { href: e.target.value })}\n                                                            />\n                                                            <button className=\"btn-mini-delete\" onClick={() => removeLink(program.id, idx)} title=\"Delete Link\">\n                                                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                    <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                </svg>\n                                                            </button>\n                                                        </div>\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        </div>\n\n                                        {/* Lectures Editor */}\n                                        <div className=\"sub-section\">\n                                            <div className=\"sub-section-header\">\n                                                <h4>Recent Lectures</h4>\n                                                <button className=\"btn-mini-add\" onClick={() => addLecture(program.id)}>+ Add Lecture</button>\n                                            </div>\n                                            <div className=\"lectures-editor-list\">\n                                                {program.lectures.map((lecture) => (\n                                                    <div key={lecture.id} className=\"lecture-edit-card\">\n                                                        <div className=\"lecture-edit-grid\">\n                                                            <div className=\"lecture-edit-image\">\n                                                                <ImageEditor\n                                                                    label=\"Thumb\"\n                                                                    value={lecture.image || ''}\n                                                                    onChange={(url) => updateLecture(program.id, lecture.id, { image: url })}\n                                                                    aspectRatio=\"square\"\n                                                                    compact={true}\n                                                                />\n                                                            </div>\n                                                            <div className=\"lecture-edit-details\">\n                                                                <div className=\"mini-item-row\">\n                                                                    <input\n                                                                        type=\"text\"\n                                                                        className=\"form-input mini\"\n                                                                        placeholder=\"Lecture Title\"\n                                                                        value={lecture.title}\n                                                                        onChange={(e) => updateLecture(program.id, lecture.id, { title: e.target.value })}\n                                                                    />\n                                                                </div>\n                                                                <div className=\"mini-item-row\">\n                                                                    <input\n                                                                        type=\"text\"\n                                                                        className=\"form-input mini\"\n                                                                        placeholder=\"Subtitle\"\n                                                                        value={lecture.subtitle}\n                                                                        onChange={(e) => updateLecture(program.id, lecture.id, { subtitle: e.target.value })}\n                                                                    />\n                                                                </div>\n                                                                <div className=\"mini-item-row\">\n                                                                    <input\n                                                                        type=\"text\"\n                                                                        className=\"form-input mini\"\n                                                                        placeholder=\"Destination Link\"\n                                                                        value={lecture.link || ''}\n                                                                        onChange={(e) => updateLecture(program.id, lecture.id, { link: e.target.value })}\n                                                                    />\n                                                                    <button className=\"btn-mini-delete\" onClick={() => removeLecture(program.id, lecture.id)} title=\"Delete Lecture\">\n                                                                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                            <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                            <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                        </svg>\n                                                                    </button>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            <PopupDynamic\n                isOpen={!!deleteConfirmId}\n                onClose={() => setDeleteConfirmId(null)}\n                title=\"Delete Program?\"\n                subtitle={`Are you sure you want to delete \"${data.items.find(p => p.id === deleteConfirmId)?.title}\"? This action will remove all associated lectures and cannot be undone.`}\n                type=\"error\"\n                buttons={[\n                    {\n                        buttonText: \"Yes, Delete Program\",\n                        buttonTextActive: \"Deleting...\",\n                        buttonTextResponse: \"Deleted!\",\n                        variant: \"danger\",\n                        onClick: async () => {\n                            if (deleteConfirmId) {\n                                removeProgram(deleteConfirmId);\n                                setDeleteConfirmId(null);\n                            }\n                        }\n                    },\n                    {\n                        buttonText: \"Cancel\",\n                        variant: \"secondary\",\n                        onClick: () => setDeleteConfirmId(null)\n                    }\n                ]}\n            />\n        </div>\n    )\n}\n\nexport default ProgramsEditor\n","import React, { useState } from 'react'\nimport './SupportEditor.css'\nimport { SupportContent, SupportColumn, SupportItem } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype SupportEditorProps = {\n    data: SupportContent\n    onChange: (data: Partial<SupportContent>) => void\n}\n\nconst SupportEditor: React.FC<SupportEditorProps> = ({ data, onChange }) => {\n    const [editingColumnId, setEditingColumnId] = useState<string | null>(null)\n\n    const updateColumn = (colId: string, updates: Partial<SupportColumn>) => {\n        const updatedColumns = data.columns.map(col =>\n            col.id === colId ? { ...col, ...updates } : col\n        )\n        onChange({ columns: updatedColumns })\n    }\n\n    const updateItem = (colId: string, itemId: string, updates: Partial<SupportItem>) => {\n        const column = data.columns.find(c => c.id === colId)\n        if (!column) return\n\n        const updatedItems = column.items.map(item =>\n            item.id === itemId ? { ...item, ...updates } : item\n        )\n        updateColumn(colId, { items: updatedItems })\n    }\n\n    const addItem = (colId: string) => {\n        const column = data.columns.find(c => c.id === colId)\n        if (!column) return\n\n        const newItem: SupportItem = {\n            id: `item-${Date.now()}`,\n            title: 'New Title',\n            image: ''\n        }\n        updateColumn(colId, { items: [...column.items, newItem] })\n    }\n\n    const removeItem = (colId: string, itemId: string) => {\n        const column = data.columns.find(c => c.id === colId)\n        if (!column) return\n\n        const updatedItems = column.items.filter(item => item.id !== itemId)\n        updateColumn(colId, { items: updatedItems })\n    }\n\n    return (\n        <div className=\"support-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Dharma Support</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage columns and items for the support section</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-group\">\n                    <label className=\"form-label\">Section Main Title</label>\n                    <textarea\n                        className=\"form-input\"\n                        rows={2}\n                        value={data.sectionTitle}\n                        onChange={(e) => onChange({ sectionTitle: e.target.value })}\n                        placeholder=\"Use \\n for line breaks\"\n                    />\n                </div>\n\n                <div className=\"form-grid-2\">\n                    <ImageEditor\n                        label=\"Desktop Background\"\n                        value={data.backgroundImage}\n                        onChange={(url) => onChange({ backgroundImage: url })}\n                        aspectRatio=\"landscape\"\n                    />\n                    <ImageEditor\n                        label=\"Mobile Background\"\n                        value={data.mobileBackgroundImage}\n                        onChange={(url) => onChange({ mobileBackgroundImage: url })}\n                        aspectRatio=\"landscape\"\n                    />\n                </div>\n\n                <div className=\"columns-list\">\n                    {data.columns.map((column) => (\n                        <div key={column.id} className={`column-card ${editingColumnId === column.id ? 'active' : ''}`}>\n                            <div className=\"column-card-header\">\n                                <span className=\"item-label\">{column.title || 'Untitled Column'}</span>\n                                <button\n                                    className=\"btn-action edit\"\n                                    onClick={() => setEditingColumnId(editingColumnId === column.id ? null : column.id)}\n                                >\n                                    {editingColumnId === column.id ? 'Close' : 'Edit'}\n                                </button>\n                            </div>\n\n                            {editingColumnId === column.id && (\n                                <div className=\"column-item-editor\">\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">Column Title</label>\n                                        <input\n                                            type=\"text\"\n                                            className={`form-input ${column.title.length > 60 ? 'input-error' : ''}`}\n                                            value={column.title}\n                                            onChange={(e) => updateColumn(column.id, { title: e.target.value })}\n                                        />\n                                        <div className=\"input-counter\">\n                                            <span className={column.title.length > 60 ? 'text-danger' : ''}>\n                                                {column.title.length}/60\n                                            </span>\n                                            {column.title.length > 60 && <span className=\"warning-text\">  Too long</span>}\n                                        </div>\n                                    </div>\n\n                                    <div className=\"items-section\">\n                                        <div className=\"sub-section-header\">\n                                            <h4>Column Items</h4>\n                                            <button className=\"btn-mini-add\" onClick={() => addItem(column.id)}>+ Add Item</button>\n                                        </div>\n\n                                        <div className=\"items-grid-editor\">\n                                            {column.items.map((item) => (\n                                                <div key={item.id} className=\"item-edit-card\">\n                                                    <ImageEditor\n                                                        label=\"Thumbnail\"\n                                                        value={item.image}\n                                                        onChange={(url) => updateItem(column.id, item.id, { image: url })}\n                                                        aspectRatio=\"square\"\n                                                        compact={true}\n                                                    />\n                                                    <div className=\"item-edit-details-group\">\n                                                        <div className=\"item-edit-details\">\n                                                            <input\n                                                                type=\"text\"\n                                                                className={`form-input mini ${item.title.length > 80 ? 'input-error' : ''}`}\n                                                                placeholder=\"Item title\"\n                                                                value={item.title}\n                                                                onChange={(e) => updateItem(column.id, item.id, { title: e.target.value })}\n                                                            />\n                                                            <button className=\"btn-mini-delete\" onClick={() => removeItem(column.id, item.id)} title=\"Delete Item\">\n                                                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                    <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                </svg>\n                                                            </button>\n                                                        </div>\n                                                        <div className=\"input-counter\">\n                                                            <span className={item.title.length > 80 ? 'text-danger' : ''}>\n                                                                {item.title.length}/80\n                                                            </span>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            ))}\n                                        </div>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SupportEditor\n","import React, { useState } from 'react'\nimport './ScriptureEditor.css'\nimport { ScriptureContent, ScriptureCard, ScriptureGroup, ScriptureItem } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport PopupDynamic from '../modals/PopupDynamic'\nimport SectionLockControl from './SectionLockControl'\n\ntype ScriptureEditorProps = {\n    data: ScriptureContent\n    onChange: (data: Partial<ScriptureContent>) => void\n}\n\nconst ScriptureEditor: React.FC<ScriptureEditorProps> = ({ data, onChange }) => {\n    const [editingCardId, setEditingCardId] = useState<string | null>(null)\n    const [deleteGroupInfo, setDeleteGroupInfo] = useState<{ cardId: string, groupId: string } | null>(null)\n\n    const updateCard = (cardId: string, updates: Partial<ScriptureCard>) => {\n        const updatedCards = data.cards.map(card =>\n            card.id === cardId ? { ...card, ...updates } : card\n        )\n        onChange({ cards: updatedCards })\n    }\n\n    const addGroup = (cardId: string) => {\n        const card = data.cards.find(c => c.id === cardId)\n        if (!card) return\n\n        const newGroup: ScriptureGroup = {\n            id: `group-${Date.now()}`,\n            title: 'New Group',\n            items: [{ id: `item-${Date.now()}`, label: 'New Item ' }]\n        }\n        updateCard(cardId, { groups: [...card.groups, newGroup] })\n    }\n\n    const updateGroup = (cardId: string, groupId: string, updates: Partial<ScriptureGroup>) => {\n        const card = data.cards.find(c => c.id === cardId)\n        if (!card) return\n\n        const updatedGroups = card.groups.map(group =>\n            group.id === groupId ? { ...group, ...updates } : group\n        )\n        updateCard(cardId, { groups: updatedGroups })\n    }\n\n    const removeGroup = (cardId: string, groupId: string) => {\n        const card = data.cards.find(c => c.id === cardId)\n        if (!card) return\n\n        const updatedGroups = card.groups.filter(group => group.id !== groupId)\n        updateCard(cardId, { groups: updatedGroups })\n    }\n\n    const updateItem = (cardId: string, groupId: string, itemId: string, label: string) => {\n        const card = data.cards.find(c => c.id === cardId)\n        if (!card) return\n\n        const group = card.groups.find(g => g.id === groupId)\n        if (!group) return\n\n        const updatedItems = group.items.map(item =>\n            item.id === itemId ? { ...item, label } : item\n        )\n        updateGroup(cardId, groupId, { items: updatedItems })\n    }\n\n    const addItem = (cardId: string, groupId: string) => {\n        const card = data.cards.find(c => c.id === cardId)\n        if (!card) return\n\n        const group = card.groups.find(g => g.id === groupId)\n        if (!group) return\n\n        const newItem: ScriptureItem = {\n            id: `item-${Date.now()}`,\n            label: 'New Item '\n        }\n        updateGroup(cardId, groupId, { items: [...group.items, newItem] })\n    }\n\n    const removeItem = (cardId: string, groupId: string, itemId: string) => {\n        const card = data.cards.find(c => c.id === cardId)\n        if (!card) return\n\n        const group = card.groups.find(g => g.id === groupId)\n        if (!group) return\n\n        const updatedItems = group.items.filter(item => item.id !== itemId)\n        updateGroup(cardId, groupId, { items: updatedItems })\n    }\n\n    return (\n        <div className=\"scripture-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Scripture Library</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage Kinh, Lut, Lun sections and lists</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-group\">\n                    <label className=\"form-label\">Section Main Title</label>\n                    <textarea\n                        className=\"form-input\"\n                        rows={2}\n                        value={data.sectionTitle}\n                        onChange={(e) => onChange({ sectionTitle: e.target.value })}\n                        placeholder=\"Use \\n for line breaks\"\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <ImageEditor\n                        label=\"Background Image\"\n                        value={data.backgroundImage}\n                        onChange={(url) => onChange({ backgroundImage: url })}\n                        aspectRatio=\"landscape\"\n                    />\n                </div>\n\n                <div className=\"cards-list\">\n                    {data.cards.map((card) => (\n                        <div key={card.id} className={`card-block ${editingCardId === card.id ? 'active' : ''}`}>\n                            <div className=\"card-block-header\">\n                                <span className=\"item-label\">{card.title}</span>\n                                <button\n                                    className=\"btn-action edit\"\n                                    onClick={() => setEditingCardId(editingCardId === card.id ? null : card.id)}\n                                >\n                                    {editingCardId === card.id ? 'Close' : 'Edit'}\n                                </button>\n                            </div>\n\n                            {editingCardId === card.id && (\n                                <div className=\"card-block-editor\">\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">Card Title</label>\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-input\"\n                                            value={card.title}\n                                            onChange={(e) => updateCard(card.id, { title: e.target.value })}\n                                        />\n                                    </div>\n\n                                    <div className=\"groups-list\">\n                                        <div className=\"sub-section-header\">\n                                            <h4>Scripture Groups</h4>\n                                            <button className=\"btn-mini-add\" onClick={() => addGroup(card.id)}>+ Add Group</button>\n                                        </div>\n\n                                        {card.groups.map((group) => (\n                                            <div key={group.id} className=\"group-edit-box\">\n                                                <div className=\"group-edit-header\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className=\"form-input mini group-title-input\"\n                                                        placeholder=\"Group Title (Optional)\"\n                                                        value={group.title || ''}\n                                                        onChange={(e) => updateGroup(card.id, group.id, { title: e.target.value })}\n                                                    />\n                                                    <button className=\"btn-mini-delete\" onClick={() => setDeleteGroupInfo({ cardId: card.id, groupId: group.id })}>Remove Group</button>\n                                                </div>\n\n                                                <div className=\"items-list-editor\">\n                                                    {group.items.map((item) => (\n                                                        <div key={item.id} className=\"item-row\">\n                                                            <input\n                                                                type=\"text\"\n                                                                className=\"form-input mini\"\n                                                                value={item.label}\n                                                                onChange={(e) => updateItem(card.id, group.id, item.id, e.target.value)}\n                                                            />\n                                                            <button className=\"btn-mini-delete-icon\" onClick={() => removeItem(card.id, group.id, item.id)} title=\"Delete Item\">\n                                                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                    <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                </svg>\n                                                            </button>\n                                                        </div>\n                                                    ))}\n                                                    <button className=\"btn-link-add\" onClick={() => addItem(card.id, group.id)}>+ Add Item</button>\n                                                </div>\n                                            </div>\n                                        ))}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            <PopupDynamic\n                isOpen={!!deleteGroupInfo}\n                onClose={() => setDeleteGroupInfo(null)}\n                title=\"Remove Scripture Group?\"\n                subtitle={`Are you sure you want to remove this group? All scripture links within this group will be permanently deleted.`}\n                type=\"error\"\n                buttons={[\n                    {\n                        buttonText: \"Yes, Remove Group\",\n                        buttonTextActive: \"Removing...\",\n                        buttonTextResponse: \"Removed!\",\n                        variant: \"danger\",\n                        onClick: async () => {\n                            if (deleteGroupInfo) {\n                                removeGroup(deleteGroupInfo.cardId, deleteGroupInfo.groupId);\n                                setDeleteGroupInfo(null);\n                            }\n                        }\n                    },\n                    {\n                        buttonText: \"Cancel\",\n                        variant: \"secondary\",\n                        onClick: () => setDeleteGroupInfo(null)\n                    }\n                ]}\n            />\n        </div>\n    )\n}\n\nexport default ScriptureEditor\n","import React, { useState } from 'react'\nimport './FooterEditor.css'\nimport { FooterContent, FooterLinkItem } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype FooterEditorProps = {\n    data: FooterContent\n    onChange: (data: Partial<FooterContent>) => void\n}\n\nconst FooterEditor: React.FC<FooterEditorProps> = ({ data, onChange }) => {\n    const [activeTab, setActiveTab] = useState<'general' | 'contact' | 'links' | 'social'>('general')\n\n    const updateContact = (updates: Partial<FooterContent['contact']>) => {\n        onChange({ contact: { ...data.contact, ...updates } })\n    }\n\n    const updateSocial = (updates: Partial<FooterContent['social']>) => {\n        onChange({ social: { ...data.social, ...updates } })\n    }\n\n    const updateQuickLink = (id: string, updates: Partial<FooterLinkItem>) => {\n        const updatedItems = data.quickLinks.items.map(item =>\n            item.id === id ? { ...item, ...updates } : item\n        )\n        onChange({ quickLinks: { ...data.quickLinks, items: updatedItems } })\n    }\n\n    const addQuickLink = () => {\n        const newItem: FooterLinkItem = {\n            id: `ql-${Date.now()}`,\n            label: 'New Link',\n            href: '#'\n        }\n        onChange({ quickLinks: { ...data.quickLinks, items: [...data.quickLinks.items, newItem] } })\n    }\n\n    const removeQuickLink = (id: string) => {\n        const updatedItems = data.quickLinks.items.filter(item => item.id !== id)\n        onChange({ quickLinks: { ...data.quickLinks, items: updatedItems } })\n    }\n\n    return (\n        <div className=\"footer-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Footer Content</h2>\n                    <SectionLockControl\n                        locked={data.locked}\n                        onToggle={(newLocked) => onChange({ locked: newLocked })}\n                    />\n                </div>\n                <p className=\"editor-subtitle\">Manage global footer information and links</p>\n            </div>\n\n            <div className=\"editor-tabs\">\n                <button\n                    className={`tab-btn ${activeTab === 'general' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('general')}\n                >\n                    General\n                </button>\n                <button\n                    className={`tab-btn ${activeTab === 'contact' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('contact')}\n                >\n                    Contact\n                </button>\n                <button\n                    className={`tab-btn ${activeTab === 'links' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('links')}\n                >\n                    Quick Links\n                </button>\n                <button\n                    className={`tab-btn ${activeTab === 'social' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('social')}\n                >\n                    Social\n                </button>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                {activeTab === 'general' && (\n                    <div className=\"tab-content fadeIn\">\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Desktop Title</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.titleDesktop}\n                                onChange={(e) => onChange({ titleDesktop: e.target.value })}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Mobile Title</label>\n                            <textarea\n                                className=\"form-input\"\n                                rows={2}\n                                value={data.titleMobile}\n                                onChange={(e) => onChange({ titleMobile: e.target.value })}\n                                placeholder=\"Use \\n for line breaks\"\n                            />\n                        </div>\n                        <div className=\"form-grid-2\">\n                            <ImageEditor\n                                label=\"Footer Background\"\n                                value={data.backgroundImage}\n                                onChange={(url) => onChange({ backgroundImage: url })}\n                            />\n                            <ImageEditor\n                                label=\"Footer Logo\"\n                                value={data.logoImage}\n                                onChange={(url) => onChange({ logoImage: url })}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Logo Alt Text</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.logoAlt}\n                                onChange={(e) => onChange({ logoAlt: e.target.value })}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Copyright Text</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.copyright}\n                                onChange={(e) => onChange({ copyright: e.target.value })}\n                            />\n                        </div>\n\n                    </div>\n                )}\n\n                {activeTab === 'contact' && (\n                    <div className=\"tab-content fadeIn\">\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Section Title</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.contact.title}\n                                onChange={(e) => updateContact({ title: e.target.value })}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Address</label>\n                            <textarea\n                                className=\"form-input\"\n                                rows={4}\n                                value={data.contact.address}\n                                onChange={(e) => updateContact({ address: e.target.value })}\n                                placeholder=\"Use \\n for line breaks\"\n                            />\n                        </div>\n                        <div className=\"form-grid-2\">\n                            <div className=\"form-group\">\n                                <label className=\"form-label\">Phone</label>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-input\"\n                                    value={data.contact.phone}\n                                    onChange={(e) => updateContact({ phone: e.target.value })}\n                                />\n                            </div>\n                            <div className=\"form-group\">\n                                <label className=\"form-label\">Email</label>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-input\"\n                                    value={data.contact.email}\n                                    onChange={(e) => updateContact({ email: e.target.value })}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {activeTab === 'links' && (\n                    <div className=\"tab-content fadeIn\">\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Section Title</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.quickLinks.title}\n                                onChange={(e) => onChange({ quickLinks: { ...data.quickLinks, title: e.target.value } })}\n                            />\n                        </div>\n                        <div className=\"links-editor-list\">\n                            <div className=\"sub-section-header\">\n                                <h4>Manage Links</h4>\n                                <button className=\"btn-mini-add\" onClick={addQuickLink}>+ Add Link</button>\n                            </div>\n                            {data.quickLinks.items.map((item) => (\n                                <div key={item.id} className=\"footer-link-edit-row\">\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-input mini\"\n                                        placeholder=\"Label\"\n                                        value={item.label}\n                                        onChange={(e) => updateQuickLink(item.id, { label: e.target.value })}\n                                    />\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-input mini\"\n                                        placeholder=\"URL\"\n                                        value={item.href || ''}\n                                        onChange={(e) => updateQuickLink(item.id, { href: e.target.value })}\n                                    />\n                                    <button className=\"btn-mini-delete-icon\" onClick={() => removeQuickLink(item.id)} title=\"Delete Link\">\n                                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                            <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                            <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                        </svg>\n                                    </button>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {activeTab === 'social' && (\n                    <div className=\"tab-content fadeIn\">\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Section Title</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.social.title}\n                                onChange={(e) => updateSocial({ title: e.target.value })}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">YouTube URL</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.social.youtube || ''}\n                                onChange={(e) => updateSocial({ youtube: e.target.value })}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Facebook URL</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.social.facebook || ''}\n                                onChange={(e) => updateSocial({ facebook: e.target.value })}\n                            />\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default FooterEditor\n","import React from 'react'\nimport './LoiTuBachEditor.css'\nimport { LoiTuBachContent } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype LoiTuBachEditorProps = {\n    data: LoiTuBachContent\n    onChange: (data: Partial<LoiTuBachContent>) => void\n}\n\nconst LoiTuBachEditor: React.FC<LoiTuBachEditorProps> = ({ data, onChange }) => {\n\n    // Handle paragraph updates\n    const handleParagraphChange = (index: number, value: string) => {\n        const newParagraphs = [...data.paragraphs]\n        newParagraphs[index] = value\n        onChange({ paragraphs: newParagraphs })\n    }\n\n    const addParagraph = () => {\n        onChange({ paragraphs: [...data.paragraphs, ''] })\n    }\n\n    const removeParagraph = (index: number) => {\n        const newParagraphs = data.paragraphs.filter((_, i) => i !== index)\n        onChange({ paragraphs: newParagraphs })\n    }\n\n    // Handle nested signature updates\n    const handleSignatureChange = (field: keyof LoiTuBachContent['signature'], value: string) => {\n        onChange({\n            signature: {\n                ...data.signature,\n                [field]: value\n            }\n        })\n    }\n\n    return (\n        <div className=\"loi-tu-bach-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Loi Tu Bach</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Update the introductory message on the About page</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                {/* General Content */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Main Content</div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Greeting Line</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.greeting}\n                            onChange={(e) => onChange({ greeting: e.target.value })}\n                        />\n                    </div>\n                </div>\n\n                {/* Image Section */}\n                <ImageEditor\n                    label=\"Featured Image\"\n                    hint=\"The portrait image shown next to the text\"\n                    value={data.image.src}\n                    onChange={(src) => onChange({ image: { ...data.image, src } })}\n                    aspectRatio=\"portrait\"\n                />\n\n                <div className=\"form-group\">\n                    <label className=\"form-label\">Image Alt Text</label>\n                    <input\n                        type=\"text\"\n                        className=\"form-input\"\n                        value={data.image.alt}\n                        onChange={(e) => onChange({ image: { ...data.image, alt: e.target.value } })}\n                    />\n                </div>\n\n                <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                    <label className=\"form-label\">Image Position (Desktop)</label>\n                    <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                        <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                            <input\n                                type=\"radio\"\n                                name=\"loi-tu-img-pos\"\n                                checked={!data.imagePosition || data.imagePosition === 'right'}\n                                onChange={() => onChange({ imagePosition: 'right' })}\n                            />\n                            Image Right (default)\n                        </label>\n                        <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                            <input\n                                type=\"radio\"\n                                name=\"loi-tu-img-pos\"\n                                checked={data.imagePosition === 'left'}\n                                onChange={() => onChange({ imagePosition: 'left' })}\n                            />\n                            Image Left\n                        </label>\n                    </div>\n                </div>\n\n                {/* Paragraphs Section */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Message Paragraphs</div>\n                    <div className=\"paragraphs-list\">\n                        {data.paragraphs.map((para, index) => (\n                            <div key={index} className=\"paragraph-item\">\n                                <textarea\n                                    className=\"form-input\"\n                                    rows={4}\n                                    style={{ resize: 'vertical' }}\n                                    value={para}\n                                    onChange={(e) => handleParagraphChange(index, e.target.value)}\n                                />\n                                <button\n                                    className=\"btn-remove-p\"\n                                    onClick={() => removeParagraph(index)}\n                                    title=\"Remove paragraph\"\n                                >\n                                    &times;\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                    <button className=\"btn-add-p\" onClick={addParagraph}>\n                        + Add New Paragraph\n                    </button>\n                </div>\n\n                {/* Signature Section */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Closing & Signature</div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Closing Line</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.closing}\n                            onChange={(e) => onChange({ closing: e.target.value })}\n                        />\n                    </div>\n\n                    <div className=\"signature-grid\">\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Date String</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.signature.date}\n                                onChange={(e) => handleSignatureChange('date', e.target.value)}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Organization</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.signature.organization}\n                                onChange={(e) => handleSignatureChange('organization', e.target.value)}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Role</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.signature.role}\n                                onChange={(e) => handleSignatureChange('role', e.target.value)}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"form-label\">Full Name</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-input\"\n                                value={data.signature.name}\n                                onChange={(e) => handleSignatureChange('name', e.target.value)}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default LoiTuBachEditor\n","import React from 'react'\nimport './BonDaiTongChiEditor.css'\nimport { BonDaiTongChiContent, TongChiItem } from '../../contexts/types'\nimport { FaHandshake, FaBrain, FaPray } from \"react-icons/fa\"\nimport { IoEarOutline } from \"react-icons/io5\"\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype BonDaiTongChiEditorProps = {\n    data: BonDaiTongChiContent\n    onChange: (data: Partial<BonDaiTongChiContent>) => void\n}\n\nconst icons = [\n    { id: 'handshake', icon: <FaHandshake /> },\n    { id: 'ear', icon: <IoEarOutline /> },\n    { id: 'brain', icon: <FaBrain /> },\n    { id: 'pray', icon: <FaPray /> }\n]\n\nconst BonDaiTongChiEditor: React.FC<BonDaiTongChiEditorProps> = ({ data, onChange }) => {\n\n    const handleItemChange = (index: number, field: keyof TongChiItem, value: any) => {\n        const newItems = [...data.items]\n        newItems[index] = { ...newItems[index], [field]: value }\n        onChange({ items: newItems })\n    }\n\n    return (\n        <div className=\"tong-chi-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Bn i Tng Ch</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Update the four core principles section</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                {/* Header Section */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Section Header</div>\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Title</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Subtitle</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.subtitle}\n                            onChange={(e) => onChange({ subtitle: e.target.value })}\n                        />\n                    </div>\n\n                    <ImageEditor\n                        label=\"Desktop Background Image\"\n                        hint=\"Main background for the section\"\n                        value={data.backgroundImage}\n                        onChange={(val) => onChange({ backgroundImage: val })}\n                        aspectRatio=\"landscape\"\n                    />\n\n                    <ImageEditor\n                        label=\"Mobile Background Image\"\n                        hint=\"Background for mobile devices\"\n                        value={data.mobileBackgroundImage}\n                        onChange={(val) => onChange({ mobileBackgroundImage: val })}\n                        aspectRatio=\"portrait\"\n                    />\n                </div>\n\n                {/* Items Section */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Principle Cards</div>\n                    <div className=\"items-list\">\n                        {data.items.map((item, index) => (\n                            <div key={item.id} className=\"item-card\">\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">List Item Text</label>\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-input\"\n                                        value={item.title}\n                                        onChange={(e) => handleItemChange(index, 'title', e.target.value)}\n                                    />\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default BonDaiTongChiEditor\n","import React from 'react'\nimport './BanNhanSuEditor.css'\nimport { BanNhanSuContent, NhanSuGroup } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype BanNhanSuEditorProps = {\n    data: BanNhanSuContent\n    onChange: (data: Partial<BanNhanSuContent>) => void\n}\n\nconst BanNhanSuEditor: React.FC<BanNhanSuEditorProps> = ({ data, onChange }) => {\n\n    const handleGroupChange = (index: number, field: keyof NhanSuGroup, value: any) => {\n        const newGroups = [...data.groups]\n        newGroups[index] = { ...newGroups[index], [field]: value }\n        onChange({ groups: newGroups })\n    }\n\n    const handleMemberChange = (groupIndex: number, memberIndex: number, value: string) => {\n        const newGroups = [...data.groups]\n        const newMembers = [...newGroups[groupIndex].members]\n        newMembers[memberIndex] = value\n        newGroups[groupIndex] = { ...newGroups[groupIndex], members: newMembers }\n        onChange({ groups: newGroups })\n    }\n\n    const addMember = (groupIndex: number) => {\n        const newGroups = [...data.groups]\n        const newMembers = [...newGroups[groupIndex].members, '']\n        newGroups[groupIndex] = { ...newGroups[groupIndex], members: newMembers }\n        onChange({ groups: newGroups })\n    }\n\n    const removeMember = (groupIndex: number, memberIndex: number) => {\n        const newGroups = [...data.groups]\n        const newMembers = newGroups[groupIndex].members.filter((_, i) => i !== memberIndex)\n        newGroups[groupIndex] = { ...newGroups[groupIndex], members: newMembers }\n        onChange({ groups: newGroups })\n    }\n\n    return (\n        <div className=\"nhan-su-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Ban Nhn S</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Update department groups and their members</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                {/* Desktop Background */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Desktop Experience</div>\n                    <ImageEditor\n                        label=\"Main Desktop Background\"\n                        hint=\"Large background image shared by all groups on desktop\"\n                        value={data.desktopBackground}\n                        onChange={(val) => onChange({ desktopBackground: val })}\n                        aspectRatio=\"landscape\"\n                    />\n                </div>\n\n                {/* Groups Selection */}\n                <div className=\"groups-list\">\n                    {data.groups.map((group, gIndex) => (\n                        <div key={group.id} className=\"group-card\">\n                            <div className=\"group-card-header\">\n                                <h3 className=\"form-label\" style={{ fontSize: '1.1rem', margin: 0 }}>\n                                    {group.title}\n                                </h3>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label className=\"form-label\">Group Title</label>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-input\"\n                                    value={group.title}\n                                    onChange={(e) => handleGroupChange(gIndex, 'title', e.target.value)}\n                                />\n                            </div>\n\n                            <ImageEditor\n                                label=\"Mobile Header Background\"\n                                hint=\"Background image for this group's header on mobile\"\n                                value={group.mobileBackground}\n                                onChange={(val) => handleGroupChange(gIndex, 'mobileBackground', val)}\n                                aspectRatio=\"landscape\"\n                            />\n\n                            <div className=\"form-group\">\n                                <label className=\"form-label\">Members List</label>\n                                <div className=\"members-list\">\n                                    {group.members.map((member, mIndex) => (\n                                        <div key={mIndex} className=\"member-item\">\n                                            <input\n                                                type=\"text\"\n                                                className=\"form-input\"\n                                                value={member}\n                                                onChange={(e) => handleMemberChange(gIndex, mIndex, e.target.value)}\n                                                placeholder=\"e.g. Gim vin: TT. Thch Huyn Chu\"\n                                            />\n                                            <button\n                                                className=\"btn-remove\"\n                                                onClick={() => removeMember(gIndex, mIndex)}\n                                                title=\"Remove member\"\n                                            >\n                                                &times;\n                                            </button>\n                                        </div>\n                                    ))}\n                                    <button className=\"btn-add\" onClick={() => addMember(gIndex)}>\n                                        + Add New Member\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default BanNhanSuEditor\n","import React from 'react'\nimport './GhiDanhNhapHocEditor.css'\nimport { GhiDanhNhapHocContent } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\nimport { useFormData } from '../../hooks/useFormData'\nimport FormRenderer from '../FormBuilder/FormRenderer'\nimport '../FormBuilder/FormRenderer.css'\n\ntype GhiDanhNhapHocEditorProps = {\n    data: GhiDanhNhapHocContent\n    onChange: (data: Partial<GhiDanhNhapHocContent>) => void\n    onNavigate?: (page: any) => void\n}\n\nconst GhiDanhNhapHocEditor: React.FC<GhiDanhNhapHocEditorProps> = ({ data, onChange, onNavigate }) => {\n\n    const { forms } = useFormData();\n    const selectedForm = forms.find(f => f.id === data.formId);\n\n    // Auto-sync form snippet if it's stale (MTC-BDPQ-035)\n    React.useEffect(() => {\n        if (data.formId && selectedForm) {\n            const currentSnippetStr = JSON.stringify(data.form);\n            const masterStr = JSON.stringify(selectedForm);\n            if (currentSnippetStr !== masterStr) {\n                console.log('[CMS][SYNC] Form snapshot is stale, updating draft...');\n                onChange({ form: selectedForm });\n            }\n        }\n    }, [data.formId, selectedForm, data.form, onChange]);\n\n    const handleFormSelect = (formId: string) => {\n        const fullForm = forms.find(f => f.id === formId);\n        onChange({ formId, form: fullForm });\n    };\n\n    return (\n        <div className=\"ghi-danh-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Ghi Danh Nhp Hc</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Update registration form fields and section content</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                {/* General Content */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">General Information</div>\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                    </div>\n                    <ImageEditor\n                        label=\"Desktop Featured Image\"\n                        hint=\"The large image shown on the left side of the form on desktop\"\n                        value={data.desktopImage}\n                        onChange={(val) => onChange({ desktopImage: val })}\n                        aspectRatio=\"portrait\"\n                    />\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Submit Button Label</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.submitLabel}\n                            onChange={(e) => onChange({ submitLabel: e.target.value })}\n                        />\n                    </div>\n                </div>\n\n                {/* Form Selection */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Form Selection</div>\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Select Form from Form Builder</label>\n                        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', marginBottom: '1rem' }}>\n                            <select\n                                className=\"form-input\"\n                                value={data.formId || ''}\n                                onChange={(e) => handleFormSelect(e.target.value)}\n                                style={{ flex: 1 }}\n                            >\n                                <option value=\"\">-- Choose a Form --</option>\n                                {forms.map(form => (\n                                    <option key={form.id} value={form.id}>{form.title}</option>\n                                ))}\n                            </select>\n                            <button\n                                onClick={() => onNavigate?.('form_builder')}\n                                className=\"btn-secondary\"\n                                style={{\n                                    textDecoration: 'none',\n                                    padding: '8px 12px',\n                                    backgroundColor: '#f3f4f6',\n                                    border: '1px solid #d1d5db',\n                                    borderRadius: '4px',\n                                    fontSize: '14px',\n                                    color: '#374151',\n                                    cursor: 'pointer'\n                                }}\n                            >\n                                Open Form Builder\n                            </button>\n                        </div>\n\n                        {selectedForm ? (\n                            <div className=\"form-preview-container\" style={{\n                                padding: '1.5rem',\n                                border: '1px solid #e5e7eb',\n                                borderRadius: '8px',\n                                backgroundColor: '#f9fafb'\n                            }}>\n                                <h4 style={{ marginTop: 0, marginBottom: '1rem', color: '#6b7280', fontSize: '12px', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                                    Preview (Read Only)\n                                </h4>\n                                <FormRenderer form={selectedForm} disabled={true} />\n                            </div>\n                        ) : (\n                            <div style={{\n                                padding: '2rem',\n                                textAlign: 'center',\n                                border: '1px dashed #d1d5db',\n                                borderRadius: '8px',\n                                color: '#9ca3af'\n                            }}>\n                                Select a form to see preview\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default GhiDanhNhapHocEditor\n","import React from 'react'\nimport './KhongGianThienEditor.css'\nimport { KhongGianThienContent, KhongGianThienCard } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype KhongGianThienEditorProps = {\n    data: KhongGianThienContent\n    onChange: (data: Partial<KhongGianThienContent>) => void\n}\n\nconst KhongGianThienEditor: React.FC<KhongGianThienEditorProps> = ({ data, onChange }) => {\n\n    // Handle image updates\n    const handleMainImageChange = (src: string) => {\n        onChange({\n            image: {\n                ...data.image,\n                src\n            }\n        })\n    }\n\n    const handleMainAltChange = (alt: string) => {\n        onChange({\n            image: {\n                ...data.image,\n                alt\n            }\n        })\n    }\n\n    // Handle card updates\n    const handleCardChange = (index: number, field: keyof KhongGianThienCard, value: string) => {\n        const newCards = [...data.cards]\n        newCards[index] = { ...newCards[index], [field]: value }\n        onChange({ cards: newCards })\n    }\n\n    const addCard = () => {\n        const newCard: KhongGianThienCard = {\n            id: `kgt-${Date.now()}`,\n            title: 'New Card Title',\n            subtitle: 'New Card Subtitle',\n            image: ''\n        }\n        onChange({ cards: [...data.cards, newCard] })\n    }\n\n    const removeCard = (index: number) => {\n        const newCards = data.cards.filter((_, i) => i !== index)\n        onChange({ cards: newCards })\n    }\n\n    return (\n        <div className=\"kgt-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Khng Gian Thin</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Update the meditation space content and cards</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                {/* Main Content Section */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Main Content</div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.title.length > 80 ? 'input-error' : ''}`}\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.title.length > 80 ? 'text-danger' : ''}>\n                                {data.title.length}/80\n                            </span>\n                        </div>\n                    </div>\n\n                    <div className=\"form-group\" style={{ marginTop: '1.5rem' }}>\n                        <label className=\"form-label\">Featured Image</label>\n                        <ImageEditor\n                            label=\"\"\n                            value={data.image.src}\n                            onChange={handleMainImageChange}\n                            aspectRatio=\"landscape\"\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Image Alt Text</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.image.alt}\n                            onChange={(e) => handleMainAltChange(e.target.value)}\n                        />\n                    </div>\n\n                    <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                        <label className=\"form-label\">Image Position (Desktop)</label>\n                        <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"kgt-img-pos\"\n                                    checked={!data.imagePosition || data.imagePosition === 'left'}\n                                    onChange={() => onChange({ imagePosition: 'left' })}\n                                />\n                                Image Left\n                            </label>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"kgt-img-pos\"\n                                    checked={data.imagePosition === 'right'}\n                                    onChange={() => onChange({ imagePosition: 'right' })}\n                                />\n                                Image Right\n                            </label>\n                        </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Quote Message</label>\n                        <textarea\n                            className={`form-input ${data.quote.length > 300 ? 'input-error' : ''}`}\n                            rows={4}\n                            value={data.quote}\n                            onChange={(e) => onChange({ quote: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.quote.length > 300 ? 'text-danger' : ''}>\n                                {data.quote.length}/300\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Introduction Cards */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Introduction Cards</div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Cards Heading</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.cardsHeading.length > 60 ? 'input-error' : ''}`}\n                            value={data.cardsHeading}\n                            onChange={(e) => onChange({ cardsHeading: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.cardsHeading.length > 60 ? 'text-danger' : ''}>\n                                {data.cardsHeading.length}/60\n                            </span>\n                        </div>\n                    </div>\n\n                    <div className=\"cards-list\" style={{ marginTop: '2rem' }}>\n                        {data.cards.map((card, index) => (\n                            <div key={card.id} className=\"kgt-card-item\">\n                                <div className=\"kgt-card-header\">\n                                    <span className=\"card-number\">Card #{index + 1}</span>\n                                    <button\n                                        className=\"btn-remove\"\n                                        onClick={() => removeCard(index)}\n                                        title=\"Remove card\"\n                                    >\n                                        &times;\n                                    </button>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Image</label>\n                                    <ImageEditor\n                                        label=\"\"\n                                        value={card.image || ''}\n                                        onChange={(val) => handleCardChange(index, 'image', val)}\n                                        aspectRatio=\"landscape\"\n                                    />\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Title</label>\n                                    <input\n                                        type=\"text\"\n                                        className={`form-input ${card.title.length > 60 ? 'input-error' : ''}`}\n                                        value={card.title}\n                                        onChange={(e) => handleCardChange(index, 'title', e.target.value)}\n                                    />\n                                    <div className=\"input-counter\">\n                                        <span className={card.title.length > 60 ? 'text-danger' : ''}>\n                                            {card.title.length}/60\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Subtitle</label>\n                                    <input\n                                        type=\"text\"\n                                        className={`form-input ${card.subtitle.length > 120 ? 'input-error' : ''}`}\n                                        value={card.subtitle}\n                                        onChange={(e) => handleCardChange(index, 'subtitle', e.target.value)}\n                                    />\n                                    <div className=\"input-counter\">\n                                        <span className={card.subtitle.length > 120 ? 'text-danger' : ''}>\n                                            {card.subtitle.length}/120\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n\n                    <button className=\"btn-add\" onClick={addCard} style={{ width: '100%', marginTop: '1.5rem' }}>\n                        + Add New Introduction Card\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default KhongGianThienEditor\n","import React from 'react'\nimport './KhongGianThienEditor.css' // Reusing established styles\nimport { KhongGianThien12Content, ThienProgramCard } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype KhongGianThien12EditorProps = {\n    data: KhongGianThien12Content\n    onChange: (data: Partial<KhongGianThien12Content>) => void\n}\n\nconst KhongGianThien12Editor: React.FC<KhongGianThien12EditorProps> = ({ data, onChange }) => {\n\n    // Handle image updates\n    const handleMainImageChange = (src: string) => {\n        onChange({\n            image: {\n                ...data.image,\n                src\n            }\n        })\n    }\n\n    const handleMainAltChange = (alt: string) => {\n        onChange({\n            image: {\n                ...data.image,\n                alt\n            }\n        })\n    }\n\n    // Handle card updates\n    const handleCardChange = (index: number, field: keyof ThienProgramCard, value: string) => {\n        const newCards = [...data.cards]\n        newCards[index] = { ...newCards[index], [field]: value }\n        onChange({ cards: newCards })\n    }\n\n    const addCard = () => {\n        const newCard: ThienProgramCard = {\n            id: `kgt-12-${Date.now()}`,\n            title: 'New Card Title',\n            subtitle: 'New Card Subtitle',\n            image: ''\n        }\n        onChange({ cards: [...data.cards, newCard] })\n    }\n\n    const removeCard = (index: number) => {\n        const newCards = data.cards.filter((_, i) => i !== index)\n        onChange({ cards: newCards })\n    }\n\n    return (\n        <div className=\"kgt-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Chng Trnh Thin (Page 3)</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Update the meditation program section and cards</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                {/* Main Content Section */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Main Content</div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.title.length > 80 ? 'input-error' : ''}`}\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.title.length > 80 ? 'text-danger' : ''}>\n                                {data.title.length}/80\n                            </span>\n                        </div>\n                    </div>\n\n                    <div className=\"form-group\" style={{ marginTop: '1.5rem' }}>\n                        <label className=\"form-label\">Featured Image</label>\n                        <ImageEditor\n                            label=\"\"\n                            value={data.image.src}\n                            onChange={handleMainImageChange}\n                            aspectRatio=\"landscape\"\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Image Alt Text</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.image.alt}\n                            onChange={(e) => handleMainAltChange(e.target.value)}\n                        />\n                    </div>\n\n                    <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                        <label className=\"form-label\">Image Position (Desktop)</label>\n                        <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"kgt12-img-pos\"\n                                    checked={!data.imagePosition || data.imagePosition === 'right'}\n                                    onChange={() => onChange({ imagePosition: 'right' })}\n                                />\n                                Image Right (default)\n                            </label>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"kgt12-img-pos\"\n                                    checked={data.imagePosition === 'left'}\n                                    onChange={() => onChange({ imagePosition: 'left' })}\n                                />\n                                Image Left\n                            </label>\n                        </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Quote Message</label>\n                        <textarea\n                            className={`form-input ${data.quote.length > 300 ? 'input-error' : ''}`}\n                            rows={4}\n                            value={data.quote}\n                            onChange={(e) => onChange({ quote: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.quote.length > 300 ? 'text-danger' : ''}>\n                                {data.quote.length}/300\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Introduction Cards */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Program Cards</div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Cards Heading</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.cardsHeading.length > 60 ? 'input-error' : ''}`}\n                            value={data.cardsHeading}\n                            onChange={(e) => onChange({ cardsHeading: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.cardsHeading.length > 60 ? 'text-danger' : ''}>\n                                {data.cardsHeading.length}/60\n                            </span>\n                        </div>\n                    </div>\n\n                    <div className=\"cards-list\" style={{ marginTop: '2rem' }}>\n                        {data.cards.map((card, index) => (\n                            <div key={card.id} className=\"kgt-card-item\">\n                                <div className=\"kgt-card-header\">\n                                    <span className=\"card-number\">Card #{index + 1}</span>\n                                    <button\n                                        className=\"btn-remove\"\n                                        onClick={() => removeCard(index)}\n                                        title=\"Remove card\"\n                                    >\n                                        &times;\n                                    </button>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Image</label>\n                                    <ImageEditor\n                                        label=\"\"\n                                        value={card.image || ''}\n                                        onChange={(val) => handleCardChange(index, 'image', val)}\n                                        aspectRatio=\"landscape\"\n                                    />\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Title</label>\n                                    <input\n                                        type=\"text\"\n                                        className={`form-input ${card.title.length > 60 ? 'input-error' : ''}`}\n                                        value={card.title}\n                                        onChange={(e) => handleCardChange(index, 'title', e.target.value)}\n                                    />\n                                    <div className=\"input-counter\">\n                                        <span className={card.title.length > 60 ? 'text-danger' : ''}>\n                                            {card.title.length}/60\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Subtitle</label>\n                                    <input\n                                        type=\"text\"\n                                        className={`form-input ${card.subtitle.length > 120 ? 'input-error' : ''}`}\n                                        value={card.subtitle}\n                                        onChange={(e) => handleCardChange(index, 'subtitle', e.target.value)}\n                                    />\n                                    <div className=\"input-counter\">\n                                        <span className={card.subtitle.length > 120 ? 'text-danger' : ''}>\n                                            {card.subtitle.length}/120\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n\n                    <button className=\"btn-add\" onClick={addCard} style={{ width: '100%', marginTop: '1.5rem' }}>\n                        + Add New Program Card\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default KhongGianThien12Editor\n","import React from 'react'\nimport './GhiDanhNhapHocEditor.css' // Reusing established styles for consistency\nimport { GhiDanhThienContent } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\nimport { useFormData } from '../../hooks/useFormData'\nimport FormRenderer from '../FormBuilder/FormRenderer'\nimport '../FormBuilder/FormRenderer.css'\n\ntype GhiDanhThienEditorProps = {\n    data: GhiDanhThienContent\n    onChange: (data: Partial<GhiDanhThienContent>) => void\n    onNavigate?: (page: any) => void\n}\n\nconst GhiDanhThienEditor: React.FC<GhiDanhThienEditorProps> = ({ data, onChange, onNavigate }) => {\n\n    const { forms } = useFormData();\n    const selectedForm = forms.find(f => f.id === data.formId);\n\n    // Auto-sync form snippet if it's stale (MTC-BDPQ-035)\n    React.useEffect(() => {\n        if (data.formId && selectedForm) {\n            const currentSnippetStr = JSON.stringify(data.form);\n            const masterStr = JSON.stringify(selectedForm);\n            if (currentSnippetStr !== masterStr) {\n                console.log('[CMS][SYNC] Form snapshot is stale, updating draft...');\n                onChange({ form: selectedForm });\n            }\n        }\n    }, [data.formId, selectedForm, data.form, onChange]);\n\n    const handleFormSelect = (formId: string) => {\n        const fullForm = forms.find(f => f.id === formId);\n        onChange({ formId, form: fullForm });\n    };\n\n    return (\n        <div className=\"ghi-danh-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Ghi Danh Thin (Page 3)</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Update registration form fields and section content</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                {/* General Content */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">General Information</div>\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                    </div>\n                    <ImageEditor\n                        label=\"Desktop Featured Image\"\n                        hint=\"The large image shown on the left side of the form on desktop\"\n                        value={data.desktopImage}\n                        onChange={(val) => onChange({ desktopImage: val })}\n                        aspectRatio=\"portrait\"\n                    />\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Submit Button Label</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.submitLabel}\n                            onChange={(e) => onChange({ submitLabel: e.target.value })}\n                        />\n                    </div>\n                </div>\n\n                {/* Form Selection */}\n                <div className=\"editor-section\">\n                    <div className=\"editor-section-title\">Form Selection</div>\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Select Form from Form Builder</label>\n                        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', marginBottom: '1rem' }}>\n                            <select\n                                className=\"form-input\"\n                                value={data.formId || ''}\n                                onChange={(e) => handleFormSelect(e.target.value)}\n                                style={{ flex: 1 }}\n                            >\n                                <option value=\"\">-- Choose a Form --</option>\n                                {forms.map(form => (\n                                    <option key={form.id} value={form.id}>{form.title}</option>\n                                ))}\n                            </select>\n                            <button\n                                onClick={() => onNavigate?.('form_builder')}\n                                className=\"btn-secondary\"\n                                style={{\n                                    textDecoration: 'none',\n                                    padding: '8px 12px',\n                                    backgroundColor: '#f3f4f6',\n                                    border: '1px solid #d1d5db',\n                                    borderRadius: '4px',\n                                    fontSize: '14px',\n                                    color: '#374151',\n                                    cursor: 'pointer'\n                                }}\n                            >\n                                Open Form Builder\n                            </button>\n                        </div>\n\n                        {selectedForm ? (\n                            <div className=\"form-preview-container\" style={{\n                                padding: '1.5rem',\n                                border: '1px solid #e5e7eb',\n                                borderRadius: '8px',\n                                backgroundColor: '#f9fafb'\n                            }}>\n                                <h4 style={{ marginTop: 0, marginBottom: '1rem', color: '#6b7280', fontSize: '12px', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                                    Preview (Read Only)\n                                </h4>\n                                <FormRenderer form={selectedForm} disabled={true} />\n                            </div>\n                        ) : (\n                            <div style={{\n                                padding: '2rem',\n                                textAlign: 'center',\n                                border: '1px dashed #d1d5db',\n                                borderRadius: '8px',\n                                color: '#9ca3af'\n                            }}>\n                                Select a form to see preview\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default GhiDanhThienEditor\n","import React from \"react\"\nimport \"./ChuongTrinhSoTrungDangEditor.css\"\nimport { ChuongTrinhSoTrungDangContent } from \"../../contexts/types\"\nimport ImageEditor from \"./ImageEditor\"\nimport SectionLockControl from './SectionLockControl'\n\ntype Props = {\n  data: ChuongTrinhSoTrungDangContent\n  onChange: (data: Partial<ChuongTrinhSoTrungDangContent>) => void\n}\n\nconst ChuongTrinhSoTrungDangEditor: React.FC<Props> = ({ data, onChange }) => {\n\n  const updateMeta = (key: \"duration\" | \"schedule\", value: any) => {\n    onChange({\n      meta: {\n        ...data.meta,\n        [key]: value\n      }\n    })\n  }\n\n  const updateCurriculum = (side: \"left\" | \"right\", index: number, value: string) => {\n    const updated = [...data.curriculum[side]]\n    updated[index] = value\n\n    onChange({\n      curriculum: {\n        ...data.curriculum,\n        [side]: updated\n      }\n    })\n  }\n\n  const addCurriculumItem = (side: \"left\" | \"right\") => {\n    onChange({\n      curriculum: {\n        ...data.curriculum,\n        [side]: [...data.curriculum[side], \"\"]\n      }\n    })\n  }\n\n  const removeCurriculumItem = (side: \"left\" | \"right\", index: number) => {\n    onChange({\n      curriculum: {\n        ...data.curriculum,\n        [side]: data.curriculum[side].filter((_, i) => i !== index)\n      }\n    })\n  }\n\n  return (\n    <div className=\"ct-editor\">\n      <div className=\"editor-header-title\">\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <h2>Edit Chng Trnh S Trung ng</h2>\n          <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n        </div>\n        <p className=\"editor-subtitle\">\n          Update program content, schedule and curriculum\n        </p>\n      </div>\n\n      <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n\n        {/* GENERAL */}\n        <div className=\"editor-section\">\n          <div className=\"editor-section-title\">General Content</div>\n\n          <div className=\"form-group\">\n            <label className=\"form-label\">Section Title</label>\n            <input\n              className={`form-input ${data.title.length > 80 ? 'input-error' : ''}`}\n              value={data.title}\n              onChange={(e) => onChange({ title: e.target.value })}\n            />\n            <div className=\"input-counter\">\n              <span className={data.title.length > 80 ? 'text-danger' : ''}>\n                {data.title.length}/80\n              </span>\n            </div>\n          </div>\n\n          <ImageEditor\n            label=\"Featured Image\"\n            hint=\"Left-side image on desktop\"\n            value={data.image.src}\n            onChange={(val) =>\n              onChange({\n                image: { ...data.image, src: val }\n              })\n            }\n            aspectRatio=\"portrait\"\n          />\n\n          <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n            <label className=\"form-label\">Image Position (Desktop)</label>\n            <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n              <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                <input\n                  type=\"radio\"\n                  name=\"ct-img-pos\"\n                  checked={!data.imagePosition || data.imagePosition === 'left'}\n                  onChange={() => onChange({ imagePosition: 'left' })}\n                />\n                Image Left (default)\n              </label>\n              <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                <input\n                  type=\"radio\"\n                  name=\"ct-img-pos\"\n                  checked={data.imagePosition === 'right'}\n                  onChange={() => onChange({ imagePosition: 'right' })}\n                />\n                Image Right\n              </label>\n            </div>\n          </div>\n        </div>\n\n        {/* META */}\n        <div className=\"editor-section\">\n          <div className=\"editor-section-title\">Program Information</div>\n\n          <div className=\"form-group\">\n            <label className=\"form-label\">Duration</label>\n            <input\n              className={`form-input ${data.meta.duration.length > 60 ? 'input-error' : ''}`}\n              value={data.meta.duration}\n              onChange={(e) => updateMeta(\"duration\", e.target.value)}\n            />\n            <div className=\"input-counter\">\n              <span className={data.meta.duration.length > 60 ? 'text-danger' : ''}>\n                {data.meta.duration.length}/60\n              </span>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"form-label\">Schedule</label>\n            <div className=\"options-list\">\n              {data.meta.schedule.map((line, i) => (\n                <div key={i} className=\"option-item-group\">\n                  <div className=\"option-item\">\n                    <input\n                      className={`form-input ${line.length > 100 ? 'input-error' : ''}`}\n                      value={line}\n                      onChange={(e) => {\n                        const updated = [...data.meta.schedule]\n                        updated[i] = e.target.value\n                        updateMeta(\"schedule\", updated)\n                      }}\n                    />\n                    <button\n                      className=\"btn-remove\"\n                      onClick={() => {\n                        if (window.confirm('Delete this schedule line?')) {\n                          updateMeta(\n                            \"schedule\",\n                            data.meta.schedule.filter((_, idx) => idx !== i)\n                          )\n                        }\n                      }}\n                      title=\"Delete Schedule Line\"\n                    >\n                      <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                        <polyline points=\"3 6 5 6 21 6\"></polyline>\n                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                      </svg>\n                    </button>\n                  </div>\n                  <div className=\"input-counter\">\n                    <span className={line.length > 100 ? 'text-danger' : ''}>\n                      {line.length}/100\n                    </span>\n                  </div>\n                </div>\n              ))}\n              <button\n                className=\"btn-add\"\n                onClick={() => updateMeta(\"schedule\", [...data.meta.schedule, \"\"])}\n              >\n                + Add Schedule Line\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* CURRICULUM */}\n        <div className=\"editor-section\">\n          <div className=\"editor-section-title\">Curriculum</div>\n\n          <div className=\"field-grid\">\n\n            {/* LEFT */}\n            <div>\n              <label className=\"form-label\">Left Column</label>\n              <div className=\"options-list\">\n                {data.curriculum.left.map((item, i) => (\n                  <div key={i} className=\"option-item-group\">\n                    <div className=\"option-item\">\n                      <input\n                        className={`form-input ${item.length > 100 ? 'input-error' : ''}`}\n                        value={item}\n                        onChange={(e) =>\n                          updateCurriculum(\"left\", i, e.target.value)\n                        }\n                      />\n                      <button\n                        className=\"btn-remove\"\n                        onClick={() => removeCurriculumItem(\"left\", i)}\n                      >\n                        \n                      </button>\n                    </div>\n                    <div className=\"input-counter\">\n                      <span className={item.length > 100 ? 'text-danger' : ''}>\n                        {item.length}/100\n                      </span>\n                    </div>\n                  </div>\n                ))}\n                <button\n                  className=\"btn-add\"\n                  onClick={() => addCurriculumItem(\"left\")}\n                >\n                  + Add Item\n                </button>\n              </div>\n            </div>\n\n            {/* RIGHT */}\n            <div>\n              <label className=\"form-label\">Right Column</label>\n              <div className=\"options-list\">\n                {data.curriculum.right.map((item, i) => (\n                  <div key={i} className=\"option-item-group\">\n                    <div className=\"option-item\">\n                      <input\n                        className={`form-input ${item.length > 100 ? 'input-error' : ''}`}\n                        value={item}\n                        onChange={(e) =>\n                          updateCurriculum(\"right\", i, e.target.value)\n                        }\n                      />\n                      <button\n                        className=\"btn-remove\"\n                        onClick={() => removeCurriculumItem(\"right\", i)}\n                      >\n                        \n                      </button>\n                    </div>\n                    <div className=\"input-counter\">\n                      <span className={item.length > 100 ? 'text-danger' : ''}>\n                        {item.length}/100\n                      </span>\n                    </div>\n                  </div>\n                ))}\n                <button\n                  className=\"btn-add\"\n                  onClick={() => addCurriculumItem(\"right\")}\n                >\n                  + Add Item\n                </button>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n      </div>\n    </div>\n  )\n}\n\nexport default ChuongTrinhSoTrungDangEditor\n","import React, { useState } from 'react'\nimport './NienKhoaEditor.css'\nimport { Page4NienKhoaContent } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport PopupDynamic from '../modals/PopupDynamic'\nimport SectionLockControl from './SectionLockControl'\n\ntype NienKhoaEditorProps = {\n    data: Page4NienKhoaContent\n    onChange: (data: Partial<Page4NienKhoaContent>) => void\n}\n\nconst NienKhoaEditor: React.FC<NienKhoaEditorProps> = ({ data, onChange }) => {\n    const [editingBlockId, setEditingBlockId] = useState<string | null>(null)\n    const [deleteConfirmId, setDeleteConfirmId] = useState<string | null>(null)\n\n    const updateBlock = (blockId: string, updates: any) => {\n        const updatedBlocks = data.blocks.map(block =>\n            block.id === blockId ? { ...block, ...updates } : block\n        )\n        onChange({ blocks: updatedBlocks })\n    }\n\n    const addBlock = () => {\n        const newBlock = {\n            id: `nk-block-${Date.now()}`,\n            type: 'course' as const,\n            title: 'New Block',\n            imageDesktop: '',\n            courses: []\n        }\n        onChange({ blocks: [...data.blocks, newBlock] as any })\n        setEditingBlockId(newBlock.id)\n    }\n\n    const removeBlock = (blockId: string) => {\n        const updatedBlocks = data.blocks.filter(block => block.id !== blockId)\n        onChange({ blocks: updatedBlocks })\n    }\n\n    const addScheduleItem = (blockId: string) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'schedule') {\n            const newItem = {\n                id: `day-${Date.now()}`,\n                dayLabel: 'New Day',\n                details: ['New schedule item']\n            }\n            updateBlock(blockId, {\n                schedules: {\n                    ...block.schedules,\n                    items: [...block.schedules.items, newItem]\n                }\n            })\n        }\n    }\n\n    const removeScheduleItem = (blockId: string, itemId: string) => {\n        if (!window.confirm('Delete this schedule?')) return\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'schedule') {\n            const updatedItems = block.schedules.items.filter(item => item.id !== itemId)\n            updateBlock(blockId, {\n                schedules: {\n                    ...block.schedules,\n                    items: updatedItems\n                }\n            })\n        }\n    }\n\n    const removeScheduleDetail = (blockId: string, itemIndex: number, detailIndex: number) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'schedule') {\n            const updatedItems = [...block.schedules.items]\n            const updatedDetails = updatedItems[itemIndex].details.filter((_, i) => i !== detailIndex)\n            updatedItems[itemIndex] = { ...updatedItems[itemIndex], details: updatedDetails }\n            updateBlock(blockId, {\n                schedules: { ...block.schedules, items: updatedItems }\n            })\n        }\n    }\n\n    const addScheduleDetail = (blockId: string, itemIndex: number) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'schedule') {\n            const updatedItems = [...block.schedules.items]\n            updatedItems[itemIndex] = {\n                ...updatedItems[itemIndex],\n                details: [...updatedItems[itemIndex].details, 'New schedule item']\n            }\n            updateBlock(blockId, {\n                schedules: { ...block.schedules, items: updatedItems }\n            })\n        }\n    }\n\n    const addCourse = (blockId: string) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'course') {\n            const newCourse = {\n                id: `c-${Date.now()}`,\n                title: 'New Course Title',\n                description: 'Course description...'\n            }\n            updateBlock(blockId, {\n                courses: [...block.courses, newCourse]\n            })\n        }\n    }\n\n    const removeCourse = (blockId: string, courseId: string) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'course') {\n            const updatedCourses = block.courses.filter(c => c.id !== courseId)\n            updateBlock(blockId, { courses: updatedCourses })\n        }\n    }\n\n    const updateCourse = (blockId: string, courseId: string, updates: any) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'course') {\n            const updatedCourses = block.courses.map(c =>\n                c.id === courseId ? { ...c, ...updates } : c\n            )\n            updateBlock(blockId, { courses: updatedCourses })\n        }\n    }\n\n    return (\n        <div className=\"nien-khoa-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Nin Kha Content</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage schedule and course blocks</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Nin Kha Blocks</h3>\n                        <button className=\"btn-add-item\" onClick={addBlock}>\n                            + Add Block\n                        </button>\n                    </div>\n\n                    <div className=\"blocks-list\">\n                        {data.blocks.map((block) => (\n                            <div key={block.id} className={`block-card ${editingBlockId === block.id ? 'active' : ''}`}>\n                                <div className=\"block-card-header\">\n                                    <div className=\"block-info\">\n                                        <span className=\"block-type-badge\">{block.type}</span>\n                                        <span className=\"item-label\">{block.title}</span>\n                                    </div>\n                                    <div className=\"item-actions\">\n                                        <button\n                                            className=\"btn-action edit\"\n                                            onClick={() => setEditingBlockId(editingBlockId === block.id ? null : block.id)}\n                                        >\n                                            {editingBlockId === block.id ? 'Close' : 'Edit'}\n                                        </button>\n                                        <button\n                                            className=\"btn-action delete\"\n                                            onClick={() => setDeleteConfirmId(block.id)}\n                                        >\n                                            Delete\n                                        </button>\n                                    </div>\n                                </div>\n\n                                {editingBlockId === block.id && (\n                                    <div className=\"block-item-editor\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Block Title</label>\n                                            <input\n                                                type=\"text\"\n                                                className=\"form-input\"\n                                                value={block.title}\n                                                onChange={(e) => updateBlock(block.id, { title: e.target.value })}\n                                            />\n                                        </div>\n\n                                        {block.imageDesktop && (\n                                            <ImageEditor\n                                                label=\"Desktop Image\"\n                                                value={block.imageDesktop}\n                                                onChange={(val) => updateBlock(block.id, { imageDesktop: val })}\n                                                aspectRatio=\"landscape\"\n                                            />\n                                        )}\n\n                                        {(block as any).imageMobile && (\n                                            <ImageEditor\n                                                label=\"Mobile Image\"\n                                                value={(block as any).imageMobile}\n                                                onChange={(val) => updateBlock(block.id, { imageMobile: val })}\n                                                aspectRatio=\"portrait\"\n                                            />\n                                        )}\n\n                                        <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                                            <label className=\"form-label\">Image Position (Desktop)</label>\n                                            <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                                                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                                    <input\n                                                        type=\"radio\"\n                                                        name={`block-pos-${block.id}`}\n                                                        checked={!block.imagePosition || block.imagePosition === 'right'}\n                                                        onChange={() => updateBlock(block.id, { imagePosition: 'right' })}\n                                                    />\n                                                    Image Right (default)\n                                                </label>\n                                                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                                    <input\n                                                        type=\"radio\"\n                                                        name={`block-pos-${block.id}`}\n                                                        checked={block.imagePosition === 'left'}\n                                                        onChange={() => updateBlock(block.id, { imagePosition: 'left' })}\n                                                    />\n                                                    Image Left\n                                                </label>\n                                            </div>\n                                        </div>\n\n                                        {block.type === 'schedule' && (\n                                            <div className=\"sub-section\">\n                                                <div className=\"sub-section-header\">\n                                                    <h4>Schedule Settings</h4>\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label className=\"form-label\">Schedule Heading</label>\n                                                    <input\n                                                        type=\"text\"\n                                                        className=\"form-input\"\n                                                        value={block.schedules.heading}\n                                                        onChange={(e) => updateBlock(block.id, {\n                                                            schedules: { ...block.schedules, heading: e.target.value }\n                                                        })}\n                                                    />\n                                                </div>\n                                                <div className=\"sub-section-header\">\n                                                    <h4>Schedule Items</h4>\n                                                    <div className=\"sub-section-actions\">\n                                                        <button className=\"btn-mini-add\" onClick={() => addScheduleItem(block.id)}>\n                                                            + Add Schedule\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                                {block.schedules.items.map((item, itemIndex) => (\n                                                    <div key={item.id} className=\"schedule-edit-card\">\n                                                        <div className=\"mini-item-row\" style={{ alignItems: 'center' }}>\n                                                            <input\n                                                                type=\"text\"\n                                                                className=\"form-input mini\"\n                                                                placeholder=\"Day Label\"\n                                                                value={item.dayLabel}\n                                                                onChange={(e) => {\n                                                                    const updatedItems = [...block.schedules.items]\n                                                                    updatedItems[itemIndex] = { ...item, dayLabel: e.target.value }\n                                                                    updateBlock(block.id, {\n                                                                        schedules: { ...block.schedules, items: updatedItems }\n                                                                    })\n                                                                }}\n                                                            />\n                                                            <div className=\"sub-section-actions\">\n                                                                <button\n                                                                    className=\"btn-mini-add\"\n                                                                    onClick={() => addScheduleDetail(block.id, itemIndex)}\n                                                                >\n                                                                    + Add Detail\n                                                                </button>\n                                                                <button\n                                                                    className=\"btn-mini-delete\"\n                                                                    onClick={() => removeScheduleItem(block.id, item.id)}\n                                                                    title=\"Delete Schedule\"\n                                                                >\n                                                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                    </svg>\n                                                                </button>\n                                                            </div>\n                                                        </div>\n                                                        <div className=\"schedule-details\">\n                                                            <h5 style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.75rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                                                                Details\n                                                            </h5>\n                                                        </div>\n                                                        {item.details.map((detail, detailIndex) => (\n                                                            <div key={detailIndex} className=\"mini-item-row\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    className=\"form-input mini\"\n                                                                    value={detail}\n                                                                    onChange={(e) => {\n                                                                        const updatedItems = [...block.schedules.items]\n                                                                        const updatedDetails = [...item.details]\n                                                                        updatedDetails[detailIndex] = e.target.value\n                                                                        updatedItems[itemIndex] = { ...item, details: updatedDetails }\n                                                                        updateBlock(block.id, {\n                                                                            schedules: { ...block.schedules, items: updatedItems }\n                                                                        })\n                                                                    }}\n                                                                />\n                                                                <button\n                                                                    className=\"btn-mini-delete\"\n                                                                    onClick={() => removeScheduleDetail(block.id, itemIndex, detailIndex)}\n                                                                    title=\"Delete Detail\"\n                                                                >\n                                                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                    </svg>\n                                                                </button>\n                                                            </div>\n                                                        ))}\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        )}\n\n                                        {block.type === 'course' && (\n                                            <div className=\"sub-section\">\n                                                <div className=\"sub-section-header\">\n                                                    <h4>Courses</h4>\n                                                    <button className=\"btn-mini-add\" onClick={() => addCourse(block.id)}>\n                                                        + Add Course\n                                                    </button>\n                                                </div>\n                                                <div className=\"courses-editor-list\">\n                                                    {block.courses.map((course) => (\n                                                        <div key={course.id} className=\"course-edit-card\">\n                                                            <div className=\"mini-item-row\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    className=\"form-input mini\"\n                                                                    placeholder=\"Course Title\"\n                                                                    value={course.title}\n                                                                    onChange={(e) => updateCourse(block.id, course.id, { title: e.target.value })}\n                                                                />\n                                                                <button\n                                                                    className=\"btn-mini-delete\"\n                                                                    onClick={() => removeCourse(block.id, course.id)}\n                                                                    title=\"Delete Course\"\n                                                                >\n                                                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                    </svg>\n                                                                </button>\n                                                            </div>\n                                                            <textarea\n                                                                className=\"form-input\"\n                                                                rows={3}\n                                                                placeholder=\"Course Description\"\n                                                                value={course.description}\n                                                                onChange={(e) => updateCourse(block.id, course.id, { description: e.target.value })}\n                                                            />\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            <PopupDynamic\n                isOpen={!!deleteConfirmId}\n                onClose={() => setDeleteConfirmId(null)}\n                title=\"Delete Block?\"\n                subtitle={`Are you sure you want to delete the block \"${data.blocks.find(b => b.id === deleteConfirmId)?.title}\"? This will remove all its content permanently.`}\n                type=\"error\"\n                buttons={[\n                    {\n                        buttonText: \"Yes, Delete Block\",\n                        buttonTextActive: \"Deleting...\",\n                        buttonTextResponse: \"Deleted!\",\n                        variant: \"danger\",\n                        onClick: async () => {\n                            if (deleteConfirmId) {\n                                removeBlock(deleteConfirmId);\n                                setDeleteConfirmId(null);\n                            }\n                        }\n                    },\n                    {\n                        buttonText: \"Cancel\",\n                        variant: \"secondary\",\n                        onClick: () => setDeleteConfirmId(null)\n                    }\n                ]}\n            />\n        </div>\n    )\n}\n\nexport default NienKhoaEditor","import React from 'react'\nimport './NienKhoa2022Editor.css'\nimport { Page4aNienKhoa2022Content as NienKhoa2022Content } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype NienKhoa2022EditorProps = {\n    data: NienKhoa2022Content\n    onChange: (data: Partial<NienKhoa2022Content>) => void\n}\n\nconst NienKhoa2022Editor: React.FC<NienKhoa2022EditorProps> = ({ data, onChange }) => {\n\n    const updateCurriculumItem = (side: 'left' | 'right', index: number, value: string) => {\n        const newItems = [...data.curriculum[side].items]\n        newItems[index] = value\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: {\n                    ...data.curriculum[side],\n                    items: newItems\n                }\n            }\n        })\n    }\n\n    const addCurriculumItem = (side: 'left' | 'right') => {\n        const newItems = [...data.curriculum[side].items, 'New curriculum item']\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: {\n                    ...data.curriculum[side],\n                    items: newItems\n                }\n            }\n        })\n    }\n\n    const removeCurriculumItem = (side: 'left' | 'right', index: number) => {\n        const newItems = data.curriculum[side].items.filter((_, i) => i !== index)\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: {\n                    ...data.curriculum[side],\n                    items: newItems\n                }\n            }\n        })\n    }\n\n    return (\n        <div className=\"nien-khoa-2022-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Nin Kha 2022-2025</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage curriculum content and images</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.title.length > 80 ? 'input-error' : ''}`}\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.title.length > 80 ? 'text-danger' : ''}>\n                                {data.title.length}/80\n                            </span>\n                        </div>\n                    </div>\n\n                    <ImageEditor\n                        label=\"Desktop Image\"\n                        value={data.imageDesktop}\n                        onChange={(val) => onChange({ imageDesktop: val })}\n                        aspectRatio=\"landscape\"\n                    />\n\n                    <ImageEditor\n                        label=\"Mobile Image\"\n                        value={data.imageMobile}\n                        onChange={(val) => onChange({ imageMobile: val })}\n                        aspectRatio=\"portrait\"\n                    />\n\n                    <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                        <label className=\"form-label\">Image Position (Desktop)</label>\n                        <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"nk2022-img-pos\"\n                                    checked={!data.imagePosition || data.imagePosition === 'left'}\n                                    onChange={() => onChange({ imagePosition: 'left' })}\n                                />\n                                Image Left (default)\n                            </label>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"nk2022-img-pos\"\n                                    checked={data.imagePosition === 'right'}\n                                    onChange={() => onChange({ imagePosition: 'right' })}\n                                />\n                                Image Right\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Curriculum Content</h3>\n                    </div>\n\n                    <div className=\"curriculum-grid\">\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Left Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('left')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.left.items.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('left', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('left', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Right Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('right')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.right.items.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('right', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('right', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default NienKhoa2022Editor","import React from 'react'\nimport './NienKhoa2019Editor.css'\nimport { Page4bNienKhoa2019Content as NienKhoa2019Content } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype NienKhoa2019EditorProps = {\n    data: NienKhoa2019Content\n    onChange: (data: Partial<NienKhoa2019Content>) => void\n}\n\nconst NienKhoa2019Editor: React.FC<NienKhoa2019EditorProps> = ({ data, onChange }) => {\n\n    const updateCurriculumItem = (side: 'left' | 'right', index: number, value: string) => {\n        const newItems = [...data.curriculum[side].items]\n        newItems[index] = value\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: {\n                    ...data.curriculum[side],\n                    items: newItems\n                }\n            }\n        })\n    }\n\n    const addCurriculumItem = (side: 'left' | 'right') => {\n        const newItems = [...data.curriculum[side].items, 'New curriculum item']\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: {\n                    ...data.curriculum[side],\n                    items: newItems\n                }\n            }\n        })\n    }\n\n    const removeCurriculumItem = (side: 'left' | 'right', index: number) => {\n        const newItems = data.curriculum[side].items.filter((_, i) => i !== index)\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: {\n                    ...data.curriculum[side],\n                    items: newItems\n                }\n            }\n        })\n    }\n\n    return (\n        <div className=\"nien-khoa-2019-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Nin Kha 2019-2022</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage curriculum content and images</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.title.length > 80 ? 'input-error' : ''}`}\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.title.length > 80 ? 'text-danger' : ''}>\n                                {data.title.length}/80\n                            </span>\n                        </div>\n                    </div>\n\n                    <ImageEditor\n                        label=\"Desktop Image\"\n                        value={data.imageDesktop}\n                        onChange={(val) => onChange({ imageDesktop: val })}\n                        aspectRatio=\"landscape\"\n                    />\n\n                    <ImageEditor\n                        label=\"Mobile Image\"\n                        value={data.imageMobile}\n                        onChange={(val) => onChange({ imageMobile: val })}\n                        aspectRatio=\"portrait\"\n                    />\n\n                    <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                        <label className=\"form-label\">Image Position (Desktop)</label>\n                        <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"nk2019-img-pos\"\n                                    checked={!data.imagePosition || data.imagePosition === 'left'}\n                                    onChange={() => onChange({ imagePosition: 'left' })}\n                                />\n                                Image Left (default)\n                            </label>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"nk2019-img-pos\"\n                                    checked={data.imagePosition === 'right'}\n                                    onChange={() => onChange({ imagePosition: 'right' })}\n                                />\n                                Image Right\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Curriculum Content</h3>\n                    </div>\n\n                    <div className=\"curriculum-grid\">\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Left Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('left')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.left.items.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('left', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('left', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Right Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('right')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.right.items.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('right', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('right', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default NienKhoa2019Editor","import React from 'react'\nimport './ChuongTrinhCaoDangEditor.css'\nimport { ChuongTrinhCaoDangContent } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype ChuongTrinhCaoDangEditorProps = {\n    data: ChuongTrinhCaoDangContent\n    onChange: (data: Partial<ChuongTrinhCaoDangContent>) => void\n}\n\nconst ChuongTrinhCaoDangEditor: React.FC<ChuongTrinhCaoDangEditorProps> = ({ data, onChange }) => {\n\n    const updateScheduleItem = (index: number, value: string) => {\n        const newSchedule = [...data.meta.schedule]\n        newSchedule[index] = value\n        onChange({\n            meta: {\n                ...data.meta,\n                schedule: newSchedule\n            }\n        })\n    }\n\n    const addScheduleItem = () => {\n        onChange({\n            meta: {\n                ...data.meta,\n                schedule: [...data.meta.schedule, 'New schedule item']\n            }\n        })\n    }\n\n    const removeScheduleItem = (index: number) => {\n        if (!window.confirm('Delete this schedule?')) return\n        const newSchedule = data.meta.schedule.filter((_, i) => i !== index)\n        onChange({\n            meta: {\n                ...data.meta,\n                schedule: newSchedule\n            }\n        })\n    }\n\n    const updateCurriculumItem = (side: 'left' | 'right', index: number, value: string) => {\n        const newItems = [...data.curriculum[side]]\n        newItems[index] = value\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: newItems\n            }\n        })\n    }\n\n    const addCurriculumItem = (side: 'left' | 'right') => {\n        const newItems = [...data.curriculum[side], 'New curriculum item']\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: newItems\n            }\n        })\n    }\n\n    const removeCurriculumItem = (side: 'left' | 'right', index: number) => {\n        const newItems = data.curriculum[side].filter((_, i) => i !== index)\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: newItems\n            }\n        })\n    }\n\n    return (\n        <div className=\"chuong-trinh-cao-dang-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Chng Trnh Cao ng</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage program details and curriculum</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Program Title</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                    </div>\n\n                    <ImageEditor\n                        label=\"Program Image\"\n                        value={data.imageDesktop}\n                        onChange={(val) => onChange({ imageDesktop: val })}\n                        aspectRatio=\"landscape\"\n                    />\n\n                    <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                        <label className=\"form-label\">Image Position (Desktop)</label>\n                        <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"ct5b-img-pos\"\n                                    checked={!data.imagePosition || data.imagePosition === 'left'}\n                                    onChange={() => onChange({ imagePosition: 'left' })}\n                                />\n                                Image Left (default)\n                            </label>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"ct5b-img-pos\"\n                                    checked={data.imagePosition === 'right'}\n                                    onChange={() => onChange({ imagePosition: 'right' })}\n                                />\n                                Image Right\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Program Information</h3>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Duration</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.meta.duration}\n                            onChange={(e) => onChange({\n                                meta: { ...data.meta, duration: e.target.value }\n                            })}\n                        />\n                    </div>\n\n                    <div className=\"sub-section\">\n                        <div className=\"sub-section-header\">\n                            <h4>Schedule</h4>\n                            <button className=\"btn-mini-add\" onClick={addScheduleItem}>\n                                + Add Schedule\n                            </button>\n                        </div>\n                        <div className=\"schedule-items\">\n                            {data.meta.schedule.map((item, index) => (\n                                <div key={index} className=\"schedule-item\">\n                                    <div className=\"mini-item-row\">\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-input mini\"\n                                            value={item}\n                                            onChange={(e) => updateScheduleItem(index, e.target.value)}\n                                        />\n                                        <button\n                                            className=\"btn-mini-delete\"\n                                            onClick={() => removeScheduleItem(index)}\n                                            title=\"Delete Schedule\"\n                                        >\n                                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                            </svg>\n                                        </button>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Curriculum Content</h3>\n                    </div>\n\n                    <div className=\"curriculum-grid\">\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Left Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('left')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.left.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-row\">\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input mini\"\n                                                    value={item}\n                                                    onChange={(e) => updateCurriculumItem('left', index, e.target.value)}\n                                                />\n                                                <button\n                                                    className=\"btn-mini-delete\"\n                                                    onClick={() => removeCurriculumItem('left', index)}\n                                                >\n                                                    \n                                                </button>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Right Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('right')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.right.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-row\">\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input mini\"\n                                                    value={item}\n                                                    onChange={(e) => updateCurriculumItem('right', index, e.target.value)}\n                                                />\n                                                <button\n                                                    className=\"btn-mini-delete\"\n                                                    onClick={() => removeCurriculumItem('right', index)}\n                                                >\n                                                    \n                                                </button>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ChuongTrinhCaoDangEditor","import React, { useState } from 'react'\nimport './CaoDangNienKhoaEditor.css'\nimport { Page5cCaoDangNienKhoaContent } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport PopupDynamic from '../modals/PopupDynamic'\nimport SectionLockControl from './SectionLockControl'\n\ntype CaoDangNienKhoaEditorProps = {\n    data: Page5cCaoDangNienKhoaContent\n    onChange: (data: Partial<Page5cCaoDangNienKhoaContent>) => void\n}\n\nconst CaoDangNienKhoaEditor: React.FC<CaoDangNienKhoaEditorProps> = ({ data, onChange }) => {\n    const [editingBlockId, setEditingBlockId] = useState<string | null>(null)\n    const [deleteConfirmId, setDeleteConfirmId] = useState<string | null>(null)\n\n    const updateBlock = (blockId: string, updates: any) => {\n        const updatedBlocks = data.blocks.map(block =>\n            block.id === blockId ? { ...block, ...updates } : block\n        )\n        onChange({ blocks: updatedBlocks })\n    }\n\n    const addBlock = () => {\n        const newBlock = {\n            id: `cd-nk-block-${Date.now()}`,\n            type: 'course' as const,\n            title: 'New Block',\n            imageDesktop: '',\n            courses: []\n        }\n        onChange({ blocks: [...data.blocks, newBlock] as any })\n        setEditingBlockId(newBlock.id)\n    }\n\n    const removeBlock = (blockId: string) => {\n        const updatedBlocks = data.blocks.filter(block => block.id !== blockId)\n        onChange({ blocks: updatedBlocks })\n    }\n\n    const addScheduleItem = (blockId: string) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'schedule') {\n            const newItem = {\n                id: `day-${Date.now()}`,\n                dayLabel: 'New Day',\n                details: ['New schedule item']\n            }\n            updateBlock(blockId, {\n                schedules: {\n                    ...block.schedules,\n                    items: [...block.schedules.items, newItem]\n                }\n            })\n        }\n    }\n\n    const removeScheduleItem = (blockId: string, itemId: string) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'schedule') {\n            const updatedItems = block.schedules.items.filter(item => item.id !== itemId)\n            updateBlock(blockId, {\n                schedules: {\n                    ...block.schedules,\n                    items: updatedItems\n                }\n            })\n        }\n    }\n\n    const removeScheduleDetail = (blockId: string, itemIndex: number, detailIndex: number) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'schedule') {\n            const updatedItems = [...block.schedules.items]\n            const updatedDetails = updatedItems[itemIndex].details.filter((_, i) => i !== detailIndex)\n            updatedItems[itemIndex] = { ...updatedItems[itemIndex], details: updatedDetails }\n            updateBlock(blockId, {\n                schedules: { ...block.schedules, items: updatedItems }\n            })\n        }\n    }\n\n    const addScheduleDetail = (blockId: string, itemIndex: number) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'schedule') {\n            const updatedItems = [...block.schedules.items]\n            updatedItems[itemIndex] = {\n                ...updatedItems[itemIndex],\n                details: [...updatedItems[itemIndex].details, 'New schedule item']\n            }\n            updateBlock(blockId, {\n                schedules: { ...block.schedules, items: updatedItems }\n            })\n        }\n    }\n\n    const addCourse = (blockId: string) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'course') {\n            const newCourse = {\n                id: `c-${Date.now()}`,\n                title: 'New Course Title',\n                description: 'Course description...'\n            }\n            updateBlock(blockId, {\n                courses: [...block.courses, newCourse]\n            })\n        }\n    }\n\n    const removeCourse = (blockId: string, courseId: string) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'course') {\n            const updatedCourses = block.courses.filter(c => c.id !== courseId)\n            updateBlock(blockId, { courses: updatedCourses })\n        }\n    }\n\n    const updateCourse = (blockId: string, courseId: string, updates: any) => {\n        const block = data.blocks.find(b => b.id === blockId)\n        if (block && block.type === 'course') {\n            const updatedCourses = block.courses.map(c =>\n                c.id === courseId ? { ...c, ...updates } : c\n            )\n            updateBlock(blockId, { courses: updatedCourses })\n        }\n    }\n\n    return (\n        <div className=\"cao-dang-nien-khoa-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Cao ng Nin Kha Content</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage schedule and course blocks</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Cao ng Blocks</h3>\n                        <button className=\"btn-add-item\" onClick={addBlock}>\n                            + Add Block\n                        </button>\n                    </div>\n\n                    <div className=\"blocks-list\">\n                        {data.blocks.map((block) => (\n                            <div key={block.id} className={`block-card ${editingBlockId === block.id ? 'active' : ''}`}>\n                                <div className=\"block-card-header\">\n                                    <div className=\"block-info\">\n                                        <span className=\"block-type-badge\">{block.type}</span>\n                                        <span className=\"item-label\">{block.title}</span>\n                                    </div>\n                                    <div className=\"item-actions\">\n                                        <button\n                                            className=\"btn-action edit\"\n                                            onClick={() => setEditingBlockId(editingBlockId === block.id ? null : block.id)}\n                                        >\n                                            {editingBlockId === block.id ? 'Close' : 'Edit'}\n                                        </button>\n                                        <button\n                                            className=\"btn-action delete\"\n                                            onClick={() => setDeleteConfirmId(block.id)}\n                                        >\n                                            Delete\n                                        </button>\n                                    </div>\n                                </div>\n\n                                {editingBlockId === block.id && (\n                                    <div className=\"block-item-editor\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Block Title</label>\n                                            <input\n                                                type=\"text\"\n                                                className=\"form-input\"\n                                                value={block.title}\n                                                onChange={(e) => updateBlock(block.id, { title: e.target.value })}\n                                            />\n                                        </div>\n\n                                        {block.imageDesktop && (\n                                            <ImageEditor\n                                                label=\"Desktop Image\"\n                                                value={block.imageDesktop}\n                                                onChange={(val) => updateBlock(block.id, { imageDesktop: val })}\n                                                aspectRatio=\"landscape\"\n                                            />\n                                        )}\n\n                                        {(block as any).imageMobile && (\n                                            <ImageEditor\n                                                label=\"Mobile Image\"\n                                                value={(block as any).imageMobile}\n                                                onChange={(val) => updateBlock(block.id, { imageMobile: val })}\n                                                aspectRatio=\"portrait\"\n                                            />\n                                        )}\n\n                                        <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                                            <label className=\"form-label\">Image Position (Desktop)</label>\n                                            <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                                                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                                    <input\n                                                        type=\"radio\"\n                                                        name={`block-pos-${block.id}`}\n                                                        checked={!block.imagePosition || block.imagePosition === 'right'}\n                                                        onChange={() => updateBlock(block.id, { imagePosition: 'right' })}\n                                                    />\n                                                    Image Right (default)\n                                                </label>\n                                                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                                    <input\n                                                        type=\"radio\"\n                                                        name={`block-pos-${block.id}`}\n                                                        checked={block.imagePosition === 'left'}\n                                                        onChange={() => updateBlock(block.id, { imagePosition: 'left' })}\n                                                    />\n                                                    Image Left\n                                                </label>\n                                            </div>\n                                        </div>\n\n                                        {block.type === 'schedule' && (\n                                            <div className=\"sub-section\">\n                                                <div className=\"sub-section-header\">\n                                                    <h4>Schedule Settings</h4>\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label className=\"form-label\">Schedule Heading</label>\n                                                    <input\n                                                        type=\"text\"\n                                                        className=\"form-input\"\n                                                        value={block.schedules.heading}\n                                                        onChange={(e) => updateBlock(block.id, {\n                                                            schedules: { ...block.schedules, heading: e.target.value }\n                                                        })}\n                                                    />\n                                                </div>\n                                                <div className=\"sub-section-header\">\n                                                    <h4>Schedule Items</h4>\n                                                    <div className=\"sub-section-actions\">\n                                                        <button className=\"btn-mini-add\" onClick={() => addScheduleItem(block.id)}>\n                                                            + Add Schedule\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                                {block.schedules.items.map((item, itemIndex) => (\n                                                    <div key={item.id} className=\"schedule-edit-card\">\n                                                        <div className=\"mini-item-row\" style={{ alignItems: 'center' }}>\n                                                            <input\n                                                                type=\"text\"\n                                                                className=\"form-input mini\"\n                                                                placeholder=\"Day Label\"\n                                                                value={item.dayLabel}\n                                                                onChange={(e) => {\n                                                                    const updatedItems = [...block.schedules.items]\n                                                                    updatedItems[itemIndex] = { ...item, dayLabel: e.target.value }\n                                                                    updateBlock(block.id, {\n                                                                        schedules: { ...block.schedules, items: updatedItems }\n                                                                    })\n                                                                }}\n                                                            />\n                                                            <div className=\"sub-section-actions\">\n                                                                <button\n                                                                    className=\"btn-mini-add\"\n                                                                    onClick={() => addScheduleDetail(block.id, itemIndex)}\n                                                                >\n                                                                    + Add Detail\n                                                                </button>\n                                                                <button\n                                                                    className=\"btn-mini-delete\"\n                                                                    onClick={() => removeScheduleItem(block.id, item.id)}\n                                                                    title=\"Delete Schedule\"\n                                                                >\n                                                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                    </svg>\n                                                                </button>\n                                                            </div>\n                                                        </div>\n                                                        <div className=\"schedule-details\">\n                                                            <h5 style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.75rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                                                                Details\n                                                            </h5>\n                                                        </div>\n                                                        {item.details.map((detail, detailIndex) => (\n                                                            <div key={detailIndex} className=\"mini-item-row\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    className=\"form-input mini\"\n                                                                    value={detail}\n                                                                    onChange={(e) => {\n                                                                        const updatedItems = [...block.schedules.items]\n                                                                        const updatedDetails = [...item.details]\n                                                                        updatedDetails[detailIndex] = e.target.value\n                                                                        updatedItems[itemIndex] = { ...item, details: updatedDetails }\n                                                                        updateBlock(block.id, {\n                                                                            schedules: { ...block.schedules, items: updatedItems }\n                                                                        })\n                                                                    }}\n                                                                />\n                                                                <button\n                                                                    className=\"btn-mini-delete\"\n                                                                    onClick={() => removeScheduleDetail(block.id, itemIndex, detailIndex)}\n                                                                    title=\"Delete Detail\"\n                                                                >\n                                                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                    </svg>\n                                                                </button>\n                                                            </div>\n                                                        ))}\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        )}\n\n                                        {block.type === 'course' && (\n                                            <div className=\"sub-section\">\n                                                <div className=\"sub-section-header\">\n                                                    <h4>Courses</h4>\n                                                    <button className=\"btn-mini-add\" onClick={() => addCourse(block.id)}>\n                                                        + Add Course\n                                                    </button>\n                                                </div>\n                                                <div className=\"courses-editor-list\">\n                                                    {block.courses.map((course) => (\n                                                        <div key={course.id} className=\"course-edit-card\">\n                                                            <div className=\"mini-item-row\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    className=\"form-input mini\"\n                                                                    placeholder=\"Course Title\"\n                                                                    value={course.title}\n                                                                    onChange={(e) => updateCourse(block.id, course.id, { title: e.target.value })}\n                                                                />\n                                                                <button\n                                                                    className=\"btn-mini-delete\"\n                                                                    onClick={() => removeCourse(block.id, course.id)}\n                                                                    title=\"Delete Course\"\n                                                                >\n                                                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                                    </svg>\n                                                                </button>\n                                                            </div>\n                                                            <textarea\n                                                                className=\"form-input\"\n                                                                rows={3}\n                                                                placeholder=\"Course Description\"\n                                                                value={course.description}\n                                                                onChange={(e) => updateCourse(block.id, course.id, { description: e.target.value })}\n                                                            />\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            <PopupDynamic\n                isOpen={!!deleteConfirmId}\n                onClose={() => setDeleteConfirmId(null)}\n                title=\"Delete Block?\"\n                subtitle={`Are you sure you want to delete the block \"${data.blocks.find(b => b.id === deleteConfirmId)?.title}\"? This will remove all its content permanently.`}\n                type=\"error\"\n                buttons={[\n                    {\n                        buttonText: \"Yes, Delete Block\",\n                        buttonTextActive: \"Deleting...\",\n                        buttonTextResponse: \"Deleted!\",\n                        variant: \"danger\",\n                        onClick: async () => {\n                            if (deleteConfirmId) {\n                                removeBlock(deleteConfirmId);\n                                setDeleteConfirmId(null);\n                            }\n                        }\n                    },\n                    {\n                        buttonText: \"Cancel\",\n                        variant: \"secondary\",\n                        onClick: () => setDeleteConfirmId(null)\n                    }\n                ]}\n            />\n        </div>\n    )\n}\n\nexport default CaoDangNienKhoaEditor","import React from 'react'\nimport './CaoDang2022Editor.css'\nimport { Page5eChuongTrinhCaoDangContent as CaoDang2022Content } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype CaoDang2022EditorProps = {\n    data: CaoDang2022Content\n    onChange: (data: Partial<CaoDang2022Content>) => void\n}\n\nconst CaoDang2022Editor: React.FC<CaoDang2022EditorProps> = ({ data, onChange }) => {\n\n    const updateCurriculumItem = (side: 'left' | 'right', index: number, value: string) => {\n        const newItems = [...data.curriculum[side]]\n        newItems[index] = value\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: newItems\n            }\n        })\n    }\n\n    const addCurriculumItem = (side: 'left' | 'right') => {\n        const newItems = [...data.curriculum[side], 'New curriculum item']\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: newItems\n            }\n        })\n    }\n\n    const removeCurriculumItem = (side: 'left' | 'right', index: number) => {\n        const newItems = data.curriculum[side].filter((_, i) => i !== index)\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: newItems\n            }\n        })\n    }\n\n    return (\n        <div className=\"cao-dang-2022-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Cao ng 2022-2025</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage curriculum content and images</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.title.length > 80 ? 'input-error' : ''}`}\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.title.length > 80 ? 'text-danger' : ''}>\n                                {data.title.length}/80\n                            </span>\n                        </div>\n                    </div>\n\n                    <ImageEditor\n                        label=\"Desktop Image\"\n                        value={data.imageDesktop}\n                        onChange={(val) => onChange({ imageDesktop: val })}\n                        aspectRatio=\"landscape\"\n                    />\n\n                    <ImageEditor\n                        label=\"Mobile Image\"\n                        value={data.imageMobile}\n                        onChange={(val) => onChange({ imageMobile: val })}\n                        aspectRatio=\"portrait\"\n                    />\n\n                    <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                        <label className=\"form-label\">Image Position (Desktop)</label>\n                        <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"cd2022-img-pos\"\n                                    checked={!data.imagePosition || data.imagePosition === 'left'}\n                                    onChange={() => onChange({ imagePosition: 'left' })}\n                                />\n                                Image Left (default)\n                            </label>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"cd2022-img-pos\"\n                                    checked={data.imagePosition === 'right'}\n                                    onChange={() => onChange({ imagePosition: 'right' })}\n                                />\n                                Image Right\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Curriculum Content</h3>\n                    </div>\n\n                    <div className=\"curriculum-grid\">\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Left Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('left')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.left.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('left', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('left', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Right Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('right')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.right.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('right', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('right', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CaoDang2022Editor","import React from 'react'\nimport './CaoDang2019Editor.css'\nimport { Page5fChuongTrinhCaoDangContent as CaoDang2019Content } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype CaoDang2019EditorProps = {\n    data: CaoDang2019Content\n    onChange: (data: Partial<CaoDang2019Content>) => void\n}\n\nconst CaoDang2019Editor: React.FC<CaoDang2019EditorProps> = ({ data, onChange }) => {\n\n    const updateCurriculumItem = (side: 'left' | 'right', index: number, value: string) => {\n        const newItems = [...data.curriculum[side]]\n        newItems[index] = value\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: newItems\n            }\n        })\n    }\n\n    const addCurriculumItem = (side: 'left' | 'right') => {\n        const newItems = [...data.curriculum[side], 'New curriculum item']\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: newItems\n            }\n        })\n    }\n\n    const removeCurriculumItem = (side: 'left' | 'right', index: number) => {\n        const newItems = data.curriculum[side].filter((_, i) => i !== index)\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [side]: newItems\n            }\n        })\n    }\n\n    return (\n        <div className=\"cao-dang-2019-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Cao ng 2019-2022</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage curriculum content and images</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.title.length > 80 ? 'input-error' : ''}`}\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.title.length > 80 ? 'text-danger' : ''}>\n                                {data.title.length}/80\n                            </span>\n                        </div>\n                    </div>\n\n                    <ImageEditor\n                        label=\"Desktop Image\"\n                        value={data.imageDesktop}\n                        onChange={(val) => onChange({ imageDesktop: val })}\n                        aspectRatio=\"landscape\"\n                    />\n\n                    <ImageEditor\n                        label=\"Mobile Image\"\n                        value={data.imageMobile}\n                        onChange={(val) => onChange({ imageMobile: val })}\n                        aspectRatio=\"portrait\"\n                    />\n\n                    <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                        <label className=\"form-label\">Image Position (Desktop)</label>\n                        <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"cd2019-img-pos\"\n                                    checked={!data.imagePosition || data.imagePosition === 'left'}\n                                    onChange={() => onChange({ imagePosition: 'left' })}\n                                />\n                                Image Left (default)\n                            </label>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"cd2019-img-pos\"\n                                    checked={data.imagePosition === 'right'}\n                                    onChange={() => onChange({ imagePosition: 'right' })}\n                                />\n                                Image Right\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Curriculum Content</h3>\n                    </div>\n\n                    <div className=\"curriculum-grid\">\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Left Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('left')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.left.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('left', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('left', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Right Column</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('right')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.right.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('right', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('right', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CaoDang2019Editor","import React from 'react'\nimport './ChuyenKhoaATyDamEditor.css'\nimport { Page6aChuyenKhoaATyDamContent } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype ChuyenKhoaATyDamEditorProps = {\n    data: Page6aChuyenKhoaATyDamContent\n    onChange: (data: Partial<Page6aChuyenKhoaATyDamContent>) => void\n}\n\nconst ChuyenKhoaATyDamEditor: React.FC<ChuyenKhoaATyDamEditorProps> = ({ data, onChange }) => {\n\n    const updateScheduleItem = (index: number, value: string) => {\n        const newSchedule = [...data.meta.schedule]\n        newSchedule[index] = value\n        onChange({\n            meta: {\n                ...data.meta,\n                schedule: newSchedule\n            }\n        })\n    }\n\n    const addScheduleItem = () => {\n        onChange({\n            meta: {\n                ...data.meta,\n                schedule: [...data.meta.schedule, 'New schedule item']\n            }\n        })\n    }\n\n    const removeScheduleItem = (index: number) => {\n        if (!window.confirm('Delete this schedule?')) return\n        const newSchedule = data.meta.schedule.filter((_, i) => i !== index)\n        onChange({\n            meta: {\n                ...data.meta,\n                schedule: newSchedule\n            }\n        })\n    }\n\n    const updateCurriculumItem = (section: 'kosa' | 'abhidhamma', index: number, value: string) => {\n        const newItems = [...data.curriculum[section].items]\n        newItems[index] = value\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [section]: {\n                    ...data.curriculum[section],\n                    items: newItems\n                }\n            }\n        })\n    }\n\n    const addCurriculumItem = (section: 'kosa' | 'abhidhamma') => {\n        const newItems = [...data.curriculum[section].items, 'New curriculum item']\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [section]: {\n                    ...data.curriculum[section],\n                    items: newItems\n                }\n            }\n        })\n    }\n\n    const removeCurriculumItem = (section: 'kosa' | 'abhidhamma', index: number) => {\n        const newItems = data.curriculum[section].items.filter((_, i) => i !== index)\n        onChange({\n            curriculum: {\n                ...data.curriculum,\n                [section]: {\n                    ...data.curriculum[section],\n                    items: newItems\n                }\n            }\n        })\n    }\n\n    return (\n        <div className=\"chuyen-khoa-a-ty-dam-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Chuyn Khoa A T m</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage program details and specialized curriculum</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Program Title</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.title.length > 80 ? 'input-error' : ''}`}\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.title.length > 80 ? 'text-danger' : ''}>\n                                {data.title.length}/80\n                            </span>\n                        </div>\n                    </div>\n\n                    <ImageEditor\n                        label=\"Program Image\"\n                        value={data.image.src}\n                        onChange={(val) => onChange({\n                            image: { ...data.image, src: val }\n                        })}\n                        aspectRatio=\"landscape\"\n                    />\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Image Alt Text</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.image.alt}\n                            onChange={(e) => onChange({\n                                image: { ...data.image, alt: e.target.value }\n                            })}\n                        />\n                    </div>\n\n                    <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                        <label className=\"form-label\">Image Position (Desktop)</label>\n                        <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"ct6a-img-pos\"\n                                    checked={!data.imagePosition || data.imagePosition === 'left'}\n                                    onChange={() => onChange({ imagePosition: 'left' })}\n                                />\n                                Image Left (default)\n                            </label>\n                            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                <input\n                                    type=\"radio\"\n                                    name=\"ct6a-img-pos\"\n                                    checked={data.imagePosition === 'right'}\n                                    onChange={() => onChange({ imagePosition: 'right' })}\n                                />\n                                Image Right\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Program Information</h3>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Duration</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.meta.duration.length > 60 ? 'input-error' : ''}`}\n                            value={data.meta.duration}\n                            onChange={(e) => onChange({\n                                meta: { ...data.meta, duration: e.target.value }\n                            })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.meta.duration.length > 60 ? 'text-danger' : ''}>\n                                {data.meta.duration.length}/60\n                            </span>\n                        </div>\n                    </div>\n\n                    <div className=\"sub-section\">\n                        <div className=\"sub-section-header\">\n                            <h4>Schedule</h4>\n                            <button className=\"btn-mini-add\" onClick={addScheduleItem}>\n                                + Add Schedule\n                            </button>\n                        </div>\n                        <div className=\"schedule-items\">\n                            {data.meta.schedule.map((item, index) => (\n                                <div key={index} className=\"schedule-item\">\n                                    <div className=\"mini-item-container\">\n                                        <div className=\"mini-item-row\">\n                                            <input\n                                                type=\"text\"\n                                                className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                value={item}\n                                                onChange={(e) => updateScheduleItem(index, e.target.value)}\n                                            />\n                                            <button\n                                                className=\"btn-mini-delete\"\n                                                onClick={() => removeScheduleItem(index)}\n                                                title=\"Delete Schedule\"\n                                            >\n                                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                    <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                </svg>\n                                            </button>\n                                        </div>\n                                        <div className=\"input-counter\">\n                                            <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                {item.length}/100\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Curriculum Content</h3>\n                    </div>\n\n                    <div className=\"curriculum-grid\">\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Tng Cu X Lun</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('kosa')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Section Heading</label>\n                                    <input\n                                        type=\"text\"\n                                        className={`form-input ${data.curriculum.kosa.heading.length > 100 ? 'input-error' : ''}`}\n                                        value={data.curriculum.kosa.heading}\n                                        onChange={(e) => onChange({\n                                            curriculum: {\n                                                ...data.curriculum,\n                                                kosa: {\n                                                    ...data.curriculum.kosa,\n                                                    heading: e.target.value\n                                                }\n                                            }\n                                        })}\n                                    />\n                                    <div className=\"input-counter\">\n                                        <span className={data.curriculum.kosa.heading.length > 100 ? 'text-danger' : ''}>\n                                            {data.curriculum.kosa.heading.length}/100\n                                        </span>\n                                    </div>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.kosa.items.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('kosa', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('kosa', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"curriculum-column\">\n                            <div className=\"sub-section\">\n                                <div className=\"sub-section-header\">\n                                    <h4>Tng Vi Diu Php</h4>\n                                    <button className=\"btn-mini-add\" onClick={() => addCurriculumItem('abhidhamma')}>\n                                        + Add Item\n                                    </button>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Section Heading</label>\n                                    <input\n                                        type=\"text\"\n                                        className={`form-input ${data.curriculum.abhidhamma.heading.length > 100 ? 'input-error' : ''}`}\n                                        value={data.curriculum.abhidhamma.heading}\n                                        onChange={(e) => onChange({\n                                            curriculum: {\n                                                ...data.curriculum,\n                                                abhidhamma: {\n                                                    ...data.curriculum.abhidhamma,\n                                                    heading: e.target.value\n                                                }\n                                            }\n                                        })}\n                                    />\n                                    <div className=\"input-counter\">\n                                        <span className={data.curriculum.abhidhamma.heading.length > 100 ? 'text-danger' : ''}>\n                                            {data.curriculum.abhidhamma.heading.length}/100\n                                        </span>\n                                    </div>\n                                </div>\n                                <div className=\"curriculum-items\">\n                                    {data.curriculum.abhidhamma.items.map((item, index) => (\n                                        <div key={index} className=\"curriculum-item\">\n                                            <div className=\"mini-item-container\">\n                                                <div className=\"mini-item-row\">\n                                                    <input\n                                                        type=\"text\"\n                                                        className={`form-input mini ${item.length > 100 ? 'input-error' : ''}`}\n                                                        value={item}\n                                                        onChange={(e) => updateCurriculumItem('abhidhamma', index, e.target.value)}\n                                                    />\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeCurriculumItem('abhidhamma', index)}\n                                                    >\n                                                        \n                                                    </button>\n                                                </div>\n                                                <div className=\"input-counter\">\n                                                    <span className={item.length > 100 ? 'text-danger' : ''}>\n                                                        {item.length}/100\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ChuyenKhoaATyDamEditor","import React, { useState } from 'react'\nimport './ChuyenKhoaATyDamEditor.css'\nimport { Page6bNienKhoaContent } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport PopupDynamic from '../modals/PopupDynamic'\nimport SectionLockControl from './SectionLockControl'\n\ntype NienKhoaPage6EditorProps = {\n    data: Page6bNienKhoaContent\n    onChange: (data: Partial<Page6bNienKhoaContent>) => void\n}\n\nconst NienKhoaPage6Editor: React.FC<NienKhoaPage6EditorProps> = ({ data, onChange }) => {\n    const [deleteBlockIndex, setDeleteBlockIndex] = useState<number | null>(null);\n\n    const updateBlock = (blockIndex: number, updates: any) => {\n        const newBlocks = [...data.blocks]\n        newBlocks[blockIndex] = { ...newBlocks[blockIndex], ...updates }\n        onChange({ blocks: newBlocks })\n    }\n\n    const addBlock = () => {\n        const newBlock = {\n            id: `block-${Date.now()}`,\n            type: 'schedule' as const,\n            title: 'New Block',\n            imageDesktop: '',\n            imageMobile: '',\n            schedules: {\n                heading: 'New Schedule Heading',\n                items: []\n            }\n        }\n        onChange({ blocks: [...data.blocks, newBlock] })\n    }\n\n    const removeBlock = (blockIndex: number) => {\n        const newBlocks = data.blocks.filter((_, i) => i !== blockIndex)\n        onChange({ blocks: newBlocks })\n    }\n\n    const updateScheduleItem = (blockIndex: number, itemIndex: number, field: string, value: any) => {\n        const newBlocks = [...data.blocks]\n        const block = newBlocks[blockIndex]\n        if (block.type === 'schedule' && block.schedules) {\n            const newItems = [...block.schedules.items]\n            newItems[itemIndex] = { ...newItems[itemIndex], [field]: value }\n            newBlocks[blockIndex] = {\n                ...block,\n                schedules: {\n                    ...block.schedules,\n                    items: newItems\n                }\n            }\n            onChange({ blocks: newBlocks })\n        }\n    }\n\n    const addScheduleItem = (blockIndex: number) => {\n        const newBlocks = [...data.blocks]\n        const block = newBlocks[blockIndex]\n        if (block.type === 'schedule' && block.schedules) {\n            const newItem = {\n                id: `item-${Date.now()}`,\n                dayLabel: 'New Day',\n                details: ['New detail']\n            }\n            newBlocks[blockIndex] = {\n                ...block,\n                schedules: {\n                    ...block.schedules,\n                    items: [...block.schedules.items, newItem]\n                }\n            }\n            onChange({ blocks: newBlocks })\n        }\n    }\n\n    const removeScheduleItem = (blockIndex: number, itemIndex: number) => {\n        const newBlocks = [...data.blocks]\n        const block = newBlocks[blockIndex]\n        if (block.type === 'schedule' && block.schedules) {\n            const newItems = block.schedules.items.filter((_, i) => i !== itemIndex)\n            newBlocks[blockIndex] = {\n                ...block,\n                schedules: {\n                    ...block.schedules,\n                    items: newItems\n                }\n            }\n            onChange({ blocks: newBlocks })\n        }\n    }\n\n    const updateScheduleDetail = (blockIndex: number, itemIndex: number, detailIndex: number, value: string) => {\n        const newBlocks = [...data.blocks]\n        const block = newBlocks[blockIndex]\n        if (block.type === 'schedule' && block.schedules) {\n            const newItems = [...block.schedules.items]\n            const newDetails = [...newItems[itemIndex].details]\n            newDetails[detailIndex] = value\n            newItems[itemIndex] = { ...newItems[itemIndex], details: newDetails }\n            newBlocks[blockIndex] = {\n                ...block,\n                schedules: {\n                    ...block.schedules,\n                    items: newItems\n                }\n            }\n            onChange({ blocks: newBlocks })\n        }\n    }\n\n    const addScheduleDetail = (blockIndex: number, itemIndex: number) => {\n        const newBlocks = [...data.blocks]\n        const block = newBlocks[blockIndex]\n        if (block.type === 'schedule' && block.schedules) {\n            const newItems = [...block.schedules.items]\n            newItems[itemIndex] = {\n                ...newItems[itemIndex],\n                details: [...newItems[itemIndex].details, 'New detail']\n            }\n            newBlocks[blockIndex] = {\n                ...block,\n                schedules: {\n                    ...block.schedules,\n                    items: newItems\n                }\n            }\n            onChange({ blocks: newBlocks })\n        }\n    }\n\n    const removeScheduleDetail = (blockIndex: number, itemIndex: number, detailIndex: number) => {\n        const newBlocks = [...data.blocks]\n        const block = newBlocks[blockIndex]\n        if (block.type === 'schedule' && block.schedules) {\n            const newItems = [...block.schedules.items]\n            const newDetails = newItems[itemIndex].details.filter((_, i) => i !== detailIndex)\n            newItems[itemIndex] = { ...newItems[itemIndex], details: newDetails }\n            newBlocks[blockIndex] = {\n                ...block,\n                schedules: {\n                    ...block.schedules,\n                    items: newItems\n                }\n            }\n            onChange({ blocks: newBlocks })\n        }\n    }\n\n    const updateCourse = (blockIndex: number, courseIndex: number, field: string, value: string) => {\n        const newBlocks = [...data.blocks]\n        const block = newBlocks[blockIndex]\n        if (block.type === 'course' && block.courses) {\n            const newCourses = [...block.courses]\n            newCourses[courseIndex] = { ...newCourses[courseIndex], [field]: value }\n            newBlocks[blockIndex] = {\n                ...block,\n                courses: newCourses\n            }\n            onChange({ blocks: newBlocks })\n        }\n    }\n\n    const addCourse = (blockIndex: number) => {\n        const newBlocks = [...data.blocks]\n        const block = newBlocks[blockIndex]\n        if (block.type === 'course' && block.courses) {\n            const newCourse = {\n                id: `course-${Date.now()}`,\n                title: 'New Course',\n                description: 'New course description'\n            }\n            newBlocks[blockIndex] = {\n                ...block,\n                courses: [...block.courses, newCourse]\n            }\n            onChange({ blocks: newBlocks })\n        }\n    }\n\n    const removeCourse = (blockIndex: number, courseIndex: number) => {\n        const newBlocks = [...data.blocks]\n        const block = newBlocks[blockIndex]\n        if (block.type === 'course' && block.courses) {\n            const newCourses = block.courses.filter((_, i) => i !== courseIndex)\n            newBlocks[blockIndex] = {\n                ...block,\n                courses: newCourses\n            }\n            onChange({ blocks: newBlocks })\n        }\n    }\n\n    return (\n        <div className=\"chuyen-khoa-a-ty-dam-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Nin Kha Page 6</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage program blocks and content</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Content Blocks</h3>\n                        <button className=\"btn-mini-add\" onClick={addBlock}>\n                            + Add Block\n                        </button>\n                    </div>\n\n                    {data.blocks.map((block, blockIndex) => (\n                        <div key={block.id} className=\"form-section\">\n                            <div className=\"sub-section-header\">\n                                <h4>Block {blockIndex + 1}: {block.title}</h4>\n                                <button\n                                    className=\"btn-mini-delete\"\n                                    onClick={() => setDeleteBlockIndex(blockIndex)}\n                                    title=\"Delete Block\"\n                                >\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                    </svg>\n                                </button>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label className=\"form-label\">Block Title</label>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-input\"\n                                    value={block.title}\n                                    onChange={(e) => updateBlock(blockIndex, { title: e.target.value })}\n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label className=\"form-label\">Block Type</label>\n                                <select\n                                    className=\"form-input\"\n                                    value={block.type}\n                                    onChange={(e) => {\n                                        const newType = e.target.value as 'schedule' | 'course'\n                                        const updates: any = { type: newType }\n                                        if (newType === 'schedule') {\n                                            updates.schedules = { heading: 'Schedule Heading', items: [] }\n                                            delete updates.courses\n                                        } else {\n                                            updates.courses = []\n                                            delete updates.schedules\n                                        }\n                                        updateBlock(blockIndex, updates)\n                                    }}\n                                >\n                                    <option value=\"schedule\">Schedule</option>\n                                    <option value=\"course\">Course</option>\n                                </select>\n                            </div>\n\n                            <ImageEditor\n                                label=\"Desktop Image\"\n                                value={block.imageDesktop}\n                                onChange={(val) => updateBlock(blockIndex, { imageDesktop: val })}\n                                aspectRatio=\"landscape\"\n                            />\n\n                            {block.imageMobile !== undefined && (\n                                <ImageEditor\n                                    label=\"Mobile Image\"\n                                    value={block.imageMobile}\n                                    onChange={(val) => updateBlock(blockIndex, { imageMobile: val })}\n                                    aspectRatio=\"landscape\"\n                                />\n                            )}\n\n                            <div className=\"form-group\" style={{ marginTop: '1rem' }}>\n                                <label className=\"form-label\">Image Position (Desktop)</label>\n                                <div className=\"radio-group\" style={{ display: 'flex', gap: '1.5rem' }}>\n                                    <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                        <input\n                                            type=\"radio\"\n                                            name={`block-pos-${block.id}`}\n                                            checked={!block.imagePosition || block.imagePosition === 'right'}\n                                            onChange={() => updateBlock(blockIndex, { imagePosition: 'right' })}\n                                        />\n                                        Image Right (default)\n                                    </label>\n                                    <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem' }}>\n                                        <input\n                                            type=\"radio\"\n                                            name={`block-pos-${block.id}`}\n                                            checked={block.imagePosition === 'left'}\n                                            onChange={() => updateBlock(blockIndex, { imagePosition: 'left' })}\n                                        />\n                                        Image Left\n                                    </label>\n                                </div>\n                            </div>\n\n                            {block.type === 'schedule' && block.schedules && (\n                                <div className=\"sub-section\">\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">Schedule Heading</label>\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-input\"\n                                            value={block.schedules.heading}\n                                            onChange={(e) => updateBlock(blockIndex, {\n                                                schedules: { ...block.schedules, heading: e.target.value }\n                                            })}\n                                        />\n                                    </div>\n\n                                    <div className=\"sub-section-header\">\n                                        <h4>Schedule Items</h4>\n                                        <div className=\"sub-section-actions\">\n                                            <button className=\"btn-mini-add\" onClick={() => addScheduleItem(blockIndex)}>\n                                                + Add Schedule Item\n                                            </button>\n                                        </div>\n                                    </div>\n\n                                    {block.schedules.items.map((item, itemIndex) => (\n                                        <div key={item.id} className=\"curriculum-item\">\n                                            <div className=\"mini-item-row\" style={{ alignItems: 'center' }}>\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input mini\"\n                                                    placeholder=\"Day Label\"\n                                                    value={item.dayLabel}\n                                                    onChange={(e) => updateScheduleItem(blockIndex, itemIndex, 'dayLabel', e.target.value)}\n                                                />\n                                                <div className=\"sub-section-actions\">\n                                                    <button\n                                                        className=\"btn-mini-add\"\n                                                        onClick={() => addScheduleDetail(blockIndex, itemIndex)}\n                                                    >\n                                                        + Add Detail\n                                                    </button>\n                                                    <button\n                                                        className=\"btn-mini-delete\"\n                                                        onClick={() => removeScheduleItem(blockIndex, itemIndex)}\n                                                        title=\"Delete Schedule\"\n                                                    >\n                                                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                            <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                            <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                        </svg>\n                                                    </button>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"schedule-details\">\n                                                <h5 style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.75rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                                                    Details\n                                                </h5>\n                                                {item.details.map((detail, detailIndex) => (\n                                                    <div key={detailIndex} className=\"mini-item-row\">\n                                                        <input\n                                                            type=\"text\"\n                                                            className=\"form-input mini\"\n                                                            value={detail}\n                                                            onChange={(e) => updateScheduleDetail(blockIndex, itemIndex, detailIndex, e.target.value)}\n                                                        />\n                                                        <button\n                                                            className=\"btn-mini-delete\"\n                                                            onClick={() => removeScheduleDetail(blockIndex, itemIndex, detailIndex)}\n                                                            title=\"Delete Detail\"\n                                                        >\n                                                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                                <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                            </svg>\n                                                        </button>\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            )}\n\n                            {block.type === 'course' && block.courses && (\n                                <div className=\"sub-section\">\n                                    <div className=\"sub-section-header\">\n                                        <h4>Courses</h4>\n                                        <button className=\"btn-mini-add\" onClick={() => addCourse(blockIndex)}>\n                                            + Add Course\n                                        </button>\n                                    </div>\n\n                                    {block.courses.map((course, courseIndex) => (\n                                        <div key={course.id} className=\"curriculum-item\">\n                                            <div className=\"mini-item-row\">\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input mini\"\n                                                    placeholder=\"Course Title\"\n                                                    value={course.title}\n                                                    onChange={(e) => updateCourse(blockIndex, courseIndex, 'title', e.target.value)}\n                                                />\n                                                <button\n                                                    className=\"btn-mini-delete\"\n                                                    onClick={() => removeCourse(blockIndex, courseIndex)}\n                                                    title=\"Delete Course\"\n                                                >\n                                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                    </svg>\n                                                </button>\n                                            </div>\n                                            <textarea\n                                                className=\"form-input\"\n                                                placeholder=\"Course Description\"\n                                                value={course.description}\n                                                onChange={(e) => updateCourse(blockIndex, courseIndex, 'description', e.target.value)}\n                                                rows={3}\n                                            />\n                                        </div>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            <PopupDynamic\n                isOpen={deleteBlockIndex !== null}\n                onClose={() => setDeleteBlockIndex(null)}\n                title=\"Delete Block?\"\n                subtitle={`Are you sure you want to delete the block \"${deleteBlockIndex !== null ? data.blocks[deleteBlockIndex]?.title : ''}\"? This action cannot be undone.`}\n                type=\"error\"\n                buttons={[\n                    {\n                        buttonText: \"Yes, Delete Block\",\n                        buttonTextActive: \"Deleting...\",\n                        buttonTextResponse: \"Deleted!\",\n                        variant: \"danger\",\n                        onClick: async () => {\n                            if (deleteBlockIndex !== null) {\n                                removeBlock(deleteBlockIndex);\n                                setDeleteBlockIndex(null);\n                            }\n                        }\n                    },\n                    {\n                        buttonText: \"Cancel\",\n                        variant: \"secondary\",\n                        onClick: () => setDeleteBlockIndex(null)\n                    }\n                ]}\n            />\n        </div>\n    )\n}\n\nexport default NienKhoaPage6Editor","import React from 'react'\nimport './ChuyenKhoaATyDamEditor.css'\nimport { ProgramSectionEFContent } from '../../contexts/types'\nimport ImageEditor from './ImageEditor'\nimport SectionLockControl from './SectionLockControl'\n\ntype ProgramSectionEFEditorProps = {\n    data: ProgramSectionEFContent\n    onChange: (data: Partial<ProgramSectionEFContent>) => void\n}\n\nconst ProgramSectionEFEditor: React.FC<ProgramSectionEFEditorProps> = ({ data, onChange }) => {\n\n    const updateLink = (index: number, field: string, value: string) => {\n        const newLinks = [...data.links]\n        newLinks[index] = { ...newLinks[index], [field]: value }\n        onChange({ links: newLinks })\n    }\n\n    const addLink = () => {\n        const newLink = {\n            id: `ef-${Date.now()}`,\n            label: 'New Link',\n            href: '#'\n        }\n        onChange({ links: [...data.links, newLink] })\n    }\n\n    const removeLink = (index: number) => {\n        if (!window.confirm('Delete this link?')) return\n        const newLinks = data.links.filter((_, i) => i !== index)\n        onChange({ links: newLinks })\n    }\n\n    return (\n        <div className=\"chuyen-khoa-a-ty-dam-editor\">\n            <div className=\"editor-header-title\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <h2>Edit Program Section EF</h2>\n                    <SectionLockControl locked={data.locked} onToggle={(locked) => onChange({ locked })} />\n                </div>\n                <p className=\"editor-subtitle\">Manage program section content and links</p>\n            </div>\n\n            <div className={`editor-form ${data.locked ? 'locked-section' : ''}`} style={data.locked ? { pointerEvents: 'none', opacity: 0.6 } : {}}>\n                <div className=\"form-section\">\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Section Title</label>\n                        <input\n                            type=\"text\"\n                            className={`form-input ${data.title.length > 80 ? 'input-error' : ''}`}\n                            value={data.title}\n                            onChange={(e) => onChange({ title: e.target.value })}\n                        />\n                        <div className=\"input-counter\">\n                            <span className={data.title.length > 80 ? 'text-danger' : ''}>\n                                {data.title.length}/80\n                            </span>\n                        </div>\n                    </div>\n\n                    <ImageEditor\n                        label=\"Desktop Image\"\n                        value={data.images.desktop}\n                        onChange={(val) => onChange({\n                            images: { ...data.images, desktop: val }\n                        })}\n                        aspectRatio=\"landscape\"\n                    />\n\n                    <ImageEditor\n                        label=\"Mobile Image\"\n                        value={data.images.mobile}\n                        onChange={(val) => onChange({\n                            images: { ...data.images, mobile: val }\n                        })}\n                        aspectRatio=\"landscape\"\n                    />\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">Image Alt Text</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-input\"\n                            value={data.images.alt}\n                            onChange={(e) => onChange({\n                                images: { ...data.images, alt: e.target.value }\n                            })}\n                        />\n                    </div>\n                </div>\n\n                <div className=\"form-section\">\n                    <div className=\"section-header\">\n                        <h3 className=\"section-title\">Program Links</h3>\n                    </div>\n\n                    <div className=\"sub-section\">\n                        <div className=\"sub-section-header\">\n                            <h4>Links</h4>\n                            <button className=\"btn-mini-add\" onClick={addLink}>\n                                + Add Link\n                            </button>\n                        </div>\n                        <div className=\"schedule-items\">\n                            {data.links.map((link, index) => (\n                                <div key={link.id} className=\"schedule-item\">\n                                    <div className=\"mini-item-container\">\n                                        <div className=\"mini-item-row\">\n                                            <input\n                                                type=\"text\"\n                                                className={`form-input mini ${link.label.length > 60 ? 'input-error' : ''}`}\n                                                placeholder=\"Link Label\"\n                                                value={link.label}\n                                                onChange={(e) => updateLink(index, 'label', e.target.value)}\n                                            />\n                                            <input\n                                                type=\"text\"\n                                                className=\"form-input mini\"\n                                                placeholder=\"Link URL\"\n                                                value={link.href}\n                                                onChange={(e) => updateLink(index, 'href', e.target.value)}\n                                            />\n                                            <button\n                                                className=\"btn-mini-delete\"\n                                                onClick={() => removeLink(index)}\n                                                title=\"Delete Link\"\n                                            >\n                                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                    <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                </svg>\n                                            </button>\n                                        </div>\n                                        <div className=\"input-counter\">\n                                            <span className={link.label.length > 60 ? 'text-danger' : ''}>\n                                                {link.label.length}/60\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ProgramSectionEFEditor","/**\n * Mock Backend API for CMS\n * Mimics real API behavior with TypeScript types, logging, and artificial delays.\n */\n\n// --- Types ---\n\nexport interface Submission {\n    id: string;\n    date: string;\n    email: string;\n    formName: string;\n    message: string;\n}\n\nexport interface Alert {\n    id: string;\n    user: string;\n    action: string;\n    timestamp: string;\n    link: string | null;\n    type: 'info' | 'success' | 'warning' | 'error';\n}\n\nexport interface ApiResponse<T> {\n    success: boolean;\n    data?: T;\n    error?: string;\n}\n\n// --- Constants & Persistence ---\n\nconst DELAY = 600; // ms\n\nconst STORAGE_KEYS = {\n    ALERTS: 'sbu_cms_alerts',\n    SUBMISSIONS: 'sbu_cms_submissions'\n};\n\n// --- Initial Mock Data ---\n\nconst initialSubmissions: Submission[] = [\n    {\n        id: \"sub_001\",\n        date: \"2026-02-05T10:30:00Z\",\n        email: \"ali@example.com\",\n        formName: \"Contact Form\",\n        message: \"Hello, I would like to inquire about your services and pricing details...\"\n    },\n    {\n        id: \"sub_002\",\n        date: \"2026-02-04T15:45:00Z\",\n        email: \"sara@example.com\",\n        formName: \"Booking Form\",\n        message: \"Can you please confirm availability for next week? I am looking to book...\"\n    },\n    {\n        id: \"sub_003\",\n        date: \"2026-02-03T09:12:00Z\",\n        email: \"mohammad@example.com\",\n        formName: \"Feedback Form\",\n        message: \"Overall the experience was good, but I think the interface could be improved...\"\n    }\n];\n\nconst initialAlerts: Alert[] = [\n    {\n        id: \"alt_001\",\n        user: \"ali@example.com\",\n        action: \"submitted Contact Form\",\n        timestamp: \"2026-02-05T10:30:00Z\",\n        link: \"submissions?id=sub_001\",\n        type: 'success'\n    },\n    {\n        id: \"alt_002\",\n        user: \"Admin\",\n        action: \"updated Homepage\",\n        timestamp: \"2026-02-05T08:20:00Z\",\n        link: null,\n        type: 'info'\n    },\n    {\n        id: \"alt_003\",\n        user: \"System\",\n        action: \"completed nightly backup\",\n        timestamp: \"2026-02-05T00:00:00Z\",\n        link: null,\n        type: 'info'\n    },\n    {\n        id: \"alt_004\",\n        user: \"sara@example.com\",\n        action: \"submitted Booking Form\",\n        timestamp: \"2026-02-04T15:45:00Z\",\n        link: \"submissions?id=sub_002\",\n        type: 'success'\n    }\n];\n\n// --- Helper Functions ---\n\nconst initializeStorage = () => {\n    if (typeof window === 'undefined') return;\n    if (!localStorage.getItem(STORAGE_KEYS.SUBMISSIONS)) {\n        localStorage.setItem(STORAGE_KEYS.SUBMISSIONS, JSON.stringify(initialSubmissions));\n    }\n    if (!localStorage.getItem(STORAGE_KEYS.ALERTS)) {\n        localStorage.setItem(STORAGE_KEYS.ALERTS, JSON.stringify(initialAlerts));\n    }\n};\n\nconst getFromStorage = <T>(key: string): T[] => {\n    if (typeof window === 'undefined') return [];\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : [];\n};\n\n// --- API Implementation ---\n\nexport const siteApi = {\n    /**\n     * Fetch all form submissions\n     */\n    async getSubmissions(): Promise<ApiResponse<Submission[]>> {\n        return new Promise((resolve) => {\n            console.log('[API] GET /submissions');\n            setTimeout(() => {\n                const data = getFromStorage<Submission>(STORAGE_KEYS.SUBMISSIONS);\n                resolve({ success: true, data });\n            }, DELAY);\n        });\n    },\n\n    /**\n     * Fetch all system alerts/activities\n     */\n    async getAlerts(): Promise<ApiResponse<Alert[]>> {\n        return new Promise((resolve) => {\n            console.log('[API] GET /alerts');\n            setTimeout(() => {\n                const data = getFromStorage<Alert>(STORAGE_KEYS.ALERTS);\n                // Sort by timestamp newest first\n                data.sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n                resolve({ success: true, data });\n            }, DELAY);\n        });\n    },\n\n    /**\n     * Mock function for future calls\n     */\n    async logActivity(user: string, action: string, link: string | null = null): Promise<ApiResponse<Alert>> {\n        return new Promise((resolve) => {\n            if (!user || !action) {\n                console.warn('[API Warning] logActivity: Missing user or action', { user, action });\n                return resolve({ success: false, error: 'Missing required parameters' });\n            }\n\n            console.log('[API] POST /alerts', { user, action, link });\n\n            setTimeout(() => {\n                const alerts = getFromStorage<Alert>(STORAGE_KEYS.ALERTS);\n                const newAlert: Alert = {\n                    id: `alt_${Date.now()}`,\n                    user,\n                    action,\n                    timestamp: new Date().toISOString(),\n                    link,\n                    type: 'info'\n                };\n\n                alerts.unshift(newAlert);\n                localStorage.setItem(STORAGE_KEYS.ALERTS, JSON.stringify(alerts));\n                resolve({ success: true, data: newAlert });\n            }, DELAY);\n        });\n    }\n};\n\n// Initialize on load\ninitializeStorage();\n","import React, { useState, useEffect } from 'react';\nimport './FormBuilderEditor.css';\nimport { useFormData } from '../../hooks/useFormData';\nimport { FormField, Form } from '../ppm/cms/form-builder/FormBuilderTypes';\nimport PopupDynamic from '../modals/PopupDynamic';\nimport { useCMS } from '../../contexts/CMSContext';\nimport SectionLockControl from './SectionLockControl';\n\nconst FIELD_TYPES = [\n    { value: 'short_answer', label: 'Short Answer' },\n    { value: 'paragraph', label: 'Paragraph' },\n    { value: 'multiple_choice', label: 'Multiple Choice' },\n    { value: 'dropdown', label: 'Dropdown' },\n    { value: 'checkboxes', label: 'Checkboxes' },\n    { value: 'linear_scale', label: 'Linear Scale' },\n    { value: 'file_upload', label: 'File Upload' },\n    { value: 'date', label: 'Date' },\n    { value: 'time', label: 'Time' },\n];\n\nconst TEMPLATES = [\n    { id: 'blank', label: 'Blank Form', fields: [] },\n    {\n        id: 'contact',\n        label: 'Sample Contact Form',\n        fields: [\n            { id: 'f1', name: 'Email Address', type: 'short_answer', required: true, validation: { mode: 'email' } },\n            { id: 'f2', name: 'Message', type: 'paragraph', required: false }\n        ]\n    }\n];\n\ninterface FormBuilderEditorProps {\n    showNotification: (message: string, type?: 'success' | 'error' | 'info') => void;\n}\n\nconst FormBuilderEditor: React.FC<FormBuilderEditorProps> = ({ showNotification }) => {\n    const {\n        forms,\n        loading,\n        createForm,\n        updateForm,\n        deleteForm\n    } = useFormData();\n\n    // activeFormId matches a saved form ID. Null if we are editing a new unsaved form.\n    const [activeFormId, setActiveFormId] = useState<string | null>(null);\n\n    // draftForm holds the current state of the editor.\n    const [draftForm, setDraftForm] = useState<Form | null>(null);\n\n    const [showTemplateMenu, setShowTemplateMenu] = useState(false);\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n\n    // Sync draft with active form selection from sidebar\n    useEffect(() => {\n        if (activeFormId) {\n            const found = forms.find(f => f.id === activeFormId);\n            if (found) {\n                // Load existing form into draft\n                // Deep copy to ensure we don't mutate state directly\n                setDraftForm(JSON.parse(JSON.stringify(found)));\n            } else {\n                // If ID is stale (form deleted), reset\n                setActiveFormId(null);\n                setDraftForm(null);\n            }\n        }\n    }, [activeFormId, forms]);\n\n    const handleCreateForm = () => {\n        // Initialize a new blank draft. Do NOT create in DB yet.\n        const newDraft: Form = {\n            id: `temp_${Date.now()}`,\n            title: 'New Form',\n            fields: []\n        };\n        setActiveFormId(null);\n        setDraftForm(newDraft);\n        setShowTemplateMenu(false);\n    };\n\n    const handleLoadTemplate = (templateId: string) => {\n        const template = TEMPLATES.find(t => t.id === templateId);\n        // If blank template selected, just do create form logic\n        if (templateId === 'blank') {\n            handleCreateForm();\n            return;\n        }\n\n        if (template) {\n            // Initialize draft from template. Do NOT create in DB yet.\n            const newDraft: Form = {\n                id: `temp_${Date.now()}`,\n                title: template.label,\n                fields: JSON.parse(JSON.stringify(template.fields))\n            };\n            setActiveFormId(null);\n            setDraftForm(newDraft);\n        }\n        setShowTemplateMenu(false);\n    };\n\n    const { updateGhiDanhNhapHocContent } = useCMS();\n\n    const handleSaveForm = () => {\n        if (!draftForm) return;\n\n        if (activeFormId) {\n            // Update existing form\n            updateForm(activeFormId, draftForm);\n        } else {\n            // Create new form\n            const created = createForm(draftForm.title, draftForm.fields);\n            // Switch to the newly created form ID so future saves are updates\n            setActiveFormId(created.id);\n        }\n\n        // Trigger CMS Dirty state so \"Save Draft\" becomes active\n        updateGhiDanhNhapHocContent({});\n\n        // Trigger live refresh event\n        window.dispatchEvent(new CustomEvent('sbu-cms-re-resolve'));\n\n        showNotification('Form saved successfully!', 'success');\n    };\n\n    const handleRenameForm = (newTitle: string) => {\n        if (!draftForm) return;\n        setDraftForm({ ...draftForm, title: newTitle });\n    };\n\n    const handleAddField = () => {\n        if (!draftForm) return;\n        const newField: FormField = {\n            id: `field_${Date.now()}`,\n            name: 'New Question',\n            type: 'short_answer',\n            required: false,\n            helpText: ''\n        };\n        setDraftForm({\n            ...draftForm,\n            fields: [...draftForm.fields, newField]\n        });\n    };\n\n    const handleUpdateField = (fieldId: string, updates: Partial<FormField>) => {\n        if (!draftForm) return;\n        const updatedFields = draftForm.fields.map(f =>\n            f.id === fieldId ? { ...f, ...updates } : f\n        ) as FormField[];\n        setDraftForm({ ...draftForm, fields: updatedFields });\n    };\n\n    const handleRemoveField = (fieldId: string) => {\n        if (!draftForm) return;\n        const updatedFields = draftForm.fields.filter(f => f.id !== fieldId);\n        setDraftForm({ ...draftForm, fields: updatedFields });\n    };\n\n    const handleDeleteActiveForm = () => {\n        if (activeFormId) {\n            deleteForm(activeFormId);\n            setActiveFormId(null);\n            setDraftForm(null);\n            setShowDeleteConfirm(false);\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"form-builder-container\">\n                <div className=\"workspace-empty-state\">\n                    <p>Loading forms...</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"form-builder-container\">\n            {/* Sidebar - List of Forms */}\n            <aside className=\"form-builder-sidebar\">\n                <div className=\"sidebar-header\">\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n                        <h3 style={{ margin: 0 }}>My Forms</h3>\n                        <div style={{ position: 'relative' }}>\n                            <button\n                                className=\"btn-secondary\"\n                                style={{ padding: '4px 8px', fontSize: '12px', cursor: 'pointer', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px' }}\n                                onClick={() => setShowTemplateMenu(!showTemplateMenu)}\n                            >\n                                Templates \n                            </button>\n                            {showTemplateMenu && (\n                                <div style={{\n                                    position: 'absolute',\n                                    top: '100%',\n                                    right: 0,\n                                    background: 'white',\n                                    border: '1px solid #e5e7eb',\n                                    borderRadius: '6px',\n                                    boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)',\n                                    zIndex: 10,\n                                    width: '180px',\n                                    padding: '4px'\n                                }}>\n                                    {TEMPLATES.map(t => (\n                                        <button\n                                            key={t.id}\n                                            style={{\n                                                width: '100%',\n                                                textAlign: 'left',\n                                                padding: '8px',\n                                                background: 'none',\n                                                border: 'none',\n                                                fontSize: '13px',\n                                                cursor: 'pointer',\n                                                borderRadius: '4px'\n                                            }}\n                                            onMouseOver={(e) => e.currentTarget.style.background = '#f3f4f6'}\n                                            onMouseOut={(e) => e.currentTarget.style.background = 'none'}\n                                            onClick={() => handleLoadTemplate(t.id)}\n                                        >\n                                            {t.label}\n                                        </button>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                    {/* The Sidebar Create Form button initializes a blank draft */}\n                    <button className=\"btn-create-form\" onClick={handleCreateForm}>\n                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n                            <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n                        </svg>\n                        Create Form\n                    </button>\n                </div>\n                <div className=\"form-list\">\n                    {forms.map(form => (\n                        <div\n                            key={form.id}\n                            className={`form-list-item ${activeFormId === form.id ? 'active' : ''}`}\n                            onClick={() => setActiveFormId(form.id)}\n                        >\n                            <span className=\"form-item-title\">{form.title}</span>\n                            <div className=\"form-item-badge\">{form.fields.length} fields</div>\n                        </div>\n                    ))}\n                    {forms.length === 0 && (\n                        <p style={{ textAlign: 'center', color: '#9ca3af', fontSize: '0.875rem', marginTop: '2rem' }}>\n                            No forms created yet.\n                        </p>\n                    )}\n                </div>\n            </aside>\n\n            {/* Main Workspace - Form Editor */}\n            <main className=\"form-builder-workspace\">\n                {draftForm ? (\n                    <div style={{ width: '100%', maxWidth: '800px' }}>\n                        <div className=\"form-editor-card\">\n                            <div className=\"form-editor-header\">\n                                <input\n                                    className=\"form-title-input\"\n                                    value={draftForm.title}\n                                    onChange={(e) => handleRenameForm(e.target.value)}\n                                    placeholder=\"Enter form title...\"\n                                    disabled={!!draftForm.locked}\n                                />\n                                <div style={{ marginRight: '1rem' }}>\n                                    <SectionLockControl\n                                        locked={draftForm.locked}\n                                        onToggle={(locked) => setDraftForm({ ...draftForm, locked })}\n                                    />\n                                </div>\n                                <div className=\"form-actions\" style={{ display: 'flex', alignItems: 'center' }}>\n                                    {/* SAVE FORM BUTTON */}\n                                    <button\n                                        onClick={handleSaveForm}\n                                        style={{\n                                            background: '#10b981',\n                                            color: 'white',\n                                            border: 'none',\n                                            padding: '8px 16px',\n                                            borderRadius: '6px',\n                                            fontWeight: 500,\n                                            fontSize: '14px',\n                                            cursor: 'pointer',\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            gap: '6px',\n                                            marginRight: '8px',\n                                            boxShadow: '0 1px 2px rgba(0,0,0,0.05)'\n                                        }}\n                                        onMouseOver={(e) => e.currentTarget.style.background = '#059669'}\n                                        onMouseOut={(e) => e.currentTarget.style.background = '#10b981'}\n                                    >\n                                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                            <path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"></path>\n                                            <polyline points=\"17 21 17 13 7 13 7 21\"></polyline>\n                                            <polyline points=\"7 3 7 8 15 8\"></polyline>\n                                        </svg>\n                                        Save Form\n                                    </button>\n\n                                    {/* DELETE BUTTON - Only show if we are editing an already saved form */}\n                                    {activeFormId && (\n                                        <button\n                                            className=\"btn-delete-form\"\n                                            onClick={() => setShowDeleteConfirm(true)}\n                                        >\n                                            Delete Form\n                                        </button>\n                                    )}\n                                </div>\n                            </div>\n\n                            <div className=\"fields-container\" style={{\n                                opacity: draftForm.locked ? 0.6 : 1,\n                                pointerEvents: draftForm.locked ? 'none' : 'auto',\n                                transition: 'opacity 0.3s'\n                            }}>\n                                {draftForm.fields.length === 0 && (\n                                    <div style={{ textAlign: 'center', padding: '3rem 1rem', color: '#6b7280' }}>\n                                        <p style={{ fontSize: '1.125rem', fontWeight: 500 }}>Empty Form</p>\n                                        <p style={{ fontSize: '0.875rem' }}>Click \"Add Field\" below to begin building your form.</p>\n                                    </div>\n                                )}\n\n                                {draftForm.fields.map((field) => (\n                                    <div key={field.id} className=\"field-block\">\n                                        <div className=\"field-row\">\n                                            <div className=\"field-input-group\">\n                                                <label className=\"field-label\">Question name</label>\n                                                <input\n                                                    className=\"input-standard\"\n                                                    value={field.name}\n                                                    onChange={(e) => handleUpdateField(field.id, { name: e.target.value })}\n                                                    placeholder=\"e.g. Email Address\"\n                                                />\n                                            </div>\n                                            <div className=\"field-input-group\">\n                                                <label className=\"field-label\">Field Type</label>\n                                                <select\n                                                    className=\"input-standard\"\n                                                    value={field.type}\n                                                    onChange={(e) => {\n                                                        const newType = e.target.value as any;\n                                                        const updates: any = { type: newType };\n\n                                                        // Initialize options if switching to a choice type and they don't exist\n                                                        if (['multiple_choice', 'dropdown', 'checkboxes'].includes(newType) && !(field as any).options) {\n                                                            updates.options = ['Option 1'];\n                                                        }\n\n                                                        handleUpdateField(field.id, updates);\n                                                    }}\n                                                >\n                                                    {FIELD_TYPES.map(type => (\n                                                        <option key={type.value} value={type.value}>\n                                                            {type.label}\n                                                        </option>\n                                                    ))}\n                                                </select>\n                                            </div>\n                                            <button\n                                                className=\"btn-delete-field\"\n                                                onClick={() => handleRemoveField(field.id)}\n                                                title=\"Remove field\"\n                                            >\n                                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                    <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                </svg>\n                                            </button>\n                                        </div>\n\n                                        {/* Placeholder for complex types */}\n                                        {['linear_scale', 'file_upload'].includes(field.type) && (\n                                            <div style={{ marginTop: '1rem', padding: '0.75rem', background: '#f8f9fa', borderRadius: '6px', fontSize: '13px', color: '#6b7280', border: '1px dashed #d1d5db' }}>\n                                                {field.type === 'linear_scale' ? 'Linear scale field (configure later)' : 'File upload field (configure later)'}\n                                            </div>\n                                        )}\n\n                                        {/* Options Editor for Choice Fields */}\n                                        {['multiple_choice', 'dropdown', 'checkboxes'].includes(field.type) && (\n                                            <div className=\"field-options-editor\" style={{ marginTop: '1.25rem', paddingLeft: '1rem', borderLeft: '3px solid #e5e7eb' }}>\n                                                <label className=\"field-label\" style={{ marginBottom: '0.75rem', display: 'block' }}>Options</label>\n                                                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                                                    {((field as any).options || []).map((option: string, idx: number) => (\n                                                        <div key={idx} style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n                                                            <div style={{ color: '#9ca3af', fontSize: '12px' }}>{idx + 1}.</div>\n                                                            <input\n                                                                className=\"input-standard\"\n                                                                style={{ padding: '6px 10px', height: '36px' }}\n                                                                value={option}\n                                                                onChange={(e) => {\n                                                                    const newOpts = [...(field as any).options];\n                                                                    newOpts[idx] = e.target.value;\n                                                                    handleUpdateField(field.id, { options: newOpts });\n                                                                }}\n                                                                placeholder={`Option ${idx + 1}`}\n                                                            />\n                                                            <button\n                                                                onClick={() => {\n                                                                    const newOpts = (field as any).options.filter((_: any, i: number) => i !== idx);\n                                                                    handleUpdateField(field.id, { options: newOpts });\n                                                                }}\n                                                                style={{ background: 'none', border: 'none', color: '#ef4444', cursor: 'pointer', padding: '4px' }}\n                                                            >\n                                                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                                                                    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n                                                                </svg>\n                                                            </button>\n                                                        </div>\n                                                    ))}\n                                                    <button\n                                                        onClick={() => {\n                                                            const currentOpts = (field as any).options || [];\n                                                            handleUpdateField(field.id, { options: [...currentOpts, `Option ${currentOpts.length + 1}`] });\n                                                        }}\n                                                        style={{\n                                                            alignSelf: 'flex-start',\n                                                            background: 'none',\n                                                            border: 'none',\n                                                            color: '#3b82f6',\n                                                            fontSize: '13px',\n                                                            fontWeight: 500,\n                                                            cursor: 'pointer',\n                                                            display: 'flex',\n                                                            alignItems: 'center',\n                                                            gap: '4px',\n                                                            padding: '4px 8px',\n                                                            marginTop: '4px'\n                                                        }}\n                                                    >\n                                                        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                            <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n                                                            <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n                                                        </svg>\n                                                        Add Option\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        )}\n\n                                        <div className=\"field-footer-row\" style={{ marginTop: '1.25rem' }}>\n                                            <div className=\"field-input-group\" style={{ flex: 1 }}>\n                                                <label className=\"field-label\">Placeholder (Optional)</label>\n                                                <input\n                                                    className=\"input-standard\"\n                                                    value={field.placeholder || ''}\n                                                    onChange={(e) => handleUpdateField(field.id, { placeholder: e.target.value })}\n                                                    placeholder=\"Gray text inside input...\"\n                                                />\n                                            </div>\n                                            <div className=\"field-input-group\" style={{ flex: 1 }}>\n                                                <label className=\"field-label\">Help Text</label>\n                                                <input\n                                                    className=\"input-standard input-help-text\"\n                                                    value={field.helpText || ''}\n                                                    onChange={(e) => handleUpdateField(field.id, { helpText: e.target.value })}\n                                                    placeholder=\"Instruction for users...\"\n                                                />\n                                            </div>\n                                            <label className=\"field-required-label\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    checked={!!field.required}\n                                                    onChange={(e) => handleUpdateField(field.id, { required: e.target.checked })}\n                                                />\n                                                <span>Required</span>\n                                            </label>\n                                        </div>\n                                    </div>\n                                ))}\n\n                                <div className=\"add-field-footer\">\n                                    <button className=\"btn-add-field\" onClick={handleAddField}>\n                                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                            <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n                                            <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n                                        </svg>\n                                        Add Field\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ) : (\n                    <div className=\"workspace-empty-state\">\n                        <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1\" strokeLinecap=\"round\" strokeLinejoin=\"round\" opacity=\"0.3\" style={{ marginBottom: '1.5rem' }}>\n                            <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path>\n                            <polyline points=\"14 2 14 8 20 8\"></polyline>\n                            <line x1=\"9\" y1=\"15\" x2=\"15\" y2=\"15\"></line>\n                            <line x1=\"9\" y1=\"11\" x2=\"15\" y2=\"11\"></line>\n                            <line x1=\"9\" y1=\"19\" x2=\"12\" y2=\"19\"></line>\n                        </svg>\n                        <h2>Form Builder</h2>\n                        <p>Select an existing form from the sidebar or click \"Create Form\" to get started.</p>\n                    </div>\n                )}\n            </main>\n\n            <PopupDynamic\n                isOpen={showDeleteConfirm}\n                onClose={() => setShowDeleteConfirm(false)}\n                title=\"Delete Form?\"\n                subtitle={`Are you sure you want to delete \"${draftForm?.title}\"? This will permanently remove the form and all its fields. This action cannot be undone.`}\n                type=\"error\"\n                buttons={[\n                    {\n                        buttonText: \"Yes, Delete Form\",\n                        buttonTextActive: \"Deleting...\",\n                        buttonTextResponse: \"Deleted!\",\n                        variant: \"danger\",\n                        onClick: async () => handleDeleteActiveForm()\n                    },\n                    {\n                        buttonText: \"Cancel\",\n                        variant: \"secondary\",\n                        onClick: () => setShowDeleteConfirm(false)\n                    }\n                ]}\n            />\n        </div>\n    );\n};\n\nexport default FormBuilderEditor;\n","import React, { useState } from 'react'\nimport './SubmissionsEditor.css'\n\ninterface Submission {\n    id: string;\n    date: string;\n    email: string;\n    formName: string;\n    message: string;\n}\n\nconst sampleSubmissions: Submission[] = [\n    {\n        id: \"sub_001\",\n        date: \"2026-02-05\",\n        email: \"ali@example.com\",\n        formName: \"Contact Form\",\n        message: \"Hello, I would like to inquire about your services and pricing details. I am particularly interested in the advanced meditation course and would like to know the schedule for the upcoming months. Please let me know if there are any prerequisites for joining.\"\n    },\n    {\n        id: \"sub_002\",\n        date: \"2026-02-04\",\n        email: \"sara@example.com\",\n        formName: \"Booking Form\",\n        message: \"Can you please confirm availability for next week? I am looking to book a session for our group of 15 people. We are interested in a half-day retreat covering the basics of mindfulness.\"\n    },\n    {\n        id: \"sub_003\",\n        date: \"2026-02-03\",\n        email: \"mohammad@example.com\",\n        formName: \"Feedback Form\",\n        message: \"Overall the experience was good, but I think the interface could be improved. Some buttons are hard to find on mobile devices, and the loading speed seems a bit slow at times.\"\n    }\n];\n\nconst SubmissionsEditor: React.FC = () => {\n    const [selectedId, setSelectedId] = useState<string | null>(null);\n\n    const selectedSubmission = sampleSubmissions.find(s => s.id === selectedId);\n\n    const truncateMessage = (msg: string) => {\n        if (msg.length <= 70) return msg;\n        return msg.substring(0, 70) + \"...\";\n    };\n\n    const formatDate = (dateStr: string) => {\n        const date = new Date(dateStr);\n        return date.toLocaleDateString('en-GB', {\n            day: '2-digit',\n            month: 'short',\n            year: 'numeric'\n        });\n    }\n\n    if (selectedSubmission) {\n        return (\n            <div className=\"submissions-editor\">\n                <div className=\"editor-header-title\">\n                    <button className=\"btn-back\" onClick={() => setSelectedId(null)}>\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\"></line>\n                            <polyline points=\"12 19 5 12 12 5\"></polyline>\n                        </svg>\n                        Back to List\n                    </button>\n                    <h2>Submission Details</h2>\n                </div>\n\n                <div className=\"submission-detail-container\">\n                    <div className=\"detail-header\">\n                        <span className=\"col-form-name\">{selectedSubmission.formName}</span>\n                        <span className=\"col-date\">{formatDate(selectedSubmission.date)}</span>\n                    </div>\n                    <div className=\"detail-content\">\n                        <div className=\"detail-info-grid\">\n                            <div className=\"info-item\">\n                                <span className=\"info-label\">Form Name</span>\n                                <span className=\"info-value\">{selectedSubmission.formName}</span>\n                            </div>\n                            <div className=\"info-item\">\n                                <span className=\"info-label\">Date Submitted</span>\n                                <span className=\"info-value\">{formatDate(selectedSubmission.date)}</span>\n                            </div>\n                            <div className=\"info-item\">\n                                <span className=\"info-label\">Email Address</span>\n                                <span className=\"info-value\">{selectedSubmission.email}</span>\n                            </div>\n                        </div>\n\n                        <div className=\"detail-message-section\">\n                            <span className=\"detail-message-label\">Message</span>\n                            <div className=\"detail-message-body\">\n                                {selectedSubmission.message}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"submissions-editor\">\n            <div className=\"editor-header-title\">\n                <h2>Form Submissions</h2>\n                <p className=\"editor-subtitle\">Review and manage all incoming form responses</p>\n            </div>\n\n            <div className=\"submissions-table-container\">\n                <table className=\"submissions-table\">\n                    <thead>\n                        <tr>\n                            <th style={{ width: '150px' }}>Date</th>\n                            <th style={{ width: '250px' }}>Email</th>\n                            <th style={{ width: '150px' }}>Form Name</th>\n                            <th>Message Preview</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {sampleSubmissions.sort((a, b) => b.date.localeCompare(a.date)).map((sub) => (\n                            <tr key={sub.id} onClick={() => setSelectedId(sub.id)}>\n                                <td className=\"col-date\" data-label=\"Date\">{formatDate(sub.date)}</td>\n                                <td className=\"col-email\" data-label=\"Email\">{sub.email}</td>\n                                <td data-label=\"Form\">\n                                    <span className=\"col-form-name\">{sub.formName}</span>\n                                </td>\n                                <td className=\"col-message\" data-label=\"Message\">{truncateMessage(sub.message)}</td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n                {sampleSubmissions.length === 0 && (\n                    <div className=\"empty-state\">\n                        <p>No submissions found.</p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default SubmissionsEditor;\n","import React, { useEffect, useState } from 'react'\nimport './AlertsEditor.css'\nimport { siteApi, Alert } from '../../api/site-api'\n\ninterface AlertsEditorProps {\n    onNavigate?: (link: string) => void;\n}\n\nconst AlertsEditor: React.FC<AlertsEditorProps> = ({ onNavigate }) => {\n    const [alerts, setAlerts] = useState<Alert[]>([])\n    const [loading, setLoading] = useState(true)\n    const [currentPage, setCurrentPage] = useState(1)\n    const itemsPerPage = 10\n\n    useEffect(() => {\n        const fetchAlerts = async () => {\n            try {\n                const response = await siteApi.getAlerts()\n                if (response.success && response.data) {\n                    setAlerts(response.data)\n                }\n            } catch (error) {\n                console.error('Failed to fetch alerts:', error)\n            } finally {\n                setLoading(false)\n            }\n        }\n\n        fetchAlerts()\n    }, [])\n\n    const formatRelativeTime = (timestamp: string) => {\n        const date = new Date(timestamp)\n        const now = new Date()\n        const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000)\n\n        if (diffInSeconds < 60) return 'Just now'\n        if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`\n        if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`\n\n        return date.toLocaleDateString('en-GB', {\n            day: '2-digit',\n            month: 'short',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n        })\n    }\n\n    const handleAlertClick = (link: string | null) => {\n        if (!link) return\n\n        if (onNavigate) {\n            onNavigate(link)\n        } else {\n            // Fallback for internal routing simulation if no prop provided\n            console.log(`Navigating to: ${link}`)\n            alert(`Navigating to ${link}. (Internal routing simulation)`)\n        }\n    }\n\n    // Pagination logic\n    const totalPages = Math.ceil(alerts.length / itemsPerPage)\n    const currentAlerts = alerts.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage)\n\n    if (loading) {\n        return (\n            <div className=\"alerts-editor\">\n                <div className=\"alerts-loading\">\n                    <div className=\"spinner\"></div>\n                    <p>Loading activity feed...</p>\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"alerts-editor\">\n            <div className=\"editor-header-title\">\n                <h2>System Alerts & Activity</h2>\n                <p className=\"editor-subtitle\">Recent events and changes across the CMS</p>\n            </div>\n\n            <div className=\"alerts-list\">\n                {currentAlerts.map((alert) => (\n                    <div\n                        key={alert.id}\n                        className={`alert-item ${alert.link ? 'navigable' : ''}`}\n                        onClick={() => handleAlertClick(alert.link)}\n                    >\n                        <div className=\"alert-icon\">\n                            {alert.user === 'System' ? (\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                    <path d=\"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83\" />\n                                </svg>\n                            ) : alert.user === 'Admin' ? (\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                    <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\" />\n                                </svg>\n                            ) : (\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                    <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\" />\n                                    <polyline points=\"22,6 12,13 2,6\" />\n                                </svg>\n                            )}\n                        </div>\n                        <div className=\"alert-content\">\n                            <div className=\"alert-main\">\n                                <span className=\"alert-user\">{alert.user}</span>\n                                <span className=\"alert-action\">{alert.action}</span>\n                            </div>\n                            <span className=\"alert-timestamp\">{formatRelativeTime(alert.timestamp)}</span>\n                        </div>\n                        {alert.link && (\n                            <div className=\"nav-indicator\">\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                    <polyline points=\"9 18 15 12 9 6\"></polyline>\n                                </svg>\n                            </div>\n                        )}\n                    </div>\n                ))}\n\n                {alerts.length === 0 && (\n                    <div className=\"empty-state\">\n                        <p>No recent activity records found.</p>\n                    </div>\n                )}\n            </div>\n\n            {alerts.length > itemsPerPage && (\n                <div className=\"pagination-container\">\n                    <button\n                        className=\"btn-pagination\"\n                        disabled={currentPage === 1}\n                        onClick={() => setCurrentPage(prev => prev - 1)}\n                    >\n                        Previous\n                    </button>\n                    <span className=\"pagination-info\">\n                        Page {currentPage} of {totalPages}\n                    </span>\n                    <button\n                        className=\"btn-pagination\"\n                        disabled={currentPage === totalPages}\n                        onClick={() => setCurrentPage(prev => prev + 1)}\n                    >\n                        Next\n                    </button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default AlertsEditor\n","import React, { useState, useEffect, useRef } from 'react'\nimport '../global.css'\nimport './editor.css'\nimport { useCMS, CMSData, hasActiveDraft } from '../contexts/CMSContext'\nimport HeaderEditor from '../components/editors/HeaderEditor'\nimport HeaderContentEditor from '../components/editors/HeaderContentEditor'\nimport UpcomingEventEditor from '../components/editors/UpcomingEventEditor'\nimport NewsEditor from '../components/editors/NewsEditor'\nimport ProgramsEditor from '../components/editors/ProgramsEditor'\nimport SupportEditor from '../components/editors/SupportEditor'\nimport ScriptureEditor from '../components/editors/ScriptureEditor'\nimport FooterEditor from '../components/editors/FooterEditor'\nimport LoiTuBachEditor from '../components/editors/LoiTuBachEditor'\nimport BonDaiTongChiEditor from '../components/editors/BonDaiTongChiEditor'\nimport BanNhanSuEditor from '../components/editors/BanNhanSuEditor'\nimport GhiDanhNhapHocEditor from '../components/editors/GhiDanhNhapHocEditor'\nimport KhongGianThienEditor from '../components/editors/KhongGianThienEditor'\nimport KhongGianThien12Editor from '../components/editors/KhongGianThien12Editor'\nimport FormGhiDanhEditor from '../components/editors/GhiDanhThienEditor'\nimport ChuongTrinhSoTrungDangEditor from '../components/editors/ChuongTrinhSoTrungDangEditor'\nimport NienKhoaEditor from '../components/editors/NienKhoaEditor'\nimport NienKhoa2022Editor from '../components/editors/NienKhoa2022Editor'\nimport NienKhoa2019Editor from '../components/editors/NienKhoa2019Editor'\nimport ChuongTrinhCaoDangEditor from '../components/editors/ChuongTrinhCaoDangEditor'\nimport CaoDangNienKhoaEditor from '../components/editors/CaoDangNienKhoaEditor'\nimport CaoDang2022Editor from '../components/editors/CaoDang2022Editor'\nimport CaoDang2019Editor from '../components/editors/CaoDang2019Editor'\nimport ChuyenKhoaATyDamEditor from '../components/editors/ChuyenKhoaATyDamEditor'\nimport NienKhoaPage from '../components/editors/NienKhoaPage6Editor'\nimport ProgramSectionEFEditor from '../components/editors/ProgramSectionEFEditor'\nimport { siteApi, Alert } from '../api/site-api'\nimport FormBuilderEditor from '../components/editors/FormBuilderEditor'\nimport SubmissionsEditor from '../components/editors/SubmissionsEditor'\nimport AlertsEditor from '../components/editors/AlertsEditor'\nimport RoleRoutesJWT from '../components/ppm/supabase-react-role-access-automator/RoleRoutesJWT'\n// Type definitions\ntype Section = {\n    id: number\n    name: string\n    icon: string\n}\n\ntype PageKey = 'global' | 'home' | 'page2' | 'page3' | 'page4' | 'page5' | 'page6' | 'submissions' | 'alerts' | 'form_builder'\n\ntype PageData = {\n    name: string\n    sections: Section[]\n}\n\nconst stableStringify = (obj: any): string => {\n    return JSON.stringify(obj, (_, value) => {\n        if (value && typeof value === 'object' && !Array.isArray(value)) {\n            return Object.keys(value).sort().reduce((sorted: any, key) => {\n                sorted[key] = value[key];\n                return sorted;\n            }, {});\n        }\n        return value;\n    });\n};\n\nconst EditorPage = () => {\n    const alertsDropdownRef = useRef<HTMLDivElement>(null)\n    const mobileMenuRef = useRef<HTMLDivElement>(null)\n    const [isAlertsOpen, setIsAlertsOpen] = useState(false)\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)\n\n    useEffect(() => {\n        const handleClickOutside = (event: MouseEvent) => {\n            if (alertsDropdownRef.current && !alertsDropdownRef.current.contains(event.target as Node)) {\n                setIsAlertsOpen(false)\n            }\n            if (mobileMenuRef.current && !mobileMenuRef.current.contains(event.target as Node)) {\n                setIsMobileMenuOpen(false)\n            }\n        }\n        document.addEventListener('mousedown', handleClickOutside)\n        return () => document.removeEventListener('mousedown', handleClickOutside)\n    }, [])\n    // State for selected page and section\n    const [selectedPage, setSelectedPage] = useState<PageKey>('global')\n    const [selectedSection, setSelectedSection] = useState<string | null>(null)\n\n    // Get CMS context\n    const {\n        cmsData,\n        resetCMSData,\n        updateHeaderContent,\n        updateFooterContent,\n        updatePageHeader,\n        updateUpcomingEventContent,\n        updateNewsContent,\n        updatePrograms,\n        updateSupportContent,\n        updateScriptureContent,\n        updateLoiTuBachContent,\n        updateBonDaiTongChiContent,\n        updateBanNhanSuContent,\n        updateGhiDanhNhapHocContent,\n        updateKhongGianThienContent,\n        updateKhongGianThien12Content,\n        updateGhiDanhThienContent,\n        updateChuongTrinhSoTrungDangContent,\n        updateNienKhoaContent,\n        updateNienKhoa2022Content,\n        updateNienKhoa2019Content,\n        updateChuongTrinhCaoDangContent,\n        updateCaoDangNienKhoaContent,\n        updateCaoDang2022Content,\n        updateCaoDang2019Content,\n        updateChuyenKhoaATyDamContent,\n        updateNienKhoaContent6,\n        updateProgramSectionEFContent,\n        saveDraft,\n        publishCMSData,\n        importCMSData,\n        discardDraft,\n        hasDraftChanges,\n        hasUnsavedChanges,\n        remoteVersion,\n        draftVersion,\n        isSuperAdmin,\n        isSuperAdminMode,\n        toggleSuperAdminMode\n    } = useCMS()\n\n    // Page data with their sections\n    const pagesData: Record<PageKey, PageData> = {\n        global: {\n            name: 'Ci t chung (Header/Footer)',\n            sections: [\n                { id: 1, name: 'Navigation (Menu)', icon: '' },\n                { id: 2, name: 'Footer (Chn trang)', icon: '' },\n            ]\n        },\n        home: {\n            name: 'Trang Ch (/home)',\n            sections: [\n                { id: 1, name: 'Hero Section (Banner)', icon: '' },\n                { id: 6, name: 'Upcoming Event (Sp din ra)', icon: '' },\n                { id: 2, name: 'Announcements (Thng bo)', icon: '' },\n                { id: 3, name: 'Programs (Chng trnh)', icon: '' },\n                { id: 4, name: 'Dharma Support (H tr)', icon: '' },\n                { id: 5, name: 'Library Section (Th vin)', icon: '' },\n            ]\n        },\n        page2: {\n            name: 'V SBU (/V-SBU)',\n            sections: [\n                { id: 1, name: 'Hero Section (Banner)', icon: '' },\n                { id: 2, name: 'Li T Bch', icon: '' },\n                { id: 3, name: 'Bn i Tng Ch', icon: '' },\n                { id: 4, name: 'Ban Nhn S', icon: '' },\n                { id: 5, name: 'Ghi Danh Nhp Hc', icon: '' },\n            ]\n        },\n        page3: {\n            name: 'Chng trnh Thin (/Chng-trnh-Thin)',\n            sections: [\n                { id: 1, name: 'Hero Section (Banner)', icon: '' },\n                { id: 2, name: 'Khng Gian Thin', icon: '' },\n                { id: 3, name: 'Khng Gian Thin 1-2', icon: '' },\n                { id: 4, name: 'Ghi Danh Thin', icon: '' },\n            ]\n        },\n        page4: {\n            name: 'S trung ng Pht hc (/S-trung-ng-Pht-hc)',\n            sections: [\n                { id: 1, name: 'Hero Section (Banner)', icon: '' },\n                { id: 2, name: 'Chng Trnh o To', icon: '' },\n                { id: 3, name: 'Nin Kha', icon: '' },\n                { id: 4, name: 'NIN KHA 2022 - 2025', icon: '' },\n                { id: 5, name: 'NIN KHA 2019 - 2022', icon: '' },\n            ]\n        },\n        page5: {\n            name: 'Cao ng Pht hc (/Cao-ng-Pht-hc)',\n            sections: [\n                { id: 1, name: 'Hero Section (Banner)', icon: '' },\n                { id: 2, name: 'CHNG TRNH CAO NG', icon: '' },\n                { id: 3, name: 'NIN KHA 2025-2028', icon: '' },\n                { id: 4, name: 'NIN KHA 2022-2025', icon: '' },\n                { id: 5, name: 'NIN KHA 2019-2022', icon: '' },\n            ]\n        },\n        page6: {\n            name: 'Chuyn khoa A t m (/Chuyn-khoa-A-t-m)',\n            sections: [\n                { id: 1, name: 'Hero Section (Banner)', icon: '' },\n                { id: 2, name: 'CHUYN KHOA A T M', icon: '' },\n                { id: 3, name: 'NIN KHA 2024-2027', icon: '' },\n                { id: 4, name: 'Lch Hc Chi Tit', icon: '' },\n            ]\n        },\n        submissions: {\n            name: 'Submissions',\n            sections: [\n                { id: 1, name: 'All Submissions', icon: '' },\n            ]\n        },\n        alerts: {\n            name: 'Alerts',\n            sections: [\n                { id: 1, name: 'Activity Feed', icon: '' },\n            ]\n        },\n        form_builder: {\n            name: 'Form Builder',\n            sections: [\n                { id: 1, name: 'Builder', icon: '' },\n            ]\n        }\n\n\n    }\n\n    // States for button loading and notifications\n    const [isSaving, setIsSaving] = useState(false)\n    const [isPreviewing, setIsPreviewing] = useState(false)\n    const [isDeleting, setIsDeleting] = useState(false)\n    const [showRecoveryBanner, setShowRecoveryBanner] = useState(false)\n    const [notification, setNotification] = useState<{ message: string; type: 'success' | 'error' | 'info'; id: number } | null>(null)\n\n    const showNotification = (message: string, type: 'success' | 'error' | 'info' = 'success') => {\n        const id = Date.now()\n        setNotification({ message, type, id })\n        // Automatic hide after 3 seconds\n        setTimeout(() => {\n            setNotification(prev => prev?.id === id ? null : prev)\n        }, 3000)\n    }\n\n    // States for alerts/notifications\n    const [systemAlerts, setSystemAlerts] = useState<Alert[]>([])\n\n    // Fetch alerts\n    const fetchAlerts = async () => {\n        try {\n            const response = await siteApi.getAlerts()\n            if (response.success && response.data) {\n                setSystemAlerts(response.data)\n            }\n        } catch (error) {\n            console.error('Failed to fetch alerts:', error)\n        }\n    }\n\n    useEffect(() => {\n        fetchAlerts()\n        // Refresh every minute\n        const interval = setInterval(fetchAlerts, 60000)\n        return () => clearInterval(interval)\n    }, [])\n\n    // Recovery banner - show only if sbu-cms-draft exists ON MOUNT\n    useEffect(() => {\n        const draft = localStorage.getItem(\"sbu-cms-draft\");\n\n        // Banner appears ONLY IF sbu-cms-draft exists on page load (MTC-BDPQ-024)\n        if (draft) {\n            console.log('[EDITOR][RECOVERY] Draft found on mount - showing banner')\n            setShowRecoveryBanner(true);\n        }\n    }, []); // Empty dependency array = ONLY on mount\n\n    const formatRelativeTime = (timestamp: string) => {\n        const date = new Date(timestamp)\n        const now = new Date()\n        const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000)\n\n        if (diffInSeconds < 60) return 'Just now'\n        if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`\n        if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`\n\n        return date.toLocaleDateString('en-GB', { day: '2-digit', month: 'short' })\n    }\n\n    const handleAlertClick = (link: string | null) => {\n        setIsAlertsOpen(false)\n        if (!link) return\n\n        // Handle submissions link: e.g. \"submissions?id=sub_001\"\n        if (link.startsWith('submissions')) {\n            setSelectedPage('submissions')\n            setSelectedSection('All Submissions')\n            showNotification('Navigating to form submission details...', 'info')\n        } else {\n            console.log(`Navigating to: ${link}`)\n            showNotification(`Navigating to: ${link}`, 'info')\n        }\n    }\n\n    // Handle delete draft\n    const handleDeleteDraft = async () => {\n        if (confirm('Are you sure you want to discard your unsaved changes? This will revert the editor to the last saved version.')) {\n            setIsDeleting(true)\n            await new Promise(resolve => setTimeout(resolve, 1000))\n\n            // discardDraft() handles everything:\n            // - Removes autosave\n            // - Reverts to implemented version (or resolved baseline if no implemented)\n            discardDraft()\n\n            setShowRecoveryBanner(false);\n\n            // Log activity\n            await siteApi.logActivity('Admin', 'discarded unsaved changes')\n            fetchAlerts()\n\n            setIsDeleting(false)\n            showNotification('Unsaved changes discarded. Reverted to last saved version.', 'info')\n        }\n    }\n\n    const handleSaveDraft = async () => {\n        setIsSaving(true)\n        await new Promise(resolve => setTimeout(resolve, 1500))\n\n        // Nate's model: Save Draft saves to sbu-cms-draft (version = baseline + 1)\n        saveDraft();\n\n        // Log activity\n        await siteApi.logActivity('Admin', 'saved a new draft version')\n        fetchAlerts()\n\n        setIsSaving(false)\n        showNotification('Draft saved successfully! Preview is now available.')\n    }\n\n    // Handle publish (MTC-BDPQ-025)\n    const [isPublishing, setIsPublishing] = useState(false)\n    const handlePublish = async () => {\n        if (!confirm('Are you sure you want to publish this draft? This will make the changes LIVE on the site.')) return\n\n        setIsPublishing(true)\n        await new Promise(resolve => setTimeout(resolve, 2000))\n\n        // Nate's model: Publish creates sbu-cms-data (version = draft + 1)\n        publishCMSData();\n\n        // Log activity\n        await siteApi.logActivity('Admin', 'published content to version ' + (cmsData.version || 'new'))\n        fetchAlerts()\n\n        setIsPublishing(false)\n        showNotification('Content published successfully! Changes are now live.')\n    }\n\n    // Handle preview\n    const handlePreview = async () => {\n        setIsPreviewing(true)\n\n        // Log activity\n        await siteApi.logActivity('Admin', 'generated a preview')\n        fetchAlerts()\n\n        // Small decorative delay for \"generating\" feel\n        await new Promise(resolve => setTimeout(resolve, 800))\n\n        // NOTE: Preview reads directly from sbu-cms-draft in CMSContext\n        // We don't save anything here anymore\n\n        setIsPreviewing(false)\n\n        // Determine preview path based on selected page\n        let path = '/'\n        if (selectedPage === 'page2') path = '/V-SBU'\n        else if (selectedPage === 'page3') path = '/Chng-trnh-Thin'\n        else if (selectedPage === 'page4') path = '/S-trung-ng-Pht-hc'\n        else if (selectedPage === 'page5') path = '/Cao-ng-Pht-hc'\n        else if (selectedPage === 'page6') path = '/Chuyn-khoa-A-t-m'\n        else if (selectedPage === 'form_builder') path = '/Chng-trnh-Thin' // Form builder is part of page 3\n\n        // Open in new tab with preview flag\n        window.open(`${path}${path.includes('?') ? '&' : '?'}preview=true`, '_blank')\n\n        showNotification(`Opening preview for ${pagesData[selectedPage].name} in a new tab`, 'info')\n    }\n\n    // Get current page sections\n    const currentSections = pagesData[selectedPage].sections\n\n    // Render editor component based on selection\n    const renderEditor = () => {\n        // Global Sections\n        if (selectedPage === 'global') {\n            if (selectedSection === 'Navigation (Menu)') {\n                return (\n                    <HeaderContentEditor\n                        data={cmsData.global.headerContent}\n                        onChange={updateHeaderContent}\n                    />\n                )\n            }\n            if (selectedSection === 'Footer (Chn trang)') {\n                return (\n                    <FooterEditor\n                        data={cmsData.global.footerContent}\n                        onChange={updateFooterContent}\n                    />\n                )\n            }\n        }\n\n        // Home Page Specific\n        if (selectedPage === 'home') {\n            if (selectedSection === 'Hero Section (Banner)') {\n                return <HeaderEditor data={cmsData.pages.home.header} onChange={(data) => updatePageHeader('home', data)} />\n            }\n            if (selectedSection === 'Upcoming Event (Sp din ra)') {\n                return <UpcomingEventEditor data={cmsData.pages.home.upcomingEventContent} onChange={updateUpcomingEventContent} />\n            }\n            if (selectedSection === 'Announcements (Thng bo)') {\n                return <NewsEditor data={cmsData.pages.home.newsContent} onChange={updateNewsContent} />\n            }\n            if (selectedSection === 'Programs (Chng trnh)') {\n                return <ProgramsEditor data={cmsData.pages.home.programsContent} onChange={updatePrograms} />\n            }\n            if (selectedSection === 'Dharma Support (H tr)') {\n                return <SupportEditor data={cmsData.pages.home.supportContent} onChange={updateSupportContent} />\n            }\n            if (selectedSection === 'Library Section (Th vin)') {\n                return <ScriptureEditor data={cmsData.pages.home.scriptureContent} onChange={updateScriptureContent} />\n            }\n        }\n\n        // Page 2-6 Headers\n        if (['home', 'page2', 'page3', 'page4', 'page5', 'page6'].includes(selectedPage) && selectedSection === 'Hero Section (Banner)') {\n            const pageKey = selectedPage as keyof CMSData['pages']\n            return (\n                <HeaderEditor\n                    data={cmsData.pages[pageKey].header}\n                    onChange={(data) => updatePageHeader(pageKey, data)}\n                />\n            )\n        }\n\n        // Page 2 Specific\n        if (selectedPage === 'page2') {\n            if (selectedSection === 'Li T Bch') {\n                return (\n                    <LoiTuBachEditor\n                        data={cmsData.pages.page2.loiTuBachContent}\n                        onChange={updateLoiTuBachContent}\n                    />\n                )\n            }\n            if (selectedSection === 'Bn i Tng Ch') {\n                return (\n                    <BonDaiTongChiEditor\n                        data={cmsData.pages.page2.bonDaiTongChiContent}\n                        onChange={updateBonDaiTongChiContent}\n                    />\n                )\n            }\n            if (selectedSection === 'Ban Nhn S') {\n                return (\n                    <BanNhanSuEditor\n                        data={cmsData.pages.page2.banNhanSuContent}\n                        onChange={updateBanNhanSuContent}\n                    />\n                )\n            }\n            if (selectedSection === 'Ghi Danh Nhp Hc') {\n                return (\n                    <GhiDanhNhapHocEditor\n                        data={cmsData.pages.page2.ghiDanhNhapHocContent}\n                        onChange={updateGhiDanhNhapHocContent}\n                        onNavigate={setSelectedPage}\n                    />\n                )\n            }\n        }\n\n        if (selectedPage === 'page3') {\n            if (selectedSection === 'Khng Gian Thin') {\n                return (\n                    <KhongGianThienEditor\n                        data={cmsData.pages.page3.khongGianThienContent}\n                        onChange={updateKhongGianThienContent}\n                    />\n                )\n            }\n            if (selectedSection === 'Khng Gian Thin 1-2') {\n                return (\n                    <KhongGianThien12Editor\n                        data={cmsData.pages.page3.khongGianThien12Content}\n                        onChange={updateKhongGianThien12Content}\n                    />\n                )\n            }\n            if (selectedSection === 'Ghi Danh Thin') {\n                return (\n                    <FormGhiDanhEditor\n                        data={cmsData.pages.page3.ghiDanhThienContent}\n                        onChange={updateGhiDanhThienContent}\n                        onNavigate={setSelectedPage}\n                    />\n                )\n            }\n\n\n        }\n\n        if (selectedPage === 'page4') {\n            if (selectedSection === 'Chng Trnh o To') {\n                return (\n                    <ChuongTrinhSoTrungDangEditor\n                        data={cmsData.pages.page4.chuongTrinhSoTrungDangContent}\n                        onChange={updateChuongTrinhSoTrungDangContent}\n                    />\n                )\n            }\n            if (selectedSection === 'Nin Kha') {\n                return (\n                    <NienKhoaEditor\n                        data={cmsData.pages.page4.nienKhoaContent}\n                        onChange={updateNienKhoaContent}\n                    />\n                )\n            }\n            if (selectedSection === 'NIN KHA 2022 - 2025') {\n                return (\n                    <NienKhoa2022Editor\n                        data={cmsData.pages.page4.nienKhoa2022Content}\n                        onChange={updateNienKhoa2022Content}\n                    />\n                )\n            }\n            if (selectedSection === 'NIN KHA 2019 - 2022') {\n                return (\n                    <NienKhoa2019Editor\n                        data={cmsData.pages.page4.nienKhoa2019Content}\n                        onChange={updateNienKhoa2019Content}\n                    />\n                )\n            }\n        }\n        if (selectedPage === 'page5') {\n            if (selectedSection === 'CHNG TRNH CAO NG') {\n                return (\n                    <ChuongTrinhCaoDangEditor\n                        data={cmsData.pages.page5.chuongTrinhCaoDangContent}\n                        onChange={updateChuongTrinhCaoDangContent}\n                    />\n                )\n            }\n            if (selectedSection === 'NIN KHA 2025-2028') {\n                return (\n                    <CaoDangNienKhoaEditor\n                        data={cmsData.pages.page5.caoDangNienKhoaContent}\n                        onChange={updateCaoDangNienKhoaContent}\n                    />\n                )\n            }\n            if (selectedSection === 'NIN KHA 2022-2025') {\n                return (\n                    <CaoDang2022Editor\n                        data={cmsData.pages.page5.caoDang2022Content}\n                        onChange={updateCaoDang2022Content}\n                    />\n                )\n            }\n            if (selectedSection === 'NIN KHA 2019-2022') {\n                return (\n                    <CaoDang2019Editor\n                        data={cmsData.pages.page5.caoDang2019Content}\n                        onChange={updateCaoDang2019Content}\n                    />\n                )\n            }\n        }\n        if (selectedPage === 'page6') {\n            if (selectedSection === 'CHUYN KHOA A T M') {\n                return (\n                    <ChuyenKhoaATyDamEditor\n                        data={cmsData.pages.page6.chuyenKhoaATyDamContent}\n                        onChange={updateChuyenKhoaATyDamContent}\n                    />\n                )\n            }\n            if (selectedSection === 'NIN KHA 2024-2027') {\n                return (\n                    <NienKhoaPage\n                        data={cmsData.pages.page6.nienKhoaContent}\n                        onChange={updateNienKhoaContent6}\n                    />\n                )\n            }\n            if (selectedSection === 'Lch Hc Chi Tit') {\n                return (\n                    <ProgramSectionEFEditor\n                        data={cmsData.pages.page6.programSectionEFContent}\n                        onChange={updateProgramSectionEFContent}\n                    />\n                )\n            }\n        }\n\n        if (selectedPage === 'submissions') {\n            return <SubmissionsEditor />\n        }\n\n        if (selectedPage === 'alerts') {\n            return <AlertsEditor onNavigate={handleAlertClick} />\n        }\n\n        if (selectedPage === 'form_builder') {\n            return <FormBuilderEditor showNotification={showNotification} />\n        }\n\n\n\n        return (\n            <div className=\"preview-placeholder\">\n                <div className=\"preview-icon\">\n                    <svg width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" fill=\"none\">\n                        <rect x=\"8\" y=\"12\" width=\"48\" height=\"40\" rx=\"4\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\n                        <rect x=\"12\" y=\"16\" width=\"40\" height=\"8\" rx=\"2\" fill=\"currentColor\" opacity=\"0.2\" />\n                        <rect x=\"12\" y=\"28\" width=\"30\" height=\"4\" rx=\"2\" fill=\"currentColor\" opacity=\"0.15\" />\n                        <rect x=\"12\" y=\"36\" width=\"35\" height=\"4\" rx=\"2\" fill=\"currentColor\" opacity=\"0.15\" />\n                        <rect x=\"12\" y=\"44\" width=\"25\" height=\"4\" rx=\"2\" fill=\"currentColor\" opacity=\"0.15\" />\n                    </svg>\n                </div>\n                <h2 className=\"preview-title\">\n                    {selectedSection ? `Edit ${selectedSection}` : 'Select a section to edit'}\n                </h2>\n                <p className=\"preview-description\">\n                    {selectedSection\n                        ? 'Editor for this section is coming soon.'\n                        : 'Choose a category and section from the left panel to start editing.'}\n                </p>\n            </div>\n        )\n    }\n\n    return (\n        //  <RoleRoutesJWT role={'admin'} >\n        <div className=\"editor-page\">\n            {/* Recovery Banner */}\n            {showRecoveryBanner && (\n                <div className=\"recovery-banner\">\n                    <div className=\"recovery-banner-content\">\n                        <div className=\"recovery-icon\">\n                            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                <path d=\"M11 17l-5-5 5-5M18 17l-5-5 5-5\" />\n                            </svg>\n                        </div>\n                        <div className=\"recovery-text\">\n                            <h3>Recovered Changes Found</h3>\n                            <p>We found draft changes that weren't implemented. Would you like to reload them now or discard them?</p>\n                        </div>\n                        <div className=\"recovery-actions\">\n                            <button\n                                className=\"btn-recovery-reload\"\n                                onClick={() => {\n                                    const draft = localStorage.getItem('sbu-cms-draft');\n                                    if (draft) {\n                                        importCMSData(draft);\n                                        showNotification('Draft recovered successfully!', 'success');\n                                    }\n                                    setShowRecoveryBanner(false);\n                                }}\n                            >\n                                Reload Draft\n                            </button>\n                            <button\n                                className=\"btn-recovery-discard\"\n                                onClick={() => {\n                                    discardDraft();\n                                    setShowRecoveryBanner(false);\n                                }}\n                            >\n                                Discard Draft\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Header */}\n            <header className=\"editor-header\">\n                <div className=\"editor-header-content\">\n                    <h1 className=\"editor-title\">Content Editor</h1>\n                    <div className=\"editor-actions\">\n                        {/* Mobile Menu Toggle */}\n                        <div className=\"mobile-menu-container\" ref={mobileMenuRef}>\n                            <button\n                                className=\"btn-mobile-menu\"\n                                onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n                                title=\"Menu\"\n                            >\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                    <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"></line>\n                                    <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\n                                    <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"></line>\n                                </svg>\n                            </button>\n\n                            {isMobileMenuOpen && (\n                                <div className=\"mobile-menu-dropdown\">\n                                    <button\n                                        className=\"mobile-menu-item\"\n                                        onClick={() => {\n                                            handlePreview()\n                                            setIsMobileMenuOpen(false)\n                                        }}\n                                        disabled={!hasDraftChanges || hasUnsavedChanges || isPreviewing || isSaving || isDeleting || isPublishing}\n                                    >\n                                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                            <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                                            <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                                        </svg>\n                                        {hasDraftChanges ? 'Preview' : 'Nothing to preview'}\n                                    </button>\n                                    <button\n                                        className=\"mobile-menu-item primary\"\n                                        onClick={() => {\n                                            handleSaveDraft()\n                                            setIsMobileMenuOpen(false)\n                                        }}\n                                        disabled={!hasUnsavedChanges || isSaving || isPreviewing || isDeleting || isPublishing}\n                                    >\n                                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                            <path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"></path>\n                                            <polyline points=\"17 21 17 13 7 13 7 21\"></polyline>\n                                            <polyline points=\"7 3 7 8 15 8\"></polyline>\n                                        </svg>\n                                        Save Draft\n                                    </button>\n                                    <button\n                                        className=\"mobile-menu-item success\"\n                                        onClick={() => {\n                                            handlePublish()\n                                            setIsMobileMenuOpen(false)\n                                        }}\n                                        disabled={!hasDraftChanges || hasUnsavedChanges || isPublishing || isSaving || isPreviewing || isDeleting}\n                                    >\n                                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                            <polyline points=\"22 12 16 12 14 15 10 15 8 12 2 12\"></polyline>\n                                            <path d=\"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\"></path>\n                                        </svg>\n                                        Publish\n                                    </button>\n                                    <button\n                                        className=\"mobile-menu-item danger\"\n                                        onClick={() => {\n                                            handleDeleteDraft()\n                                            setIsMobileMenuOpen(false)\n                                        }}\n                                        disabled={!hasDraftChanges || isDeleting || isSaving || isPreviewing || isPublishing}\n                                    >\n                                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                            <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                            <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                        </svg>\n                                        Delete Draft\n                                    </button>\n                                    <button\n                                        className=\"mobile-menu-item logout\"\n                                        onClick={() => {\n                                            window.location.href = '/logout'\n                                        }}\n                                    >\n                                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                            <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path>\n                                            <polyline points=\"16 17 21 12 16 7\"></polyline>\n                                            <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"></line>\n                                        </svg>\n                                        Logout\n                                    </button>\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Alerts Bell */}\n                        <div className=\"alerts-bell-container\" ref={alertsDropdownRef}>\n                            <button\n                                className={`btn-bell ${isAlertsOpen ? 'active' : ''}`}\n                                onClick={() => setIsAlertsOpen(!isAlertsOpen)}\n                                title=\"System Alerts\"\n                            >\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                    <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"></path>\n                                    <path d=\"M13.73 21a2 2 0 0 1-3.46 0\"></path>\n                                </svg>\n                                {systemAlerts.length > 0 && (\n                                    <span className=\"bell-badge\">{systemAlerts.length}</span>\n                                )}\n                            </button>\n\n                            {isAlertsOpen && (\n                                <div className=\"alerts-dropdown\">\n                                    <div className=\"alerts-dropdown-header\">\n                                        <h3>Recent Activity</h3>\n                                    </div>\n                                    <div className=\"alerts-dropdown-list\">\n                                        {systemAlerts.slice(0, 5).map(alert => (\n                                            <div\n                                                key={alert.id}\n                                                className={`alert-preview-item ${alert.link ? 'navigable' : ''}`}\n                                                onClick={() => handleAlertClick(alert.link)}\n                                            >\n                                                <div className=\"alert-preview-main\">\n                                                    <span className=\"alert-preview-user\">{alert.user}</span>\n                                                    <span className=\"alert-preview-action\">{alert.action}</span>\n                                                </div>\n                                                <span className=\"alert-preview-time\">{formatRelativeTime(alert.timestamp)}</span>\n                                            </div>\n                                        ))}\n                                        {systemAlerts.length === 0 && (\n                                            <div className=\"alert-preview-item\">\n                                                <span className=\"alert-preview-action\">No recent activity</span>\n                                            </div>\n                                        )}\n                                    </div>\n                                    <div className=\"alerts-dropdown-footer\">\n                                        <button\n                                            className=\"btn-read-more\"\n                                            onClick={() => {\n                                                setSelectedPage('alerts')\n                                                setSelectedSection('Activity Feed')\n                                                setIsAlertsOpen(false)\n                                            }}\n                                        >\n                                            Read all alerts\n                                        </button>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n\n                        <button\n                            className=\"btn-secondary desktop-only\"\n                            onClick={handlePreview}\n                            disabled={!hasDraftChanges || hasUnsavedChanges || isPreviewing || isSaving || isDeleting || isPublishing}\n                            title={hasUnsavedChanges ? \"Save draft first to preview changes\" : \"Preview saved draft\"}\n                        >\n                            {isPreviewing && (\n                                <div className=\"dots-loader\">\n                                    <span></span><span></span><span></span>\n                                </div>\n                            )}\n                            {hasDraftChanges ? \"Preview\" : \"Nothing to preview\"}\n                        </button>\n                        <button\n                            className=\"btn-danger desktop-only\"\n                            onClick={handleDeleteDraft}\n                            disabled={!hasDraftChanges || isDeleting || isSaving || isPreviewing || isPublishing}\n                        >\n                            {isDeleting && (\n                                <div className=\"dots-loader\">\n                                    <span></span><span></span><span></span>\n                                </div>\n                            )}\n                            Delete Draft\n                        </button>\n                        <button\n                            className=\"btn-primary desktop-only\"\n                            onClick={handleSaveDraft}\n                            disabled={!hasUnsavedChanges || isSaving || isPreviewing || isDeleting || isPublishing}\n                        >\n                            {isSaving && (\n                                <div className=\"dots-loader\">\n                                    <span></span><span></span><span></span>\n                                </div>\n                            )}\n                            Save Draft\n                        </button>\n                        <button\n                            className=\"btn-publish desktop-only\"\n                            onClick={handlePublish}\n                            disabled={!hasDraftChanges || hasUnsavedChanges || isPublishing || isSaving || isPreviewing || isDeleting}\n                        >\n                            {isPublishing && (\n                                <div className=\"dots-loader\">\n                                    <span></span><span></span><span></span>\n                                </div>\n                            )}\n                            Publish\n                        </button>\n\n                        <button\n                            className=\"btn-logout desktop-only\"\n                            onClick={() => window.location.href = '/logout'}\n                            title=\"Sign Out\"\n                        >\n                            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path>\n                                <polyline points=\"16 17 21 12 16 7\"></polyline>\n                                <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"></line>\n                            </svg>\n                            Logout\n                        </button>\n                    </div>\n                </div>\n            </header>\n\n            {/* Main Layout */}\n            <div className=\"editor-layout\">\n                {/* Left Column - Editor Panel */}\n                <aside className=\"editor-panel\">\n                    {/* Category Selector */}\n                    <div className=\"page-selector\">\n                        <label htmlFor=\"page-select\" className=\"page-selector-label\">\n                            Select Category\n                        </label>\n                        <select\n                            id=\"page-select\"\n                            className=\"page-select\"\n                            value={selectedPage}\n                            onChange={(e) => {\n                                setSelectedPage(e.target.value as PageKey)\n                                setSelectedSection(null)\n                            }}\n                        >\n                            <option value=\"global\">Ci t chung (Nav/Footer)</option>\n                            <option value=\"home\">Trang Ch (/home)</option>\n                            <option value=\"page2\">V SBU </option>\n                            <option value=\"page3\">Chng trnh Thin </option>\n                            <option value=\"page4\">S trung ng Pht hc</option>\n                            <option value=\"page5\">Cao ng Pht hc</option>\n                            <option value=\"page6\">Chuyn khoa A t m</option>\n                            <option value=\"submissions\">n ng k (Submissions)</option>\n                            <option value=\"alerts\">Thng bo h thng (Alerts)</option>\n                            <option value=\"form_builder\">Thit k Form (Builder)</option>\n\n\n\n                        </select>\n                    </div>\n\n                    {/* Version Info (MTC-BDPQ-026) */}\n\n\n                    {/* Panel Header */}\n                    <div className=\"panel-header\">\n                        <h2>{pagesData[selectedPage].name} Sections</h2>\n                        <p className=\"panel-subtitle\">Select a section to edit</p>\n                    </div>\n\n                    <div className=\"section-list\">\n                        {currentSections.map((section) => (\n                            <div\n                                key={section.id}\n                                className={`section-block ${selectedSection === section.name ? 'active' : ''}`}\n                                onClick={() => setSelectedSection(section.name)}\n                            >\n                                <span className=\"section-icon\">\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                        <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\n                                        <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"9\" />\n                                        <line x1=\"9\" y1=\"13\" x2=\"15\" y2=\"13\" />\n                                    </svg>\n                                </span>\n                                <div className=\"section-info\">\n                                    <h3 className=\"section-name\">{section.name}</h3>\n                                    <p className=\"section-status\">\n                                        {selectedSection === section.name ? 'Editing...' : 'Ready to edit'}\n                                    </p>\n                                </div>\n                                <button className=\"section-edit-btn\">\n                                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n                                        <path d=\"M11.333 2.00004C11.5081 1.82494 11.716 1.68605 11.9447 1.59129C12.1735 1.49653 12.4187 1.44775 12.6663 1.44775C12.914 1.44775 13.1592 1.49653 13.3879 1.59129C13.6167 1.68605 13.8246 1.82494 13.9997 2.00004C14.1748 2.17513 14.3137 2.383 14.4084 2.61178C14.5032 2.84055 14.552 3.08575 14.552 3.33337C14.552 3.58099 14.5032 3.82619 14.4084 4.05497C14.3137 4.28374 14.1748 4.49161 13.9997 4.66671L5.33301 13.3334L1.99967 14.3334L2.99967 11L11.333 2.00004Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                                    </svg>\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                    <div className='seperate-line'></div>\n                    <div className=\"version-info\">\n                        <div className=\"version-item\">\n                            <span className=\"version-label\">Current Version:</span>\n                            <span className=\"version-value\">{cmsData.version || 0}</span>\n                        </div>\n                        <div className=\"version-item\">\n                            <span className=\"version-label\">Draft Version:</span>\n                            <span className=\"version-value draft\">{draftVersion || \"No draft\"}</span>\n                        </div>\n                        <div className=\"version-item\">\n                            <span className=\"version-label\">Remote Version:</span>\n                            <span className=\"version-value remote\">{remoteVersion || 0}</span>\n                        </div>\n                        {isSuperAdmin && (\n                            <div className=\"version-item\" style={{ marginTop: '10px', borderTop: '1px solid #e5e5e5', paddingTop: '10px' }}>\n                                <span className=\"version-label\" style={{ color: '#ef4444' }}>Super Admin:</span>\n                                <label className=\"news-toggle-control\" style={{ transform: 'scale(0.8)', marginLeft: 'auto', marginBottom: 0 }}>\n                                    <input\n                                        type=\"checkbox\"\n                                        checked={isSuperAdminMode}\n                                        onChange={toggleSuperAdminMode}\n                                    />\n                                    <span className=\"news-toggle-slider\"></span>\n                                </label>\n                            </div>\n                        )}\n                        <div className=\"version-item\" style={{ marginTop: '12px', borderTop: '1px solid #e5e5e5', paddingTop: '12px', flexDirection: 'column', alignItems: 'stretch' }}>\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>\n                                <span className=\"version-label\" style={{ color: '#E6B422', fontWeight: 'bold', fontSize: '11px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Typography System</span>\n                                <span style={{ fontSize: '10px', color: '#999', fontWeight: '500' }}>{cmsData.global.footerContent.fontVersion === 'v2' ? 'FIGMA EXACT' : 'CLASSIC'}</span>\n                            </div>\n\n                            <div className=\"premium-font-switcher\" style={{\n                                display: 'flex',\n                                background: '#f0f0f0',\n                                padding: '3px',\n                                borderRadius: '20px',\n                                position: 'relative',\n                                marginBottom: '10px'\n                            }}>\n                                <button\n                                    onClick={() => updateFooterContent({ fontVersion: 'v1' })}\n                                    style={{\n                                        flex: 1,\n                                        zIndex: 2,\n                                        border: 'none',\n                                        background: 'transparent',\n                                        padding: '6px 10px',\n                                        fontSize: '11px',\n                                        fontWeight: cmsData.global.footerContent.fontVersion !== 'v2' ? 'bold' : 'normal',\n                                        color: cmsData.global.footerContent.fontVersion !== 'v2' ? '#1a2a24' : '#666',\n                                        cursor: 'pointer',\n                                        transition: 'all 0.3s ease'\n                                    }}\n                                >\n                                    Version 1\n                                </button>\n                                <button\n                                    onClick={() => updateFooterContent({ fontVersion: 'v2' })}\n                                    style={{\n                                        flex: 1,\n                                        zIndex: 2,\n                                        border: 'none',\n                                        background: 'transparent',\n                                        padding: '6px 10px',\n                                        fontSize: '11px',\n                                        fontWeight: cmsData.global.footerContent.fontVersion === 'v2' ? 'bold' : 'normal',\n                                        color: cmsData.global.footerContent.fontVersion === 'v2' ? '#1a2a24' : '#666',\n                                        cursor: 'pointer',\n                                        transition: 'all 0.3s ease'\n                                    }}\n                                >\n                                    Version 2\n                                </button>\n                                {/* Animated slider pill */}\n                                <div style={{\n                                    position: 'absolute',\n                                    top: '3px',\n                                    left: cmsData.global.footerContent.fontVersion === 'v2' ? '50%' : '3px',\n                                    width: 'calc(50% - 3px)',\n                                    height: 'calc(100% - 6px)',\n                                    background: '#fff',\n                                    borderRadius: '18px',\n                                    boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\n                                    transition: 'all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28)',\n                                    zIndex: 1\n                                }}></div>\n                            </div>\n\n                            <div style={{\n                                padding: '8px',\n                                background: 'rgba(230, 180, 34, 0.04)',\n                                borderRadius: '6px',\n                                border: '1px solid rgba(230, 180, 34, 0.12)'\n                            }}>\n                                <p style={{ fontSize: '10px', margin: 0, color: '#555', lineHeight: '1.4' }}>\n                                    {cmsData.global.footerContent.fontVersion === 'v2' ? (\n                                        <>\n                                            <strong>H:</strong> Be Vietnam Pro  <strong>B:</strong> Roboto<br />\n                                            <strong>A:</strong> Allison (Script/Quotes)\n                                        </>\n                                    ) : (\n                                        <>\n                                            <strong>H/B:</strong> Inter & Playfair Display<br />\n                                            (Legacy Setup)\n                                        </>\n                                    )}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </aside>\n\n                {/* Right Column - Preview Area */}\n                <main className=\"preview-area\">\n                    {renderEditor()}\n                </main>\n            </div >\n            {/* Notification Toast */}\n            {\n                notification && (\n                    <div className=\"notification-container\">\n                        <div className={`notification ${notification.type}`}>\n                            <div className=\"notification-icon\">\n                                {notification.type === 'success' && (\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"currentColor\" style={{ color: '#10b981' }}>\n                                        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                                    </svg>\n                                )}\n                                {notification.type === 'error' && (\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"currentColor\" style={{ color: '#ef4444' }}>\n                                        <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                                    </svg>\n                                )}\n                                {notification.type === 'info' && (\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"currentColor\" style={{ color: '#3b82f6' }}>\n                                        <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                                    </svg>\n                                )}\n                            </div>\n                            <div className=\"notification-message\">{notification.message}</div>\n                        </div>\n                    </div>\n                )\n            }\n        </div >\n        //    </RoleRoutesJWT>\n    )\n}\n\nexport default EditorPage"],"names":["_ref","isOpen","onClose","onUpload","currentValue","activeTab","setActiveTab","useState","url","setUrl","isDragging","setIsDragging","uploadState","setUploadState","progress","setProgress","statusMessage","setStatusMessage","uploadedImageUrl","setUploadedImageUrl","logicalName","setLogicalName","altText","setAltText","showToast","setShowToast","fileInputRef","useRef","processFile","async","file","type","startsWith","img","Image","objectUrl","URL","createObjectURL","Promise","resolve","reject","onload","onerror","src","width","height","aspectRatio","finalUrl","canvas","document","createElement","ctx","getContext","scaleFactor","drawImage","blob","toBlob","setTimeout","error","React","className","onClick","e","stopPropagation","onDragOver","preventDefault","onDragLeave","onDrop","_e$dataTransfer$files","dataTransfer","files","viewBox","fill","xmlns","x","y","rx","d","handleFileBrowse","_fileInputRef$current","current","click","ref","style","display","accept","onChange","_e$target$files","target","alt","value","placeholder","handleConfirmSave","handleRetry","autoFocus","handleUrlSubmit","label","hint","compact","isModalOpen","setIsModalOpen","inputRef","handleEditClick","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ry","cx","cy","r","readOnly","ImageUploadModal","newUrl","locked","onToggle","isSuperAdminMode","useCMS","alignItems","gap","fontSize","fontWeight","color","textTransform","marginBottom","checked","data","justifyContent","SectionLockControl","newLocked","opacity","pointerEvents","transition","htmlFor","id","rows","title","mobileTitle","ImageEditor","backgroundImage","val","mobileBackgroundImage","isSuperAdmin","toggleSuperAdminMode","editingNavId","setEditingNavId","updateNavItem","updates","updatedItems","navigationItems","map","item","Object","assign","updateDropdownItem","navId","dropdownId","dropdownItems","dropItem","logoImage","logoVietnamese","logoEnglish","margin","navItem","index","_navItem$dropdownItem","key","href","disabled","isDropdown","undefined","find","newDropdownItem","Date","now","concat","_toConsumableArray","addDropdownItem","removeDropdownItem","filter","updateField","field","enabled","californiaLabel","californiaSubLabel","californiaDate","vietnamLabel","vietnamSubLabel","vietnamDate","subtitle","status","buttons","activeButtonIndex","setActiveButtonIndex","responseButtonIndex","setResponseButtonIndex","x1","y1","x2","y2","points","btn","_btn$template","isActive","hasResponse","variant","button","buttonTextResponse","console","handleButtonClick","template","buttonTextActive","buttonText","_data$items$find","editingItemId","setEditingItemId","deleteConfirmId","setDeleteConfirmId","updateItem","items","newItem","isFeatured","allUpdated","sectionTitle","addItem","date","toLocaleDateString","category","image","length","link","PopupDynamic","i","removeItem","editingProgramId","setEditingProgramId","updateProgram","updateLink","progId","program","p","newLinks","links","updateLecture","lectId","newLectures","lectures","l","addProgram","newProgram","description","imageUrl","marginTop","cursor","name","imagePosition","addLink","idx","removeLink","_","newLecture","instructor","addLecture","lecture","removeLecture","removeProgram","editingColumnId","setEditingColumnId","updateColumn","colId","updatedColumns","columns","col","itemId","column","c","editingCardId","setEditingCardId","deleteGroupInfo","setDeleteGroupInfo","updateCard","cardId","updatedCards","cards","card","updateGroup","groupId","updatedGroups","groups","group","newGroup","addGroup","g","removeGroup","updateContact","contact","updateSocial","social","updateQuickLink","quickLinks","titleDesktop","titleMobile","logoAlt","copyright","address","phone","email","addQuickLink","removeQuickLink","youtube","facebook","handleSignatureChange","signature","greeting","paragraphs","para","resize","handleParagraphChange","newParagraphs","removeParagraph","addParagraph","closing","organization","role","FaHandshake","IoEarOutline","FaBrain","FaPray","handleItemChange","newItems","handleGroupChange","newGroups","desktopBackground","gIndex","mobileBackground","members","member","mIndex","handleMemberChange","groupIndex","memberIndex","newMembers","removeMember","addMember","onNavigate","forms","useFormData","selectedForm","f","formId","JSON","stringify","form","log","desktopImage","submitLabel","fullForm","handleFormSelect","flex","textDecoration","padding","backgroundColor","border","borderRadius","letterSpacing","FormRenderer","textAlign","handleCardChange","newCards","handleMainAltChange","quote","cardsHeading","removeCard","addCard","newCard","updateMeta","meta","updateCurriculum","side","updated","curriculum","addCurriculumItem","removeCurriculumItem","duration","schedule","line","window","confirm","left","right","_data$blocks$find","editingBlockId","setEditingBlockId","updateBlock","blockId","updatedBlocks","blocks","block","updateCourse","courseId","b","updatedCourses","courses","addBlock","newBlock","imageDesktop","imageMobile","schedules","heading","dayLabel","details","addScheduleItem","itemIndex","addScheduleDetail","removeScheduleItem","detail","detailIndex","updatedDetails","removeScheduleDetail","newCourse","addCourse","course","removeCourse","removeBlock","updateCurriculumItem","updateScheduleItem","newSchedule","section","kosa","abhidhamma","_data$blocks$deleteBl","deleteBlockIndex","setDeleteBlockIndex","blockIndex","newBlocks","courseIndex","newCourses","newType","updateScheduleDetail","newDetails","images","desktop","mobile","newLink","STORAGE_KEYS","initialSubmissions","formName","message","initialAlerts","user","action","timestamp","getFromStorage","localStorage","getItem","parse","siteApi","getSubmissions","success","getAlerts","sort","a","getTime","logActivity","warn","alerts","newAlert","toISOString","unshift","setItem","FIELD_TYPES","TEMPLATES","fields","required","validation","mode","showNotification","loading","createForm","updateForm","deleteForm","activeFormId","setActiveFormId","draftForm","setDraftForm","showTemplateMenu","setShowTemplateMenu","showDeleteConfirm","setShowDeleteConfirm","useEffect","found","handleCreateForm","newDraft","updateGhiDanhNhapHocContent","handleUpdateField","fieldId","updatedFields","position","background","top","boxShadow","zIndex","t","onMouseOver","currentTarget","onMouseOut","templateId","handleLoadTemplate","maxWidth","handleRenameForm","newTitle","marginRight","handleSaveForm","created","dispatchEvent","CustomEvent","includes","options","handleRemoveField","paddingLeft","borderLeft","flexDirection","option","newOpts","currentOpts","alignSelf","helpText","handleAddField","newField","sampleSubmissions","SubmissionsEditor","selectedId","setSelectedId","selectedSubmission","s","formatDate","dateStr","day","month","year","localeCompare","sub","msg","substring","setAlerts","setLoading","currentPage","setCurrentPage","response","fetchAlerts","handleAlertClick","alert","totalPages","Math","ceil","currentAlerts","slice","diffInSeconds","floor","hour","minute","formatRelativeTime","prev","EditorPage","alertsDropdownRef","mobileMenuRef","isAlertsOpen","setIsAlertsOpen","isMobileMenuOpen","setIsMobileMenuOpen","handleClickOutside","event","contains","addEventListener","removeEventListener","selectedPage","setSelectedPage","selectedSection","setSelectedSection","cmsData","resetCMSData","updateHeaderContent","updateFooterContent","updatePageHeader","updateUpcomingEventContent","updateNewsContent","updatePrograms","updateSupportContent","updateScriptureContent","updateLoiTuBachContent","updateBonDaiTongChiContent","updateBanNhanSuContent","updateKhongGianThienContent","updateKhongGianThien12Content","updateGhiDanhThienContent","updateChuongTrinhSoTrungDangContent","updateNienKhoaContent","updateNienKhoa2022Content","updateNienKhoa2019Content","updateChuongTrinhCaoDangContent","updateCaoDangNienKhoaContent","updateCaoDang2022Content","updateCaoDang2019Content","updateChuyenKhoaATyDamContent","updateNienKhoaContent6","updateProgramSectionEFContent","saveDraft","publishCMSData","importCMSData","discardDraft","hasDraftChanges","hasUnsavedChanges","remoteVersion","draftVersion","pagesData","global","sections","icon","home","page2","page3","page4","page5","page6","submissions","form_builder","isSaving","setIsSaving","isPreviewing","setIsPreviewing","isDeleting","setIsDeleting","showRecoveryBanner","setShowRecoveryBanner","notification","setNotification","systemAlerts","setSystemAlerts","interval","setInterval","clearInterval","handleDeleteDraft","handleSaveDraft","isPublishing","setIsPublishing","handlePublish","version","handlePreview","path","open","currentSections","draft","location","borderTop","paddingTop","transform","marginLeft","footerContent","fontVersion","lineHeight","renderEditor","HeaderContentEditor","headerContent","FooterEditor","HeaderEditor","pages","header","UpcomingEventEditor","upcomingEventContent","NewsEditor","newsContent","ProgramsEditor","programsContent","SupportEditor","supportContent","ScriptureEditor","scriptureContent","pageKey","LoiTuBachEditor","loiTuBachContent","BonDaiTongChiEditor","bonDaiTongChiContent","BanNhanSuEditor","banNhanSuContent","GhiDanhNhapHocEditor","ghiDanhNhapHocContent","KhongGianThienEditor","khongGianThienContent","KhongGianThien12Editor","khongGianThien12Content","FormGhiDanhEditor","ghiDanhThienContent","ChuongTrinhSoTrungDangEditor","chuongTrinhSoTrungDangContent","NienKhoaEditor","nienKhoaContent","NienKhoa2022Editor","nienKhoa2022Content","NienKhoa2019Editor","nienKhoa2019Content","ChuongTrinhCaoDangEditor","chuongTrinhCaoDangContent","CaoDangNienKhoaEditor","caoDangNienKhoaContent","CaoDang2022Editor","caoDang2022Content","CaoDang2019Editor","caoDang2019Content","ChuyenKhoaATyDamEditor","chuyenKhoaATyDamContent","NienKhoaPage","ProgramSectionEFEditor","programSectionEFContent","AlertsEditor","FormBuilderEditor","fillRule","clipRule"],"sourceRoot":""}