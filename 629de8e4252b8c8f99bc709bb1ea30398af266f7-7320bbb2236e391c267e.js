"use strict";(self.webpackChunkgatsby_starter_minimal_ts=self.webpackChunkgatsby_starter_minimal_ts||[]).push([[737],{7003:function(e,t,a){a.r(t),a.d(t,{default:function(){return X}});a(6910);var l=a(6540),n=a(4373);var i=e=>{let{isOpen:t,onClose:a,onUpload:n,currentValue:i}=e;const{0:s,1:r}=(0,l.useState)("upload"),{0:c,1:o}=(0,l.useState)(i),{0:m,1:d}=(0,l.useState)(!1),{0:u,1:g}=(0,l.useState)("idle"),{0:p,1:E}=(0,l.useState)(0),{0:h,1:v}=(0,l.useState)(""),{0:b,1:N}=(0,l.useState)(""),{0:f,1:k}=(0,l.useState)(""),{0:y,1:C}=(0,l.useState)(""),{0:x,1:w}=(0,l.useState)(!1),I=(0,l.useRef)(null);if(!t)return null;const S=async e=>{if(e&&e.type.startsWith("image/")){g("uploading"),E(0),v("10% — checking dimensions");try{const t=new Image,a=URL.createObjectURL(e);await new Promise((e,l)=>{t.onload=e,t.onerror=l,t.src=a});const l=t.width,n=t.height,i=l/n;if(l<400||n<250)return v("Please upload a landscape image (at least 400×250). Portrait images distort layout."),void g("error");if(i<1||i>4)return v("Image aspect ratio is too extreme. Please use a standard landscape format."),void g("error");let s=a;if(l>1200){v("40% — optimizing image size");const e=document.createElement("canvas"),a=e.getContext("2d"),i=1200/l;e.width=1200,e.height=n*i,null==a||a.drawImage(t,0,0,e.width,e.height);const r=await new Promise(t=>e.toBlob(t,"image/jpeg",.85));r&&(s=URL.createObjectURL(r)),E(60)}v("80% — finalizing"),E(80),await new Promise(e=>setTimeout(e,400)),N(s),E(100),v("Upload successful ✅"),w(!0),setTimeout(()=>{w(!1),g("success")},1e3)}catch(t){v("Upload failed ❌ — invalid image file"),g("error")}}};return l.createElement("div",{className:"modal-overlay",onClick:a},l.createElement("div",{className:"modal-container",onClick:e=>e.stopPropagation()},l.createElement("div",{className:"modal-header"},l.createElement("div",{className:"tab-group"},l.createElement("button",{className:"tab-btn "+("upload"===s?"active":""),onClick:()=>r("upload")},"Upload"),l.createElement("button",{className:"tab-btn "+("url"===s?"active":""),onClick:()=>r("url")},"Link (URL)")),l.createElement("button",{className:"close-modal-btn",onClick:a},"×")),l.createElement("div",{className:"modal-content"},"upload"===s?l.createElement("div",{className:"upload-view"},"idle"===u&&l.createElement("div",{className:"drop-zone "+(m?"dragging":""),onDragOver:e=>{e.preventDefault(),e.stopPropagation(),d(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),d(!1)},onDrop:e=>{var t;e.preventDefault(),e.stopPropagation(),d(!1);const a=null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0];S(a)}},l.createElement("div",{className:"dashed-border"},l.createElement("div",{className:"folder-icon"},l.createElement("svg",{width:"80",height:"64",viewBox:"0 0 80 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"25",y:"10",width:"30",height:"20",rx:"2",fill:"white"}),l.createElement("path",{d:"M72 56V20C72 17.7909 70.2091 16 68 16H42L36 10H12C9.79086 10 8 11.7909 8 14V56C8 58.2091 9.79086 60 12 60H68C70.2091 60 72 58.2091 72 56Z",fill:"#4F46E5"}),l.createElement("path",{d:"M8 24H72V56C72 58.2091 70.2091 60 68 60H12C9.79086 60 8 58.2091 8 56V24Z",fill:"#6366F1"}))),l.createElement("p",{className:"upload-text"},"Drag your documents, photos, or",l.createElement("br",null),"videos here to start uploading."),l.createElement("div",{className:"divider"},l.createElement("span",{className:"divider-line"}),l.createElement("span",{className:"divider-text"},"OR"),l.createElement("span",{className:"divider-line"})),l.createElement("button",{className:"browse-btn",onClick:()=>{var e;null===(e=I.current)||void 0===e||e.click()}},"Browse files"),l.createElement("input",{type:"file",ref:I,style:{display:"none"},accept:"image/*",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];S(a)}}))),"uploading"===u&&l.createElement("div",{className:"upload-progress"},l.createElement("div",{className:"progress-container"},l.createElement("div",{className:"progress-bar"},l.createElement("div",{className:"progress-fill",style:{width:p+"%"}})),l.createElement("div",{className:"progress-status"},h)),x&&l.createElement("div",{className:"success-toast"},h)),"success"===u&&l.createElement("div",{className:"upload-success"},l.createElement("div",{className:"image-preview"},l.createElement("img",{src:b,alt:"Uploaded",className:"preview-image"})),l.createElement("div",{className:"metadata-fields"},l.createElement("div",{className:"field-group"},l.createElement("label",{className:"field-label"},"Logical Name (optional)"),l.createElement("input",{type:"text",className:"field-input",value:f,onChange:e=>k(e.target.value),placeholder:"Enter a name for this image"})),l.createElement("div",{className:"field-group"},l.createElement("label",{className:"field-label"},"Alt Text (optional)"),l.createElement("input",{type:"text",className:"field-input",value:y,onChange:e=>C(e.target.value),placeholder:"Describe this image for accessibility"}))),l.createElement("div",{className:"modal-footer"},l.createElement("button",{className:"cancel-btn",onClick:a},"Cancel"),l.createElement("button",{className:"confirm-btn",onClick:()=>{n(b),a(),g("idle"),E(0),v(""),N(""),k(""),C("")}},"Confirm & Save"))),"error"===u&&l.createElement("div",{className:"upload-error"},l.createElement("div",{className:"error-message"},h),l.createElement("div",{className:"modal-footer"},l.createElement("button",{className:"cancel-btn",onClick:a},"Cancel"),l.createElement("button",{className:"confirm-btn",onClick:()=>{g("idle"),E(0),v("")}},"Try Again")))):l.createElement("div",{className:"url-view"},l.createElement("label",{className:"modal-label"},"External Image URL"),l.createElement("div",{className:"url-input-wrapper"},l.createElement("input",{type:"text",className:"modal-input",value:c,onChange:e=>o(e.target.value),placeholder:"https://example.com/image.jpg",autoFocus:!0})),l.createElement("p",{className:"url-hint"},"Paste a link to an image from the web (Unsplash, Imgur, etc.)"),l.createElement("div",{className:"modal-footer"},l.createElement("button",{className:"cancel-btn",onClick:a},"Cancel"),l.createElement("button",{className:"confirm-btn",onClick:()=>{n(c),a()}},"Apply Link"))))))};var s=e=>{let{label:t,hint:a,value:n,onChange:s,placeholder:r="Paste image URL here...",aspectRatio:c="landscape",compact:o=!1}=e;const{0:m,1:d}=(0,l.useState)(!1),u=(0,l.useRef)(null),g=()=>{d(!0)};return l.createElement("div",{className:"image-editor-component "+(o?"compact":"")},l.createElement("label",{className:"form-label"},t,a&&l.createElement("span",{className:"label-hint"},a)),l.createElement("div",{className:"image-workspace "+c+"-ratio "+(o?"compact-workspace":"")},n?l.createElement("div",{className:"image-current-wrapper"},l.createElement("img",{src:n,alt:"Preview",className:"image-current-preview"}),l.createElement("div",{className:"image-overlay-actions"},l.createElement("button",{className:"btn-edit-image",onClick:g,type:"button"},l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),l.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})),!o&&"Edit Image"))):l.createElement("div",{className:"image-upload-placeholder",onClick:g},l.createElement("svg",{width:o?24:48,height:o?24:48,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),l.createElement("circle",{cx:"9",cy:"9",r:"2"}),l.createElement("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})),!o&&l.createElement(l.Fragment,null,l.createElement("p",null,"Click to add image"),l.createElement("span",null,"Supports: JPG, PNG, WEBP, SVG"))),!o&&l.createElement("div",{className:"image-url-input-group"},l.createElement("div",{className:"input-with-icon"},l.createElement("svg",{className:"input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 0 0 0-7.07-7.07l-1.72 1.71"}),l.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 0 0 0 7.07 7.07l1.71-1.71"})),l.createElement("input",{ref:u,type:"text",className:"form-input",value:n,readOnly:!0,onClick:g,placeholder:r})))),l.createElement(i,{isOpen:m,onClose:()=>d(!1),onUpload:e=>{s(e)},currentValue:n}))};var r=e=>{let{locked:t,onToggle:a}=e;const{isSuperAdminMode:i}=(0,n.f9)();return i?l.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},l.createElement("span",{style:{fontSize:"12px",fontWeight:600,color:"#666",textTransform:"uppercase"}},t?"LOCKED":"UNLOCKED"),l.createElement("label",{className:"news-toggle-control",style:{marginBottom:0}},l.createElement("input",{type:"checkbox",checked:!t,onChange:()=>a(!t)}),l.createElement("span",{className:"news-toggle-slider"}))):null};var c=e=>{let{data:t,onChange:a}=e;return l.createElement("div",{className:"header-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Hero Header"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Update the main announcement and visual style")),l.createElement("div",{className:"editor-form",style:{opacity:t.locked?.5:1,pointerEvents:t.locked?"none":"auto",transition:"opacity 0.3s"}},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"header-title",className:"form-label"},"Main Title",l.createElement("span",{className:"label-hint"},"Use \\n for line breaks")),l.createElement("textarea",{id:"header-title",className:"form-input",rows:2,value:t.title,onChange:e=>a({title:e.target.value}),placeholder:"VIỆN PHẬT HỌC\\nBỒ ĐỀ PHẬT QUỐC"})),l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"header-mobile-title",className:"form-label"},"Mobile Title"),l.createElement("textarea",{id:"header-mobile-title",className:"form-input",rows:2,value:t.mobileTitle,onChange:e=>a({mobileTitle:e.target.value}),placeholder:"Về SBU"})),l.createElement(s,{label:"Desktop Background Image",hint:"Hero section background for desktop",value:t.backgroundImage,onChange:e=>a({backgroundImage:e}),aspectRatio:"landscape"}),l.createElement(s,{label:"Mobile Background Image",hint:"Hero section background for mobile",value:t.mobileBackgroundImage,onChange:e=>a({mobileBackgroundImage:e}),aspectRatio:"portrait"})))},o=a(4506);var m=e=>{let{data:t,onChange:a}=e;const{isSuperAdmin:i,isSuperAdminMode:c,toggleSuperAdminMode:m}=(0,n.f9)(),{0:d,1:u}=(0,l.useState)(null),g=(e,l)=>{const n=t.navigationItems.map(t=>t.id===e?Object.assign({},t,l):t);a({navigationItems:n})},p=(e,l,n)=>{const i=t.navigationItems.map(t=>t.id===e&&t.dropdownItems?Object.assign({},t,{dropdownItems:t.dropdownItems.map(e=>e.id===l?Object.assign({},e,n):e)}):t);a({navigationItems:i})};return l.createElement(l.Fragment,null,l.createElement("div",{className:"header-content-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Header Content"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage logo and navigation links")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("h3",{className:"section-title"},"Logo Settings"),l.createElement(s,{label:"Logo Image",hint:"Site logo shown in header",value:t.logoImage,onChange:e=>a({logoImage:e}),aspectRatio:"logo",placeholder:"Paste logo URL here..."}),l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"logo-vietnamese",className:"form-label"},"Vietnamese Text"),l.createElement("input",{id:"logo-vietnamese",type:"text",className:"form-input",value:t.logoVietnamese,onChange:e=>a({logoVietnamese:e.target.value}),placeholder:"VIỆN PHẬT HỌC"})),l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"logo-english",className:"form-label"},"English Text"),l.createElement("input",{id:"logo-english",type:"text",className:"form-input",value:t.logoEnglish,onChange:e=>a({logoEnglish:e.target.value}),placeholder:"Sakya Buddha University"}))),l.createElement("div",{className:"form-section"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"}},l.createElement("h3",{className:"section-title",style:{margin:0}},"Navigation Items")),l.createElement("div",{className:"nav-items-list"},t.navigationItems.map((e,n)=>{var i;return l.createElement("div",{key:e.id,className:"nav-item-card"},l.createElement("div",{className:"nav-item-header"},l.createElement("span",{className:"nav-item-number"},n+1),l.createElement("h4",{className:"nav-item-title"},e.label),l.createElement("button",{className:"toggle-edit-btn",onClick:()=>u(d===e.id?null:e.id)},d===e.id?"Close":"Edit")),d===e.id&&l.createElement("div",{className:"nav-item-editor"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Label"),l.createElement("input",{type:"text",className:"form-input",value:e.label,onChange:t=>g(e.id,{label:t.target.value}),placeholder:"Menu label"})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Link URL"),l.createElement("input",{type:"text",className:"form-input",value:e.href,onChange:t=>g(e.id,{href:t.target.value}),placeholder:"/page-url",disabled:e.isDropdown})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label toggle-label"},l.createElement("span",null,"Is Dropdown Menu"),l.createElement("div",{className:"toggle-wrapper"},l.createElement("input",{type:"checkbox",className:"toggle-checkbox",checked:e.isDropdown,onChange:t=>g(e.id,{isDropdown:t.target.checked,dropdownItems:t.target.checked?e.dropdownItems||[]:void 0})}),l.createElement("span",{className:"toggle-slider"})))),e.isDropdown&&l.createElement("div",{className:"dropdown-items-section"},l.createElement("div",{className:"dropdown-header"},l.createElement("h5",null,"Dropdown Items"),l.createElement("button",{className:"add-dropdown-btn",onClick:()=>(e=>{const l=t.navigationItems.find(t=>t.id===e);if(!l||!l.isDropdown)return;const n={id:"dropdown-"+Date.now(),label:"New Item",href:"#"},i=t.navigationItems.map(t=>t.id===e?Object.assign({},t,{dropdownItems:[].concat((0,o.A)(t.dropdownItems||[]),[n])}):t);a({navigationItems:i})})(e.id)},"+ Add Item")),null===(i=e.dropdownItems)||void 0===i?void 0:i.map(n=>l.createElement("div",{key:n.id,className:"dropdown-item-card"},l.createElement("div",{className:"dropdown-item-fields"},l.createElement("input",{type:"text",className:"form-input small",value:n.label,onChange:t=>p(e.id,n.id,{label:t.target.value}),placeholder:"Item label"}),l.createElement("input",{type:"text",className:"form-input small",value:n.href,onChange:t=>p(e.id,n.id,{href:t.target.value}),placeholder:"Item URL"}),l.createElement("button",{className:"remove-btn",onClick:()=>((e,l)=>{const n=t.navigationItems.map(t=>t.id===e&&t.dropdownItems?Object.assign({},t,{dropdownItems:t.dropdownItems.filter(e=>e.id!==l)}):t);a({navigationItems:n})})(e.id,n.id),title:"Remove item"},"×")))))))}))))))};var d=e=>{let{data:t,onChange:a}=e;if(!t)return l.createElement("div",null,"Loading...");const n=(e,t)=>{a({[e]:t})};return l.createElement("div",{className:"editor-container"},l.createElement("div",{className:"editor-header-row"},l.createElement("h3",null,"Upcoming Event Configuration"),l.createElement("div",{className:"editor-header-actions"},l.createElement("div",{className:"status-badge "+(t.enabled?"active":"hidden")},t.enabled?"ACTIVE":"HIDDEN"),l.createElement("div",{className:"header-toggle-container",title:t.enabled?"Hide Section":"Show Section"},l.createElement("label",{className:"toggle-switch small"},l.createElement("input",{type:"checkbox",checked:t.enabled,onChange:e=>n("enabled",e.target.checked),disabled:t.locked}),l.createElement("span",{className:"toggle-slider"}))),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})}))),l.createElement("div",{className:"editor-content "+(t.locked?"locked":"")},l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-grid-2"},l.createElement("div",{className:"form-group"},l.createElement("label",null,"Section Label"),l.createElement("input",{type:"text",value:t.label,onChange:e=>n("label",e.target.value),disabled:t.locked||!t.enabled,placeholder:"e.g. Sắp diễn ra:"})),l.createElement("div",{className:"form-group"},l.createElement("label",null,"Event Title"),l.createElement("input",{type:"text",value:t.title,onChange:e=>n("title",e.target.value),disabled:t.locked||!t.enabled,placeholder:"e.g. Pháp hội Dược Sư"})))),l.createElement("div",{className:"editor-section"},l.createElement("h4",null,"California Schedule"),l.createElement("div",{className:"editor-grid-2"},l.createElement("div",{className:"form-group"},l.createElement("label",null,"Location Label"),l.createElement("input",{type:"text",value:t.californiaLabel,onChange:e=>n("californiaLabel",e.target.value),disabled:t.locked||!t.enabled,placeholder:"e.g. California:"})),l.createElement("div",{className:"form-group"},l.createElement("label",null,"Venue / Type"),l.createElement("input",{type:"text",value:t.californiaSubLabel,onChange:e=>n("californiaSubLabel",e.target.value),disabled:t.locked||!t.enabled,placeholder:"e.g. Trực tiếp tại BĐPQ"})),l.createElement("div",{className:"form-group full-width"},l.createElement("label",null,"Date/Time Display"),l.createElement("input",{type:"text",value:t.californiaDate,onChange:e=>n("californiaDate",e.target.value),disabled:t.locked||!t.enabled,placeholder:"e.g. 26/02/2026"})))),l.createElement("div",{className:"editor-section"},l.createElement("h4",null,"Vietnam Schedule"),l.createElement("div",{className:"editor-grid-2"},l.createElement("div",{className:"form-group"},l.createElement("label",null,"Location Label"),l.createElement("input",{type:"text",value:t.vietnamLabel,onChange:e=>n("vietnamLabel",e.target.value),disabled:t.locked||!t.enabled,placeholder:"e.g. Việt Nam:"})),l.createElement("div",{className:"form-group"},l.createElement("label",null,"Venue / Type"),l.createElement("input",{type:"text",value:t.vietnamSubLabel,onChange:e=>n("vietnamSubLabel",e.target.value),disabled:t.locked||!t.enabled,placeholder:"e.g. Online Zoom/Youtube"})),l.createElement("div",{className:"form-group full-width"},l.createElement("label",null,"Date/Time Display"),l.createElement("input",{type:"text",value:t.vietnamDate,onChange:e=>n("vietnamDate",e.target.value),disabled:t.locked||!t.enabled,placeholder:"e.g. 27/02/2026"}))))))};var u=e=>{let{isOpen:t,onClose:a,title:n,subtitle:i,status:s,buttons:r,type:c="warning"}=e;const{0:o,1:m}=(0,l.useState)(null),{0:d,1:u}=(0,l.useState)(null);if(!t)return null;return l.createElement("div",{className:"popup-overlay",onClick:a},l.createElement("div",{className:"popup-content",onClick:e=>e.stopPropagation()},l.createElement("div",{className:"popup-icon-header "+c},"warning"===c&&l.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),l.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),l.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})),"error"===c&&l.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("circle",{cx:"12",cy:"12",r:"10"}),l.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),l.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"})),"success"===c&&l.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"20 6 9 17 4 12"})),"info"===c&&l.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("circle",{cx:"12",cy:"12",r:"10"}),l.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),l.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))),l.createElement("h3",{className:"popup-title"},n),i&&l.createElement("p",{className:"popup-subtitle"},i),l.createElement("div",{className:"popup-buttons"},r.map((e,t)=>{var n;const i=o===t,s=d===t;return l.createElement("button",{key:t,className:"popup-btn "+(e.variant||"secondary")+" "+(i?"active":"")+" "+(s?"response":"")+" "+(e.className||""),onClick:()=>(async(e,t)=>{if(null===o&&null===d){m(t);try{await e.onClick(),e.buttonTextResponse?(u(t),m(null),setTimeout(()=>{u(null),a()},1500)):(m(null),a())}catch(l){m(null),console.error("Popup action failed:",l)}}})(e,t),disabled:null!==o,style:null===(n=e.template)||void 0===n?void 0:n.style},i?l.createElement(l.Fragment,null,l.createElement("div",{className:"btn-spinner"}),e.buttonTextActive||e.buttonText):s?e.buttonTextResponse||"Success":e.buttonText)})),s&&l.createElement("div",{className:"popup-status"},s),l.createElement("button",{className:"popup-close-x",onClick:a,title:"Close"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))))};var g=e=>{var t;let{data:a,onChange:n}=e;const{0:i,1:c}=(0,l.useState)(null),{0:m,1:d}=(0,l.useState)(null),g=(e,t)=>{const l=a.items.map(a=>{if(a.id===e){const e=Object.assign({},a,t);return t.isFeatured,e}return t.isFeatured?Object.assign({},a,{isFeatured:!1}):a});if(t.isFeatured){const t=a.items.map(t=>Object.assign({},t,{isFeatured:t.id===e}));n({items:t})}else n({items:l})};return l.createElement("div",{className:"news-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Announcements"),l.createElement(r,{locked:a.locked,onToggle:e=>n({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage news items and featured content")),l.createElement("div",{className:"editor-form "+(a.locked?"locked-section":""),style:a.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"form-group"},l.createElement("label",{htmlFor:"section-title",className:"form-label"},"Section Title"),l.createElement("input",{id:"section-title",type:"text",className:"form-input",value:a.sectionTitle,onChange:e=>n({sectionTitle:e.target.value}),placeholder:"e.g., Thông báo mới"}))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Announcement Items"),l.createElement("button",{className:"btn-add-item",onClick:()=>{const e={id:"news-"+Date.now(),title:"New Announcement",subtitle:"Enter description here...",date:(new Date).toLocaleDateString("vi-VN"),category:"General",image:"",isFeatured:!1};n({items:[e].concat((0,o.A)(a.items))}),c(e.id)}},"+ Add Announcement")),l.createElement("div",{className:"news-items-list"},a.items.map(e=>l.createElement("div",{key:e.id,className:"news-item-card "+(i===e.id?"active":"")},l.createElement("div",{className:"news-item-header"},l.createElement("div",{className:"news-item-info"},e.isFeatured&&l.createElement("span",{className:"featured-badge"},"Featured"),l.createElement("span",{className:"item-label"},e.title)),l.createElement("div",{className:"item-actions"},l.createElement("button",{className:"btn-action edit",onClick:()=>c(i===e.id?null:e.id)},i===e.id?"Close":"Edit"),l.createElement("button",{className:"btn-action delete",onClick:()=>d(e.id)},"Delete"))),i===e.id&&l.createElement("div",{className:"news-item-editor"},l.createElement("div",{className:"news-toggle-group"},l.createElement("div",{className:"news-toggle-label-side"},l.createElement("span",{className:"news-toggle-title"},"Featured Announcement"),l.createElement("span",{className:"news-toggle-label-hint"},"Promote this item to the main hero slot & mobile header")),l.createElement("label",{className:"news-toggle-control"},l.createElement("input",{type:"checkbox",checked:e.isFeatured,onChange:t=>g(e.id,{isFeatured:t.target.checked})}),l.createElement("span",{className:"news-toggle-slider"}))),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Title"),l.createElement("input",{type:"text",className:"form-input "+(e.title.length>120?"input-error":""),value:e.title,onChange:t=>g(e.id,{title:t.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.title.length>120?"text-danger":""},e.title.length,"/120"),e.title.length>120&&l.createElement("span",{className:"warning-text"}," — Too long, will break layout"))),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Subtitle / Description"),l.createElement("textarea",{className:"form-input "+(e.subtitle.length>220?"input-error":""),rows:3,value:e.subtitle,onChange:t=>g(e.id,{subtitle:t.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.subtitle.length>220?"text-danger":""},e.subtitle.length,"/220"),e.subtitle.length>220&&l.createElement("span",{className:"warning-text"}," — Too long, will break layout"))),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Link URL"),l.createElement("input",{type:"text",className:"form-input",value:e.link||"",onChange:t=>g(e.id,{link:t.target.value}),placeholder:"e.g., /Sơ-trung-đẳng-Phật-học or https://..."})),l.createElement(s,{label:"Item Image",hint:"Best used for featured item",value:e.image,onChange:t=>g(e.id,{image:t}),aspectRatio:"landscape"}))))))),l.createElement(u,{isOpen:!!m,onClose:()=>d(null),title:"Delete Announcement?",subtitle:'Are you sure you want to delete "'+(null===(t=a.items.find(e=>e.id===m))||void 0===t?void 0:t.title)+'"? This action cannot be undone.',type:"error",buttons:[{buttonText:"Yes, Delete Announcement",buttonTextActive:"Deleting...",buttonTextResponse:"Deleted!",variant:"danger",onClick:async()=>{m&&((e=>{const t=a.items.filter(t=>t.id!==e);n({items:t})})(m),d(null))}},{buttonText:"Cancel",variant:"secondary",onClick:()=>d(null)}]}))};var p=e=>{var t;let{data:a,onChange:n}=e;const{0:i,1:c}=(0,l.useState)(null),{0:m,1:d}=(0,l.useState)(null),g=(e,t)=>{const l=a.items.map(a=>a.id===e?Object.assign({},a,t):a);n({items:l})},p=(e,t,l)=>{const n=a.items.find(t=>t.id===e);if(n){const a=(0,o.A)(n.links);a[t]=Object.assign({},a[t],l),g(e,{links:a})}},E=(e,t,l)=>{const n=a.items.find(t=>t.id===e);if(n){const a=n.lectures.map(e=>e.id===t?Object.assign({},e,l):e);g(e,{lectures:a})}};return l.createElement("div",{className:"programs-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Study Programs"),l.createElement(r,{locked:a.locked,onToggle:e=>n({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage curriculum blocks and new lectures")),l.createElement("div",{className:"editor-form "+(a.locked?"locked-section":""),style:a.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Course Blocks"),l.createElement("button",{className:"btn-add-item",onClick:()=>{const e={id:"prog-"+Date.now(),title:"New Program",description:"Program description...",links:[{label:"New Link ›",href:"#"}],lectures:[],imageUrl:""};n({items:[].concat((0,o.A)(a.items),[e])}),c(e.id)}},"+ Add Program")),l.createElement("div",{className:"programs-list"},a.items.map((e,t)=>l.createElement("div",{key:e.id,className:"program-card "+(i===e.id?"active":"")},l.createElement("div",{className:"program-card-header"},l.createElement("span",{className:"item-label"},e.title),l.createElement("div",{className:"item-actions"},l.createElement("button",{className:"btn-action edit",onClick:()=>c(i===e.id?null:e.id)},i===e.id?"Close":"Edit"),l.createElement("button",{className:"btn-action delete",onClick:()=>d(e.id)},"Delete"))),i===e.id&&l.createElement("div",{className:"program-item-editor"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Program Title"),l.createElement("input",{type:"text",className:"form-input",value:e.title,onChange:t=>g(e.id,{title:t.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Description"),l.createElement("textarea",{className:"form-input",rows:2,value:e.description,onChange:t=>g(e.id,{description:t.target.value})})),l.createElement(s,{label:"Banner Image",value:e.imageUrl,onChange:t=>g(e.id,{imageUrl:t}),aspectRatio:"landscape"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"pos-"+e.id,checked:!e.imagePosition,onChange:()=>g(e.id,{imagePosition:void 0})}),"Auto (Alternating)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"pos-"+e.id,checked:"left"===e.imagePosition,onChange:()=>g(e.id,{imagePosition:"left"})}),"Image Left"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"pos-"+e.id,checked:"right"===e.imagePosition,onChange:()=>g(e.id,{imagePosition:"right"})}),"Image Right"))),l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Program Links"),l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const t=a.items.find(t=>t.id===e);t&&g(e,{links:[].concat((0,o.A)(t.links),[{label:"New Link ›",href:"#"}])})})(e.id)},"+ Add Link")),l.createElement("div",{className:"links-editor-list"},e.links.map((t,n)=>l.createElement("div",{key:n,className:"link-item-edit-row"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Link Label",value:t.label,onChange:t=>p(e.id,n,{label:t.target.value})}),l.createElement("input",{type:"text",className:"form-input mini",placeholder:"URL (e.g. /programs/2025)",value:t.href,onChange:t=>p(e.id,n,{href:t.target.value})}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t)=>{const l=a.items.find(t=>t.id===e);if(l){const a=l.links.filter((e,a)=>a!==t);g(e,{links:a})}})(e.id,n),title:"Delete Link"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))))))),l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Recent Lectures"),l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const t=a.items.find(t=>t.id===e);if(t){const a={id:"lect-"+Date.now(),title:"New Lecture",subtitle:"Lecture topic...",instructor:"",image:"",link:"#"};g(e,{lectures:[].concat((0,o.A)(t.lectures),[a])})}})(e.id)},"+ Add Lecture")),l.createElement("div",{className:"lectures-editor-list"},e.lectures.map(t=>l.createElement("div",{key:t.id,className:"lecture-edit-card"},l.createElement("div",{className:"lecture-edit-grid"},l.createElement("div",{className:"lecture-edit-image"},l.createElement(s,{label:"Thumb",value:t.image||"",onChange:a=>E(e.id,t.id,{image:a}),aspectRatio:"square",compact:!0})),l.createElement("div",{className:"lecture-edit-details"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Lecture Title",value:t.title,onChange:a=>E(e.id,t.id,{title:a.target.value})})),l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Subtitle",value:t.subtitle,onChange:a=>E(e.id,t.id,{subtitle:a.target.value})})),l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Destination Link",value:t.link||"",onChange:a=>E(e.id,t.id,{link:a.target.value})}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t)=>{const l=a.items.find(t=>t.id===e);if(l){const a=l.lectures.filter(e=>e.id!==t);g(e,{lectures:a})}})(e.id,t.id),title:"Delete Lecture"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))))))))))))))),l.createElement(u,{isOpen:!!m,onClose:()=>d(null),title:"Delete Program?",subtitle:'Are you sure you want to delete "'+(null===(t=a.items.find(e=>e.id===m))||void 0===t?void 0:t.title)+'"? This action will remove all associated lectures and cannot be undone.',type:"error",buttons:[{buttonText:"Yes, Delete Program",buttonTextActive:"Deleting...",buttonTextResponse:"Deleted!",variant:"danger",onClick:async()=>{m&&((e=>{const t=a.items.filter(t=>t.id!==e);n({items:t})})(m),d(null))}},{buttonText:"Cancel",variant:"secondary",onClick:()=>d(null)}]}))};var E=e=>{let{data:t,onChange:a}=e;const{0:n,1:i}=(0,l.useState)(null),c=(e,l)=>{const n=t.columns.map(t=>t.id===e?Object.assign({},t,l):t);a({columns:n})},m=(e,a,l)=>{const n=t.columns.find(t=>t.id===e);if(!n)return;const i=n.items.map(e=>e.id===a?Object.assign({},e,l):e);c(e,{items:i})};return l.createElement("div",{className:"support-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Dharma Support"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage columns and items for the support section")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Main Title"),l.createElement("textarea",{className:"form-input",rows:2,value:t.sectionTitle,onChange:e=>a({sectionTitle:e.target.value}),placeholder:"Use \\n for line breaks"})),l.createElement("div",{className:"form-grid-2"},l.createElement(s,{label:"Desktop Background",value:t.backgroundImage,onChange:e=>a({backgroundImage:e}),aspectRatio:"landscape"}),l.createElement(s,{label:"Mobile Background",value:t.mobileBackgroundImage,onChange:e=>a({mobileBackgroundImage:e}),aspectRatio:"landscape"})),l.createElement("div",{className:"columns-list"},t.columns.map(e=>l.createElement("div",{key:e.id,className:"column-card "+(n===e.id?"active":"")},l.createElement("div",{className:"column-card-header"},l.createElement("span",{className:"item-label"},e.title||"Untitled Column"),l.createElement("button",{className:"btn-action edit",onClick:()=>i(n===e.id?null:e.id)},n===e.id?"Close":"Edit")),n===e.id&&l.createElement("div",{className:"column-item-editor"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Column Title"),l.createElement("input",{type:"text",className:"form-input "+(e.title.length>60?"input-error":""),value:e.title,onChange:t=>c(e.id,{title:t.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.title.length>60?"text-danger":""},e.title.length,"/60"),e.title.length>60&&l.createElement("span",{className:"warning-text"}," — Too long"))),l.createElement("div",{className:"items-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Column Items"),l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const a=t.columns.find(t=>t.id===e);if(!a)return;const l={id:"item-"+Date.now(),title:"New Title",image:""};c(e,{items:[].concat((0,o.A)(a.items),[l])})})(e.id)},"+ Add Item")),l.createElement("div",{className:"items-grid-editor"},e.items.map(a=>l.createElement("div",{key:a.id,className:"item-edit-card"},l.createElement(s,{label:"Thumbnail",value:a.image,onChange:t=>m(e.id,a.id,{image:t}),aspectRatio:"square",compact:!0}),l.createElement("div",{className:"item-edit-details-group"},l.createElement("div",{className:"item-edit-details"},l.createElement("input",{type:"text",className:"form-input mini "+(a.title.length>80?"input-error":""),placeholder:"Item title",value:a.title,onChange:t=>m(e.id,a.id,{title:t.target.value})}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,a)=>{const l=t.columns.find(t=>t.id===e);if(!l)return;const n=l.items.filter(e=>e.id!==a);c(e,{items:n})})(e.id,a.id),title:"Delete Item"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:a.title.length>80?"text-danger":""},a.title.length,"/80")))))))))))))};var h=e=>{let{data:t,onChange:a}=e;const{0:n,1:i}=(0,l.useState)(null),{0:c,1:m}=(0,l.useState)(null),d=(e,l)=>{const n=t.cards.map(t=>t.id===e?Object.assign({},t,l):t);a({cards:n})},g=(e,a,l)=>{const n=t.cards.find(t=>t.id===e);if(!n)return;const i=n.groups.map(e=>e.id===a?Object.assign({},e,l):e);d(e,{groups:i})};return l.createElement("div",{className:"scripture-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Scripture Library"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage Kinh, Luật, Luận sections and lists")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Main Title"),l.createElement("textarea",{className:"form-input",rows:2,value:t.sectionTitle,onChange:e=>a({sectionTitle:e.target.value}),placeholder:"Use \\n for line breaks"})),l.createElement("div",{className:"form-group"},l.createElement(s,{label:"Background Image",value:t.backgroundImage,onChange:e=>a({backgroundImage:e}),aspectRatio:"landscape"})),l.createElement("div",{className:"cards-list"},t.cards.map(e=>l.createElement("div",{key:e.id,className:"card-block "+(n===e.id?"active":"")},l.createElement("div",{className:"card-block-header"},l.createElement("span",{className:"item-label"},e.title),l.createElement("button",{className:"btn-action edit",onClick:()=>i(n===e.id?null:e.id)},n===e.id?"Close":"Edit")),n===e.id&&l.createElement("div",{className:"card-block-editor"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Card Title"),l.createElement("input",{type:"text",className:"form-input",value:e.title,onChange:t=>d(e.id,{title:t.target.value})})),l.createElement("div",{className:"groups-list"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Scripture Groups"),l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const a=t.cards.find(t=>t.id===e);if(!a)return;const l={id:"group-"+Date.now(),title:"New Group",items:[{id:"item-"+Date.now(),label:"New Item ›"}]};d(e,{groups:[].concat((0,o.A)(a.groups),[l])})})(e.id)},"+ Add Group")),e.groups.map(a=>l.createElement("div",{key:a.id,className:"group-edit-box"},l.createElement("div",{className:"group-edit-header"},l.createElement("input",{type:"text",className:"form-input mini group-title-input",placeholder:"Group Title (Optional)",value:a.title||"",onChange:t=>g(e.id,a.id,{title:t.target.value})}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>m({cardId:e.id,groupId:a.id})},"Remove Group")),l.createElement("div",{className:"items-list-editor"},a.items.map(n=>l.createElement("div",{key:n.id,className:"item-row"},l.createElement("input",{type:"text",className:"form-input mini",value:n.label,onChange:l=>((e,a,l,n)=>{const i=t.cards.find(t=>t.id===e);if(!i)return;const s=i.groups.find(e=>e.id===a);if(!s)return;const r=s.items.map(e=>e.id===l?Object.assign({},e,{label:n}):e);g(e,a,{items:r})})(e.id,a.id,n.id,l.target.value)}),l.createElement("button",{className:"btn-mini-delete-icon",onClick:()=>((e,a,l)=>{const n=t.cards.find(t=>t.id===e);if(!n)return;const i=n.groups.find(e=>e.id===a);if(!i)return;const s=i.items.filter(e=>e.id!==l);g(e,a,{items:s})})(e.id,a.id,n.id),title:"Delete Item"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))))),l.createElement("button",{className:"btn-link-add",onClick:()=>((e,a)=>{const l=t.cards.find(t=>t.id===e);if(!l)return;const n=l.groups.find(e=>e.id===a);if(!n)return;const i={id:"item-"+Date.now(),label:"New Item ›"};g(e,a,{items:[].concat((0,o.A)(n.items),[i])})})(e.id,a.id)},"+ Add Item")))))))))),l.createElement(u,{isOpen:!!c,onClose:()=>m(null),title:"Remove Scripture Group?",subtitle:"Are you sure you want to remove this group? All scripture links within this group will be permanently deleted.",type:"error",buttons:[{buttonText:"Yes, Remove Group",buttonTextActive:"Removing...",buttonTextResponse:"Removed!",variant:"danger",onClick:async()=>{c&&(((e,a)=>{const l=t.cards.find(t=>t.id===e);if(!l)return;const n=l.groups.filter(e=>e.id!==a);d(e,{groups:n})})(c.cardId,c.groupId),m(null))}},{buttonText:"Cancel",variant:"secondary",onClick:()=>m(null)}]}))};var v=e=>{let{data:t,onChange:a}=e;const{0:n,1:i}=(0,l.useState)("general"),c=e=>{a({contact:Object.assign({},t.contact,e)})},m=e=>{a({social:Object.assign({},t.social,e)})},d=(e,l)=>{const n=t.quickLinks.items.map(t=>t.id===e?Object.assign({},t,l):t);a({quickLinks:Object.assign({},t.quickLinks,{items:n})})};return l.createElement("div",{className:"footer-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Footer Content"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage global footer information and links")),l.createElement("div",{className:"editor-tabs"},l.createElement("button",{className:"tab-btn "+("general"===n?"active":""),onClick:()=>i("general")},"General"),l.createElement("button",{className:"tab-btn "+("contact"===n?"active":""),onClick:()=>i("contact")},"Contact"),l.createElement("button",{className:"tab-btn "+("links"===n?"active":""),onClick:()=>i("links")},"Quick Links"),l.createElement("button",{className:"tab-btn "+("social"===n?"active":""),onClick:()=>i("social")},"Social")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},"general"===n&&l.createElement("div",{className:"tab-content fadeIn"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Desktop Title"),l.createElement("input",{type:"text",className:"form-input",value:t.titleDesktop,onChange:e=>a({titleDesktop:e.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Mobile Title"),l.createElement("textarea",{className:"form-input",rows:2,value:t.titleMobile,onChange:e=>a({titleMobile:e.target.value}),placeholder:"Use \\n for line breaks"})),l.createElement("div",{className:"form-grid-2"},l.createElement(s,{label:"Footer Background",value:t.backgroundImage,onChange:e=>a({backgroundImage:e})}),l.createElement(s,{label:"Footer Logo",value:t.logoImage,onChange:e=>a({logoImage:e})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Logo Alt Text"),l.createElement("input",{type:"text",className:"form-input",value:t.logoAlt,onChange:e=>a({logoAlt:e.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Copyright Text"),l.createElement("input",{type:"text",className:"form-input",value:t.copyright,onChange:e=>a({copyright:e.target.value})}))),"contact"===n&&l.createElement("div",{className:"tab-content fadeIn"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input",value:t.contact.title,onChange:e=>c({title:e.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Address"),l.createElement("textarea",{className:"form-input",rows:4,value:t.contact.address,onChange:e=>c({address:e.target.value}),placeholder:"Use \\n for line breaks"})),l.createElement("div",{className:"form-grid-2"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Phone"),l.createElement("input",{type:"text",className:"form-input",value:t.contact.phone,onChange:e=>c({phone:e.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Email"),l.createElement("input",{type:"text",className:"form-input",value:t.contact.email,onChange:e=>c({email:e.target.value})})))),"links"===n&&l.createElement("div",{className:"tab-content fadeIn"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input",value:t.quickLinks.title,onChange:e=>a({quickLinks:Object.assign({},t.quickLinks,{title:e.target.value})})})),l.createElement("div",{className:"links-editor-list"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Manage Links"),l.createElement("button",{className:"btn-mini-add",onClick:()=>{const e={id:"ql-"+Date.now(),label:"New Link",href:"#"};a({quickLinks:Object.assign({},t.quickLinks,{items:[].concat((0,o.A)(t.quickLinks.items),[e])})})}},"+ Add Link")),t.quickLinks.items.map(e=>l.createElement("div",{key:e.id,className:"footer-link-edit-row"},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Label",value:e.label,onChange:t=>d(e.id,{label:t.target.value})}),l.createElement("input",{type:"text",className:"form-input mini",placeholder:"URL",value:e.href||"",onChange:t=>d(e.id,{href:t.target.value})}),l.createElement("button",{className:"btn-mini-delete-icon",onClick:()=>(e=>{const l=t.quickLinks.items.filter(t=>t.id!==e);a({quickLinks:Object.assign({},t.quickLinks,{items:l})})})(e.id),title:"Delete Link"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))))))),"social"===n&&l.createElement("div",{className:"tab-content fadeIn"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input",value:t.social.title,onChange:e=>m({title:e.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"YouTube URL"),l.createElement("input",{type:"text",className:"form-input",value:t.social.youtube||"",onChange:e=>m({youtube:e.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Facebook URL"),l.createElement("input",{type:"text",className:"form-input",value:t.social.facebook||"",onChange:e=>m({facebook:e.target.value})})))))};var b=e=>{let{data:t,onChange:a}=e;const n=(e,l)=>{a({signature:Object.assign({},t.signature,{[e]:l})})};return l.createElement("div",{className:"loi-tu-bach-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Loi Tu Bach"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Update the introductory message on the About page")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Main Content"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input",value:t.title,onChange:e=>a({title:e.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Greeting Line"),l.createElement("input",{type:"text",className:"form-input",value:t.greeting,onChange:e=>a({greeting:e.target.value})}))),l.createElement(s,{label:"Featured Image",hint:"The portrait image shown next to the text",value:t.image.src,onChange:e=>a({image:Object.assign({},t.image,{src:e})}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Image Alt Text"),l.createElement("input",{type:"text",className:"form-input",value:t.image.alt,onChange:e=>a({image:Object.assign({},t.image,{alt:e.target.value})})})),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"loi-tu-img-pos",checked:!t.imagePosition||"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"loi-tu-img-pos",checked:"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left"))),l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Message Paragraphs"),l.createElement("div",{className:"paragraphs-list"},t.paragraphs.map((e,n)=>l.createElement("div",{key:n,className:"paragraph-item"},l.createElement("textarea",{className:"form-input",rows:4,style:{resize:"vertical"},value:e,onChange:e=>((e,l)=>{const n=(0,o.A)(t.paragraphs);n[e]=l,a({paragraphs:n})})(n,e.target.value)}),l.createElement("button",{className:"btn-remove-p",onClick:()=>(e=>{const l=t.paragraphs.filter((t,a)=>a!==e);a({paragraphs:l})})(n),title:"Remove paragraph"},"×")))),l.createElement("button",{className:"btn-add-p",onClick:()=>{a({paragraphs:[].concat((0,o.A)(t.paragraphs),[""])})}},"+ Add New Paragraph")),l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Closing & Signature"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Closing Line"),l.createElement("input",{type:"text",className:"form-input",value:t.closing,onChange:e=>a({closing:e.target.value})})),l.createElement("div",{className:"signature-grid"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Date String"),l.createElement("input",{type:"text",className:"form-input",value:t.signature.date,onChange:e=>n("date",e.target.value)})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Organization"),l.createElement("input",{type:"text",className:"form-input",value:t.signature.organization,onChange:e=>n("organization",e.target.value)})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Role"),l.createElement("input",{type:"text",className:"form-input",value:t.signature.role,onChange:e=>n("role",e.target.value)})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Full Name"),l.createElement("input",{type:"text",className:"form-input",value:t.signature.name,onChange:e=>n("name",e.target.value)}))))))},N=a(8027),f=a(1351);N.DDN,f.$QZ,N.KuA,N._GC;var k=e=>{let{data:t,onChange:a}=e;return l.createElement("div",{className:"tong-chi-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Bốn Đại Tông Chỉ"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Update the four core principles section")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Section Header"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Title"),l.createElement("input",{type:"text",className:"form-input",value:t.title,onChange:e=>a({title:e.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Subtitle"),l.createElement("input",{type:"text",className:"form-input",value:t.subtitle,onChange:e=>a({subtitle:e.target.value})})),l.createElement(s,{label:"Desktop Background Image",hint:"Main background for the section",value:t.backgroundImage,onChange:e=>a({backgroundImage:e}),aspectRatio:"landscape"}),l.createElement(s,{label:"Mobile Background Image",hint:"Background for mobile devices",value:t.mobileBackgroundImage,onChange:e=>a({mobileBackgroundImage:e}),aspectRatio:"portrait"})),l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Principle Cards"),l.createElement("div",{className:"items-list"},t.items.map((e,n)=>l.createElement("div",{key:e.id,className:"item-card"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"List Item Text"),l.createElement("input",{type:"text",className:"form-input",value:e.title,onChange:e=>((e,l,n)=>{const i=(0,o.A)(t.items);i[e]=Object.assign({},i[e],{[l]:n}),a({items:i})})(n,"title",e.target.value)}))))))))};var y=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.groups);i[e]=Object.assign({},i[e],{[l]:n}),a({groups:i})};return l.createElement("div",{className:"nhan-su-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Ban Nhân Sự"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Update department groups and their members")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Desktop Experience"),l.createElement(s,{label:"Main Desktop Background",hint:"Large background image shared by all groups on desktop",value:t.desktopBackground,onChange:e=>a({desktopBackground:e}),aspectRatio:"landscape"})),l.createElement("div",{className:"groups-list"},t.groups.map((e,i)=>l.createElement("div",{key:e.id,className:"group-card"},l.createElement("div",{className:"group-card-header"},l.createElement("h3",{className:"form-label",style:{fontSize:"1.1rem",margin:0}},e.title)),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Group Title"),l.createElement("input",{type:"text",className:"form-input",value:e.title,onChange:e=>n(i,"title",e.target.value)})),l.createElement(s,{label:"Mobile Header Background",hint:"Background image for this group's header on mobile",value:e.mobileBackground,onChange:e=>n(i,"mobileBackground",e),aspectRatio:"landscape"}),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Members List"),l.createElement("div",{className:"members-list"},e.members.map((e,n)=>l.createElement("div",{key:n,className:"member-item"},l.createElement("input",{type:"text",className:"form-input",value:e,onChange:e=>((e,l,n)=>{const i=(0,o.A)(t.groups),s=(0,o.A)(i[e].members);s[l]=n,i[e]=Object.assign({},i[e],{members:s}),a({groups:i})})(i,n,e.target.value),placeholder:"e.g. Giám viện: TT. Thích Huyền Châu"}),l.createElement("button",{className:"btn-remove",onClick:()=>((e,l)=>{const n=(0,o.A)(t.groups),i=n[e].members.filter((e,t)=>t!==l);n[e]=Object.assign({},n[e],{members:i}),a({groups:n})})(i,n),title:"Remove member"},"×"))),l.createElement("button",{className:"btn-add",onClick:()=>(e=>{const l=(0,o.A)(t.groups),n=[].concat((0,o.A)(l[e].members),[""]);l[e]=Object.assign({},l[e],{members:n}),a({groups:l})})(i)},"+ Add New Member"))))))))},C=a(4964),x=a(5600);var w=e=>{let{data:t,onChange:a,onNavigate:n}=e;const{forms:i}=(0,C.O)(),c=i.find(e=>e.id===t.formId);l.useEffect(()=>{if(t.formId&&c){JSON.stringify(t.form)!==JSON.stringify(c)&&(console.log("[CMS][SYNC] Form snapshot is stale, updating draft..."),a({form:c}))}},[t.formId,c,t.form,a]);return l.createElement("div",{className:"ghi-danh-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Ghi Danh Nhập Học"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Update registration form fields and section content")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"General Information"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input",value:t.title,onChange:e=>a({title:e.target.value})})),l.createElement(s,{label:"Desktop Featured Image",hint:"The large image shown on the left side of the form on desktop",value:t.desktopImage,onChange:e=>a({desktopImage:e}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Submit Button Label"),l.createElement("input",{type:"text",className:"form-input",value:t.submitLabel,onChange:e=>a({submitLabel:e.target.value})}))),l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Form Selection"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Select Form from Form Builder"),l.createElement("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem"}},l.createElement("select",{className:"form-input",value:t.formId||"",onChange:e=>(e=>{const t=i.find(t=>t.id===e);a({formId:e,form:t})})(e.target.value),style:{flex:1}},l.createElement("option",{value:""},"-- Choose a Form --"),i.map(e=>l.createElement("option",{key:e.id,value:e.id},e.title))),l.createElement("button",{onClick:()=>null==n?void 0:n("form_builder"),className:"btn-secondary",style:{textDecoration:"none",padding:"8px 12px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px",color:"#374151",cursor:"pointer"}},"Open Form Builder")),c?l.createElement("div",{className:"form-preview-container",style:{padding:"1.5rem",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"}},l.createElement("h4",{style:{marginTop:0,marginBottom:"1rem",color:"#6b7280",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em"}},"Preview (Read Only)"),l.createElement(x.A,{form:c,disabled:!0})):l.createElement("div",{style:{padding:"2rem",textAlign:"center",border:"1px dashed #d1d5db",borderRadius:"8px",color:"#9ca3af"}},"Select a form to see preview")))))};var I=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.cards);i[e]=Object.assign({},i[e],{[l]:n}),a({cards:i})};return l.createElement("div",{className:"kgt-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Không Gian Thiền"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Update the meditation space content and cards")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Main Content"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input "+(t.title.length>80?"input-error":""),value:t.title,onChange:e=>a({title:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.title.length>80?"text-danger":""},t.title.length,"/80"))),l.createElement("div",{className:"form-group",style:{marginTop:"1.5rem"}},l.createElement("label",{className:"form-label"},"Featured Image"),l.createElement(s,{label:"",value:t.image.src,onChange:e=>{a({image:Object.assign({},t.image,{src:e})})},aspectRatio:"landscape"})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Image Alt Text"),l.createElement("input",{type:"text",className:"form-input",value:t.image.alt,onChange:e=>{return l=e.target.value,void a({image:Object.assign({},t.image,{alt:l})});var l}})),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"kgt-img-pos",checked:!t.imagePosition||"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"kgt-img-pos",checked:"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right"))),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Quote Message"),l.createElement("textarea",{className:"form-input "+(t.quote.length>300?"input-error":""),rows:4,value:t.quote,onChange:e=>a({quote:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.quote.length>300?"text-danger":""},t.quote.length,"/300")))),l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Introduction Cards"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Cards Heading"),l.createElement("input",{type:"text",className:"form-input "+(t.cardsHeading.length>60?"input-error":""),value:t.cardsHeading,onChange:e=>a({cardsHeading:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.cardsHeading.length>60?"text-danger":""},t.cardsHeading.length,"/60"))),l.createElement("div",{className:"cards-list",style:{marginTop:"2rem"}},t.cards.map((e,i)=>l.createElement("div",{key:e.id,className:"kgt-card-item"},l.createElement("div",{className:"kgt-card-header"},l.createElement("span",{className:"card-number"},"Card #",i+1),l.createElement("button",{className:"btn-remove",onClick:()=>(e=>{const l=t.cards.filter((t,a)=>a!==e);a({cards:l})})(i),title:"Remove card"},"×")),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Image"),l.createElement(s,{label:"",value:e.image||"",onChange:e=>n(i,"image",e),aspectRatio:"landscape"})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Title"),l.createElement("input",{type:"text",className:"form-input "+(e.title.length>60?"input-error":""),value:e.title,onChange:e=>n(i,"title",e.target.value)}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.title.length>60?"text-danger":""},e.title.length,"/60"))),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Subtitle"),l.createElement("input",{type:"text",className:"form-input "+(e.subtitle.length>120?"input-error":""),value:e.subtitle,onChange:e=>n(i,"subtitle",e.target.value)}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.subtitle.length>120?"text-danger":""},e.subtitle.length,"/120")))))),l.createElement("button",{className:"btn-add",onClick:()=>{const e={id:"kgt-"+Date.now(),title:"New Card Title",subtitle:"New Card Subtitle",image:""};a({cards:[].concat((0,o.A)(t.cards),[e])})},style:{width:"100%",marginTop:"1.5rem"}},"+ Add New Introduction Card"))))};var S=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.cards);i[e]=Object.assign({},i[e],{[l]:n}),a({cards:i})};return l.createElement("div",{className:"kgt-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Chương Trình Thiền (Page 3)"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Update the meditation program section and cards")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Main Content"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input "+(t.title.length>80?"input-error":""),value:t.title,onChange:e=>a({title:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.title.length>80?"text-danger":""},t.title.length,"/80"))),l.createElement("div",{className:"form-group",style:{marginTop:"1.5rem"}},l.createElement("label",{className:"form-label"},"Featured Image"),l.createElement(s,{label:"",value:t.image.src,onChange:e=>{a({image:Object.assign({},t.image,{src:e})})},aspectRatio:"landscape"})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Image Alt Text"),l.createElement("input",{type:"text",className:"form-input",value:t.image.alt,onChange:e=>{return l=e.target.value,void a({image:Object.assign({},t.image,{alt:l})});var l}})),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"kgt12-img-pos",checked:!t.imagePosition||"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"kgt12-img-pos",checked:"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left"))),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Quote Message"),l.createElement("textarea",{className:"form-input "+(t.quote.length>300?"input-error":""),rows:4,value:t.quote,onChange:e=>a({quote:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.quote.length>300?"text-danger":""},t.quote.length,"/300")))),l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Program Cards"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Cards Heading"),l.createElement("input",{type:"text",className:"form-input "+(t.cardsHeading.length>60?"input-error":""),value:t.cardsHeading,onChange:e=>a({cardsHeading:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.cardsHeading.length>60?"text-danger":""},t.cardsHeading.length,"/60"))),l.createElement("div",{className:"cards-list",style:{marginTop:"2rem"}},t.cards.map((e,i)=>l.createElement("div",{key:e.id,className:"kgt-card-item"},l.createElement("div",{className:"kgt-card-header"},l.createElement("span",{className:"card-number"},"Card #",i+1),l.createElement("button",{className:"btn-remove",onClick:()=>(e=>{const l=t.cards.filter((t,a)=>a!==e);a({cards:l})})(i),title:"Remove card"},"×")),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Image"),l.createElement(s,{label:"",value:e.image||"",onChange:e=>n(i,"image",e),aspectRatio:"landscape"})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Title"),l.createElement("input",{type:"text",className:"form-input "+(e.title.length>60?"input-error":""),value:e.title,onChange:e=>n(i,"title",e.target.value)}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.title.length>60?"text-danger":""},e.title.length,"/60"))),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Subtitle"),l.createElement("input",{type:"text",className:"form-input "+(e.subtitle.length>120?"input-error":""),value:e.subtitle,onChange:e=>n(i,"subtitle",e.target.value)}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.subtitle.length>120?"text-danger":""},e.subtitle.length,"/120")))))),l.createElement("button",{className:"btn-add",onClick:()=>{const e={id:"kgt-12-"+Date.now(),title:"New Card Title",subtitle:"New Card Subtitle",image:""};a({cards:[].concat((0,o.A)(t.cards),[e])})},style:{width:"100%",marginTop:"1.5rem"}},"+ Add New Program Card"))))};var T=e=>{let{data:t,onChange:a,onNavigate:n}=e;const{forms:i}=(0,C.O)(),c=i.find(e=>e.id===t.formId);l.useEffect(()=>{if(t.formId&&c){JSON.stringify(t.form)!==JSON.stringify(c)&&(console.log("[CMS][SYNC] Form snapshot is stale, updating draft..."),a({form:c}))}},[t.formId,c,t.form,a]);return l.createElement("div",{className:"ghi-danh-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Ghi Danh Thiền (Page 3)"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Update registration form fields and section content")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"General Information"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input",value:t.title,onChange:e=>a({title:e.target.value})})),l.createElement(s,{label:"Desktop Featured Image",hint:"The large image shown on the left side of the form on desktop",value:t.desktopImage,onChange:e=>a({desktopImage:e}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Submit Button Label"),l.createElement("input",{type:"text",className:"form-input",value:t.submitLabel,onChange:e=>a({submitLabel:e.target.value})}))),l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Form Selection"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Select Form from Form Builder"),l.createElement("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem"}},l.createElement("select",{className:"form-input",value:t.formId||"",onChange:e=>(e=>{const t=i.find(t=>t.id===e);a({formId:e,form:t})})(e.target.value),style:{flex:1}},l.createElement("option",{value:""},"-- Choose a Form --"),i.map(e=>l.createElement("option",{key:e.id,value:e.id},e.title))),l.createElement("button",{onClick:()=>null==n?void 0:n("form_builder"),className:"btn-secondary",style:{textDecoration:"none",padding:"8px 12px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px",color:"#374151",cursor:"pointer"}},"Open Form Builder")),c?l.createElement("div",{className:"form-preview-container",style:{padding:"1.5rem",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"}},l.createElement("h4",{style:{marginTop:0,marginBottom:"1rem",color:"#6b7280",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em"}},"Preview (Read Only)"),l.createElement(x.A,{form:c,disabled:!0})):l.createElement("div",{style:{padding:"2rem",textAlign:"center",border:"1px dashed #d1d5db",borderRadius:"8px",color:"#9ca3af"}},"Select a form to see preview")))))};var D=e=>{let{data:t,onChange:a}=e;const n=(e,l)=>{a({meta:Object.assign({},t.meta,{[e]:l})})},i=(e,l,n)=>{const i=(0,o.A)(t.curriculum[e]);i[l]=n,a({curriculum:Object.assign({},t.curriculum,{[e]:i})})},c=e=>{a({curriculum:Object.assign({},t.curriculum,{[e]:[].concat((0,o.A)(t.curriculum[e]),[""])})})},m=(e,l)=>{a({curriculum:Object.assign({},t.curriculum,{[e]:t.curriculum[e].filter((e,t)=>t!==l)})})};return l.createElement("div",{className:"ct-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Chương Trình Sơ Trung Đẳng"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Update program content, schedule and curriculum")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"General Content"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{className:"form-input "+(t.title.length>80?"input-error":""),value:t.title,onChange:e=>a({title:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.title.length>80?"text-danger":""},t.title.length,"/80"))),l.createElement(s,{label:"Featured Image",hint:"Left-side image on desktop",value:t.image.src,onChange:e=>a({image:Object.assign({},t.image,{src:e})}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"ct-img-pos",checked:!t.imagePosition||"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"ct-img-pos",checked:"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right")))),l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Program Information"),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Duration"),l.createElement("input",{className:"form-input "+(t.meta.duration.length>60?"input-error":""),value:t.meta.duration,onChange:e=>n("duration",e.target.value)}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.meta.duration.length>60?"text-danger":""},t.meta.duration.length,"/60"))),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Schedule"),l.createElement("div",{className:"options-list"},t.meta.schedule.map((e,a)=>l.createElement("div",{key:a,className:"option-item-group"},l.createElement("div",{className:"option-item"},l.createElement("input",{className:"form-input "+(e.length>100?"input-error":""),value:e,onChange:e=>{const l=(0,o.A)(t.meta.schedule);l[a]=e.target.value,n("schedule",l)}}),l.createElement("button",{className:"btn-remove",onClick:()=>{window.confirm("Delete this schedule line?")&&n("schedule",t.meta.schedule.filter((e,t)=>t!==a))},title:"Delete Schedule Line"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100")))),l.createElement("button",{className:"btn-add",onClick:()=>n("schedule",[].concat((0,o.A)(t.meta.schedule),[""]))},"+ Add Schedule Line")))),l.createElement("div",{className:"editor-section"},l.createElement("div",{className:"editor-section-title"},"Curriculum"),l.createElement("div",{className:"field-grid"},l.createElement("div",null,l.createElement("label",{className:"form-label"},"Left Column"),l.createElement("div",{className:"options-list"},t.curriculum.left.map((e,t)=>l.createElement("div",{key:t,className:"option-item-group"},l.createElement("div",{className:"option-item"},l.createElement("input",{className:"form-input "+(e.length>100?"input-error":""),value:e,onChange:e=>i("left",t,e.target.value)}),l.createElement("button",{className:"btn-remove",onClick:()=>m("left",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100")))),l.createElement("button",{className:"btn-add",onClick:()=>c("left")},"+ Add Item"))),l.createElement("div",null,l.createElement("label",{className:"form-label"},"Right Column"),l.createElement("div",{className:"options-list"},t.curriculum.right.map((e,t)=>l.createElement("div",{key:t,className:"option-item-group"},l.createElement("div",{className:"option-item"},l.createElement("input",{className:"form-input "+(e.length>100?"input-error":""),value:e,onChange:e=>i("right",t,e.target.value)}),l.createElement("button",{className:"btn-remove",onClick:()=>m("right",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100")))),l.createElement("button",{className:"btn-add",onClick:()=>c("right")},"+ Add Item")))))))};var A=e=>{var t;let{data:a,onChange:n}=e;const{0:i,1:c}=(0,l.useState)(null),{0:m,1:d}=(0,l.useState)(null),g=(e,t)=>{const l=a.blocks.map(a=>a.id===e?Object.assign({},a,t):a);n({blocks:l})},p=(e,t,l)=>{const n=a.blocks.find(t=>t.id===e);if(n&&"course"===n.type){const a=n.courses.map(e=>e.id===t?Object.assign({},e,l):e);g(e,{courses:a})}};return l.createElement("div",{className:"nien-khoa-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Niên Khóa Content"),l.createElement(r,{locked:a.locked,onToggle:e=>n({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage schedule and course blocks")),l.createElement("div",{className:"editor-form "+(a.locked?"locked-section":""),style:a.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Niên Khóa Blocks"),l.createElement("button",{className:"btn-add-item",onClick:()=>{const e={id:"nk-block-"+Date.now(),type:"course",title:"New Block",imageDesktop:"",courses:[]};n({blocks:[].concat((0,o.A)(a.blocks),[e])}),c(e.id)}},"+ Add Block")),l.createElement("div",{className:"blocks-list"},a.blocks.map(e=>l.createElement("div",{key:e.id,className:"block-card "+(i===e.id?"active":"")},l.createElement("div",{className:"block-card-header"},l.createElement("div",{className:"block-info"},l.createElement("span",{className:"block-type-badge"},e.type),l.createElement("span",{className:"item-label"},e.title)),l.createElement("div",{className:"item-actions"},l.createElement("button",{className:"btn-action edit",onClick:()=>c(i===e.id?null:e.id)},i===e.id?"Close":"Edit"),l.createElement("button",{className:"btn-action delete",onClick:()=>d(e.id)},"Delete"))),i===e.id&&l.createElement("div",{className:"block-item-editor"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Block Title"),l.createElement("input",{type:"text",className:"form-input",value:e.title,onChange:t=>g(e.id,{title:t.target.value})})),e.imageDesktop&&l.createElement(s,{label:"Desktop Image",value:e.imageDesktop,onChange:t=>g(e.id,{imageDesktop:t}),aspectRatio:"landscape"}),e.imageMobile&&l.createElement(s,{label:"Mobile Image",value:e.imageMobile,onChange:t=>g(e.id,{imageMobile:t}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"block-pos-"+e.id,checked:!e.imagePosition||"right"===e.imagePosition,onChange:()=>g(e.id,{imagePosition:"right"})}),"Image Right (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"block-pos-"+e.id,checked:"left"===e.imagePosition,onChange:()=>g(e.id,{imagePosition:"left"})}),"Image Left"))),"schedule"===e.type&&l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Schedule Settings")),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Schedule Heading"),l.createElement("input",{type:"text",className:"form-input",value:e.schedules.heading,onChange:t=>g(e.id,{schedules:Object.assign({},e.schedules,{heading:t.target.value})})})),l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Schedule Items"),l.createElement("div",{className:"sub-section-actions"},l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const t=a.blocks.find(t=>t.id===e);if(t&&"schedule"===t.type){const a={id:"day-"+Date.now(),dayLabel:"New Day",details:["New schedule item"]};g(e,{schedules:Object.assign({},t.schedules,{items:[].concat((0,o.A)(t.schedules.items),[a])})})}})(e.id)},"+ Add Schedule"))),e.schedules.items.map((t,n)=>l.createElement("div",{key:t.id,className:"schedule-edit-card"},l.createElement("div",{className:"mini-item-row",style:{alignItems:"center"}},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Day Label",value:t.dayLabel,onChange:a=>{const l=(0,o.A)(e.schedules.items);l[n]=Object.assign({},t,{dayLabel:a.target.value}),g(e.id,{schedules:Object.assign({},e.schedules,{items:l})})}}),l.createElement("div",{className:"sub-section-actions"},l.createElement("button",{className:"btn-mini-add",onClick:()=>((e,t)=>{const l=a.blocks.find(t=>t.id===e);if(l&&"schedule"===l.type){const a=(0,o.A)(l.schedules.items);a[t]=Object.assign({},a[t],{details:[].concat((0,o.A)(a[t].details),["New schedule item"])}),g(e,{schedules:Object.assign({},l.schedules,{items:a})})}})(e.id,n)},"+ Add Detail"),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t)=>{if(!window.confirm("Delete this schedule?"))return;const l=a.blocks.find(t=>t.id===e);if(l&&"schedule"===l.type){const a=l.schedules.items.filter(e=>e.id!==t);g(e,{schedules:Object.assign({},l.schedules,{items:a})})}})(e.id,t.id),title:"Delete Schedule"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))))),l.createElement("div",{className:"schedule-details"},l.createElement("h5",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em"}},"Details")),t.details.map((i,s)=>l.createElement("div",{key:s,className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",value:i,onChange:a=>{const l=(0,o.A)(e.schedules.items),i=(0,o.A)(t.details);i[s]=a.target.value,l[n]=Object.assign({},t,{details:i}),g(e.id,{schedules:Object.assign({},e.schedules,{items:l})})}}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t,l)=>{const n=a.blocks.find(t=>t.id===e);if(n&&"schedule"===n.type){const a=(0,o.A)(n.schedules.items),i=a[t].details.filter((e,t)=>t!==l);a[t]=Object.assign({},a[t],{details:i}),g(e,{schedules:Object.assign({},n.schedules,{items:a})})}})(e.id,n,s),title:"Delete Detail"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))))))),"course"===e.type&&l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Courses"),l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const t=a.blocks.find(t=>t.id===e);if(t&&"course"===t.type){const a={id:"c-"+Date.now(),title:"New Course Title",description:"Course description..."};g(e,{courses:[].concat((0,o.A)(t.courses),[a])})}})(e.id)},"+ Add Course")),l.createElement("div",{className:"courses-editor-list"},e.courses.map(t=>l.createElement("div",{key:t.id,className:"course-edit-card"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Course Title",value:t.title,onChange:a=>p(e.id,t.id,{title:a.target.value})}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t)=>{const l=a.blocks.find(t=>t.id===e);if(l&&"course"===l.type){const a=l.courses.filter(e=>e.id!==t);g(e,{courses:a})}})(e.id,t.id),title:"Delete Course"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))),l.createElement("textarea",{className:"form-input",rows:3,placeholder:"Course Description",value:t.description,onChange:a=>p(e.id,t.id,{description:a.target.value})}))))))))))),l.createElement(u,{isOpen:!!m,onClose:()=>d(null),title:"Delete Block?",subtitle:'Are you sure you want to delete the block "'+(null===(t=a.blocks.find(e=>e.id===m))||void 0===t?void 0:t.title)+'"? This will remove all its content permanently.',type:"error",buttons:[{buttonText:"Yes, Delete Block",buttonTextActive:"Deleting...",buttonTextResponse:"Deleted!",variant:"danger",onClick:async()=>{m&&((e=>{const t=a.blocks.filter(t=>t.id!==e);n({blocks:t})})(m),d(null))}},{buttonText:"Cancel",variant:"secondary",onClick:()=>d(null)}]}))};var L=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.curriculum[e].items);i[l]=n,a({curriculum:Object.assign({},t.curriculum,{[e]:Object.assign({},t.curriculum[e],{items:i})})})},i=e=>{const l=[].concat((0,o.A)(t.curriculum[e].items),["New curriculum item"]);a({curriculum:Object.assign({},t.curriculum,{[e]:Object.assign({},t.curriculum[e],{items:l})})})},c=(e,l)=>{const n=t.curriculum[e].items.filter((e,t)=>t!==l);a({curriculum:Object.assign({},t.curriculum,{[e]:Object.assign({},t.curriculum[e],{items:n})})})};return l.createElement("div",{className:"nien-khoa-2022-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Niên Khóa 2022-2025"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage curriculum content and images")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input "+(t.title.length>80?"input-error":""),value:t.title,onChange:e=>a({title:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.title.length>80?"text-danger":""},t.title.length,"/80"))),l.createElement(s,{label:"Desktop Image",value:t.imageDesktop,onChange:e=>a({imageDesktop:e}),aspectRatio:"landscape"}),l.createElement(s,{label:"Mobile Image",value:t.imageMobile,onChange:e=>a({imageMobile:e}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"nk2022-img-pos",checked:!t.imagePosition||"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"nk2022-img-pos",checked:"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right")))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Curriculum Content")),l.createElement("div",{className:"curriculum-grid"},l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Left Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("left")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.left.items.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("left",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("left",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100")))))))),l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Right Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("right")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.right.items.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("right",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("right",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100"))))))))))))};var j=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.curriculum[e].items);i[l]=n,a({curriculum:Object.assign({},t.curriculum,{[e]:Object.assign({},t.curriculum[e],{items:i})})})},i=e=>{const l=[].concat((0,o.A)(t.curriculum[e].items),["New curriculum item"]);a({curriculum:Object.assign({},t.curriculum,{[e]:Object.assign({},t.curriculum[e],{items:l})})})},c=(e,l)=>{const n=t.curriculum[e].items.filter((e,t)=>t!==l);a({curriculum:Object.assign({},t.curriculum,{[e]:Object.assign({},t.curriculum[e],{items:n})})})};return l.createElement("div",{className:"nien-khoa-2019-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Niên Khóa 2019-2022"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage curriculum content and images")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input "+(t.title.length>80?"input-error":""),value:t.title,onChange:e=>a({title:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.title.length>80?"text-danger":""},t.title.length,"/80"))),l.createElement(s,{label:"Desktop Image",value:t.imageDesktop,onChange:e=>a({imageDesktop:e}),aspectRatio:"landscape"}),l.createElement(s,{label:"Mobile Image",value:t.imageMobile,onChange:e=>a({imageMobile:e}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"nk2019-img-pos",checked:!t.imagePosition||"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"nk2019-img-pos",checked:"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right")))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Curriculum Content")),l.createElement("div",{className:"curriculum-grid"},l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Left Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("left")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.left.items.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("left",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("left",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100")))))))),l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Right Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("right")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.right.items.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("right",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("right",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100"))))))))))))};var O=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.curriculum[e]);i[l]=n,a({curriculum:Object.assign({},t.curriculum,{[e]:i})})},i=e=>{const l=[].concat((0,o.A)(t.curriculum[e]),["New curriculum item"]);a({curriculum:Object.assign({},t.curriculum,{[e]:l})})},c=(e,l)=>{const n=t.curriculum[e].filter((e,t)=>t!==l);a({curriculum:Object.assign({},t.curriculum,{[e]:n})})};return l.createElement("div",{className:"chuong-trinh-cao-dang-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Chương Trình Cao Đẳng"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage program details and curriculum")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Program Title"),l.createElement("input",{type:"text",className:"form-input",value:t.title,onChange:e=>a({title:e.target.value})})),l.createElement(s,{label:"Program Image",value:t.imageDesktop,onChange:e=>a({imageDesktop:e}),aspectRatio:"landscape"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"ct5b-img-pos",checked:!t.imagePosition||"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"ct5b-img-pos",checked:"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right")))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Program Information")),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Duration"),l.createElement("input",{type:"text",className:"form-input",value:t.meta.duration,onChange:e=>a({meta:Object.assign({},t.meta,{duration:e.target.value})})})),l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Schedule"),l.createElement("button",{className:"btn-mini-add",onClick:()=>{a({meta:Object.assign({},t.meta,{schedule:[].concat((0,o.A)(t.meta.schedule),["New schedule item"])})})}},"+ Add Schedule")),l.createElement("div",{className:"schedule-items"},t.meta.schedule.map((e,n)=>l.createElement("div",{key:n,className:"schedule-item"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",value:e,onChange:e=>((e,l)=>{const n=(0,o.A)(t.meta.schedule);n[e]=l,a({meta:Object.assign({},t.meta,{schedule:n})})})(n,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>(e=>{if(!window.confirm("Delete this schedule?"))return;const l=t.meta.schedule.filter((t,a)=>a!==e);a({meta:Object.assign({},t.meta,{schedule:l})})})(n),title:"Delete Schedule"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))))))))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Curriculum Content")),l.createElement("div",{className:"curriculum-grid"},l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Left Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("left")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.left.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",value:e,onChange:e=>n("left",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("left",t)},"×"))))))),l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Right Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("right")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.right.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",value:e,onChange:e=>n("right",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("right",t)},"×")))))))))))};var P=e=>{var t;let{data:a,onChange:n}=e;const{0:i,1:c}=(0,l.useState)(null),{0:m,1:d}=(0,l.useState)(null),g=(e,t)=>{const l=a.blocks.map(a=>a.id===e?Object.assign({},a,t):a);n({blocks:l})},p=(e,t,l)=>{const n=a.blocks.find(t=>t.id===e);if(n&&"course"===n.type){const a=n.courses.map(e=>e.id===t?Object.assign({},e,l):e);g(e,{courses:a})}};return l.createElement("div",{className:"cao-dang-nien-khoa-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Cao Đẳng Niên Khóa Content"),l.createElement(r,{locked:a.locked,onToggle:e=>n({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage schedule and course blocks")),l.createElement("div",{className:"editor-form "+(a.locked?"locked-section":""),style:a.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Cao Đẳng Blocks"),l.createElement("button",{className:"btn-add-item",onClick:()=>{const e={id:"cd-nk-block-"+Date.now(),type:"course",title:"New Block",imageDesktop:"",courses:[]};n({blocks:[].concat((0,o.A)(a.blocks),[e])}),c(e.id)}},"+ Add Block")),l.createElement("div",{className:"blocks-list"},a.blocks.map(e=>l.createElement("div",{key:e.id,className:"block-card "+(i===e.id?"active":"")},l.createElement("div",{className:"block-card-header"},l.createElement("div",{className:"block-info"},l.createElement("span",{className:"block-type-badge"},e.type),l.createElement("span",{className:"item-label"},e.title)),l.createElement("div",{className:"item-actions"},l.createElement("button",{className:"btn-action edit",onClick:()=>c(i===e.id?null:e.id)},i===e.id?"Close":"Edit"),l.createElement("button",{className:"btn-action delete",onClick:()=>d(e.id)},"Delete"))),i===e.id&&l.createElement("div",{className:"block-item-editor"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Block Title"),l.createElement("input",{type:"text",className:"form-input",value:e.title,onChange:t=>g(e.id,{title:t.target.value})})),e.imageDesktop&&l.createElement(s,{label:"Desktop Image",value:e.imageDesktop,onChange:t=>g(e.id,{imageDesktop:t}),aspectRatio:"landscape"}),e.imageMobile&&l.createElement(s,{label:"Mobile Image",value:e.imageMobile,onChange:t=>g(e.id,{imageMobile:t}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"block-pos-"+e.id,checked:!e.imagePosition||"right"===e.imagePosition,onChange:()=>g(e.id,{imagePosition:"right"})}),"Image Right (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"block-pos-"+e.id,checked:"left"===e.imagePosition,onChange:()=>g(e.id,{imagePosition:"left"})}),"Image Left"))),"schedule"===e.type&&l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Schedule Settings")),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Schedule Heading"),l.createElement("input",{type:"text",className:"form-input",value:e.schedules.heading,onChange:t=>g(e.id,{schedules:Object.assign({},e.schedules,{heading:t.target.value})})})),l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Schedule Items"),l.createElement("div",{className:"sub-section-actions"},l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const t=a.blocks.find(t=>t.id===e);if(t&&"schedule"===t.type){const a={id:"day-"+Date.now(),dayLabel:"New Day",details:["New schedule item"]};g(e,{schedules:Object.assign({},t.schedules,{items:[].concat((0,o.A)(t.schedules.items),[a])})})}})(e.id)},"+ Add Schedule"))),e.schedules.items.map((t,n)=>l.createElement("div",{key:t.id,className:"schedule-edit-card"},l.createElement("div",{className:"mini-item-row",style:{alignItems:"center"}},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Day Label",value:t.dayLabel,onChange:a=>{const l=(0,o.A)(e.schedules.items);l[n]=Object.assign({},t,{dayLabel:a.target.value}),g(e.id,{schedules:Object.assign({},e.schedules,{items:l})})}}),l.createElement("div",{className:"sub-section-actions"},l.createElement("button",{className:"btn-mini-add",onClick:()=>((e,t)=>{const l=a.blocks.find(t=>t.id===e);if(l&&"schedule"===l.type){const a=(0,o.A)(l.schedules.items);a[t]=Object.assign({},a[t],{details:[].concat((0,o.A)(a[t].details),["New schedule item"])}),g(e,{schedules:Object.assign({},l.schedules,{items:a})})}})(e.id,n)},"+ Add Detail"),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t)=>{const l=a.blocks.find(t=>t.id===e);if(l&&"schedule"===l.type){const a=l.schedules.items.filter(e=>e.id!==t);g(e,{schedules:Object.assign({},l.schedules,{items:a})})}})(e.id,t.id),title:"Delete Schedule"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))))),l.createElement("div",{className:"schedule-details"},l.createElement("h5",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em"}},"Details")),t.details.map((i,s)=>l.createElement("div",{key:s,className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",value:i,onChange:a=>{const l=(0,o.A)(e.schedules.items),i=(0,o.A)(t.details);i[s]=a.target.value,l[n]=Object.assign({},t,{details:i}),g(e.id,{schedules:Object.assign({},e.schedules,{items:l})})}}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t,l)=>{const n=a.blocks.find(t=>t.id===e);if(n&&"schedule"===n.type){const a=(0,o.A)(n.schedules.items),i=a[t].details.filter((e,t)=>t!==l);a[t]=Object.assign({},a[t],{details:i}),g(e,{schedules:Object.assign({},n.schedules,{items:a})})}})(e.id,n,s),title:"Delete Detail"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))))))),"course"===e.type&&l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Courses"),l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const t=a.blocks.find(t=>t.id===e);if(t&&"course"===t.type){const a={id:"c-"+Date.now(),title:"New Course Title",description:"Course description..."};g(e,{courses:[].concat((0,o.A)(t.courses),[a])})}})(e.id)},"+ Add Course")),l.createElement("div",{className:"courses-editor-list"},e.courses.map(t=>l.createElement("div",{key:t.id,className:"course-edit-card"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Course Title",value:t.title,onChange:a=>p(e.id,t.id,{title:a.target.value})}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t)=>{const l=a.blocks.find(t=>t.id===e);if(l&&"course"===l.type){const a=l.courses.filter(e=>e.id!==t);g(e,{courses:a})}})(e.id,t.id),title:"Delete Course"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))),l.createElement("textarea",{className:"form-input",rows:3,placeholder:"Course Description",value:t.description,onChange:a=>p(e.id,t.id,{description:a.target.value})}))))))))))),l.createElement(u,{isOpen:!!m,onClose:()=>d(null),title:"Delete Block?",subtitle:'Are you sure you want to delete the block "'+(null===(t=a.blocks.find(e=>e.id===m))||void 0===t?void 0:t.title)+'"? This will remove all its content permanently.',type:"error",buttons:[{buttonText:"Yes, Delete Block",buttonTextActive:"Deleting...",buttonTextResponse:"Deleted!",variant:"danger",onClick:async()=>{m&&((e=>{const t=a.blocks.filter(t=>t.id!==e);n({blocks:t})})(m),d(null))}},{buttonText:"Cancel",variant:"secondary",onClick:()=>d(null)}]}))};var B=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.curriculum[e]);i[l]=n,a({curriculum:Object.assign({},t.curriculum,{[e]:i})})},i=e=>{const l=[].concat((0,o.A)(t.curriculum[e]),["New curriculum item"]);a({curriculum:Object.assign({},t.curriculum,{[e]:l})})},c=(e,l)=>{const n=t.curriculum[e].filter((e,t)=>t!==l);a({curriculum:Object.assign({},t.curriculum,{[e]:n})})};return l.createElement("div",{className:"cao-dang-2022-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Cao Đẳng 2022-2025"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage curriculum content and images")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input "+(t.title.length>80?"input-error":""),value:t.title,onChange:e=>a({title:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.title.length>80?"text-danger":""},t.title.length,"/80"))),l.createElement(s,{label:"Desktop Image",value:t.imageDesktop,onChange:e=>a({imageDesktop:e}),aspectRatio:"landscape"}),l.createElement(s,{label:"Mobile Image",value:t.imageMobile,onChange:e=>a({imageMobile:e}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"cd2022-img-pos",checked:!t.imagePosition||"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"cd2022-img-pos",checked:"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right")))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Curriculum Content")),l.createElement("div",{className:"curriculum-grid"},l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Left Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("left")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.left.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("left",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("left",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100")))))))),l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Right Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("right")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.right.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("right",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("right",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100"))))))))))))};var M=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.curriculum[e]);i[l]=n,a({curriculum:Object.assign({},t.curriculum,{[e]:i})})},i=e=>{const l=[].concat((0,o.A)(t.curriculum[e]),["New curriculum item"]);a({curriculum:Object.assign({},t.curriculum,{[e]:l})})},c=(e,l)=>{const n=t.curriculum[e].filter((e,t)=>t!==l);a({curriculum:Object.assign({},t.curriculum,{[e]:n})})};return l.createElement("div",{className:"cao-dang-2019-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Cao Đẳng 2019-2022"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage curriculum content and images")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input "+(t.title.length>80?"input-error":""),value:t.title,onChange:e=>a({title:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.title.length>80?"text-danger":""},t.title.length,"/80"))),l.createElement(s,{label:"Desktop Image",value:t.imageDesktop,onChange:e=>a({imageDesktop:e}),aspectRatio:"landscape"}),l.createElement(s,{label:"Mobile Image",value:t.imageMobile,onChange:e=>a({imageMobile:e}),aspectRatio:"portrait"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"cd2019-img-pos",checked:!t.imagePosition||"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"cd2019-img-pos",checked:"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right")))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Curriculum Content")),l.createElement("div",{className:"curriculum-grid"},l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Left Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("left")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.left.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("left",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("left",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100")))))))),l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Right Column"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("right")},"+ Add Item")),l.createElement("div",{className:"curriculum-items"},t.curriculum.right.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("right",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("right",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100"))))))))))))};var R=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.curriculum[e].items);i[l]=n,a({curriculum:Object.assign({},t.curriculum,{[e]:Object.assign({},t.curriculum[e],{items:i})})})},i=e=>{const l=[].concat((0,o.A)(t.curriculum[e].items),["New curriculum item"]);a({curriculum:Object.assign({},t.curriculum,{[e]:Object.assign({},t.curriculum[e],{items:l})})})},c=(e,l)=>{const n=t.curriculum[e].items.filter((e,t)=>t!==l);a({curriculum:Object.assign({},t.curriculum,{[e]:Object.assign({},t.curriculum[e],{items:n})})})};return l.createElement("div",{className:"chuyen-khoa-a-ty-dam-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Chuyên Khoa A Tỳ Đàm"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage program details and specialized curriculum")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Program Title"),l.createElement("input",{type:"text",className:"form-input "+(t.title.length>80?"input-error":""),value:t.title,onChange:e=>a({title:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.title.length>80?"text-danger":""},t.title.length,"/80"))),l.createElement(s,{label:"Program Image",value:t.image.src,onChange:e=>a({image:Object.assign({},t.image,{src:e})}),aspectRatio:"landscape"}),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Image Alt Text"),l.createElement("input",{type:"text",className:"form-input",value:t.image.alt,onChange:e=>a({image:Object.assign({},t.image,{alt:e.target.value})})})),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"ct6a-img-pos",checked:!t.imagePosition||"left"===t.imagePosition,onChange:()=>a({imagePosition:"left"})}),"Image Left (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"ct6a-img-pos",checked:"right"===t.imagePosition,onChange:()=>a({imagePosition:"right"})}),"Image Right")))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Program Information")),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Duration"),l.createElement("input",{type:"text",className:"form-input "+(t.meta.duration.length>60?"input-error":""),value:t.meta.duration,onChange:e=>a({meta:Object.assign({},t.meta,{duration:e.target.value})})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.meta.duration.length>60?"text-danger":""},t.meta.duration.length,"/60"))),l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Schedule"),l.createElement("button",{className:"btn-mini-add",onClick:()=>{a({meta:Object.assign({},t.meta,{schedule:[].concat((0,o.A)(t.meta.schedule),["New schedule item"])})})}},"+ Add Schedule")),l.createElement("div",{className:"schedule-items"},t.meta.schedule.map((e,n)=>l.createElement("div",{key:n,className:"schedule-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>((e,l)=>{const n=(0,o.A)(t.meta.schedule);n[e]=l,a({meta:Object.assign({},t.meta,{schedule:n})})})(n,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>(e=>{if(!window.confirm("Delete this schedule?"))return;const l=t.meta.schedule.filter((t,a)=>a!==e);a({meta:Object.assign({},t.meta,{schedule:l})})})(n),title:"Delete Schedule"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100")))))))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Curriculum Content")),l.createElement("div",{className:"curriculum-grid"},l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Tạng Câu Xá Luận"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("kosa")},"+ Add Item")),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Heading"),l.createElement("input",{type:"text",className:"form-input "+(t.curriculum.kosa.heading.length>100?"input-error":""),value:t.curriculum.kosa.heading,onChange:e=>a({curriculum:Object.assign({},t.curriculum,{kosa:Object.assign({},t.curriculum.kosa,{heading:e.target.value})})})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.curriculum.kosa.heading.length>100?"text-danger":""},t.curriculum.kosa.heading.length,"/100"))),l.createElement("div",{className:"curriculum-items"},t.curriculum.kosa.items.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("kosa",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("kosa",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100")))))))),l.createElement("div",{className:"curriculum-column"},l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Tạng Vi Diệu Pháp"),l.createElement("button",{className:"btn-mini-add",onClick:()=>i("abhidhamma")},"+ Add Item")),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Heading"),l.createElement("input",{type:"text",className:"form-input "+(t.curriculum.abhidhamma.heading.length>100?"input-error":""),value:t.curriculum.abhidhamma.heading,onChange:e=>a({curriculum:Object.assign({},t.curriculum,{abhidhamma:Object.assign({},t.curriculum.abhidhamma,{heading:e.target.value})})})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.curriculum.abhidhamma.heading.length>100?"text-danger":""},t.curriculum.abhidhamma.heading.length,"/100"))),l.createElement("div",{className:"curriculum-items"},t.curriculum.abhidhamma.items.map((e,t)=>l.createElement("div",{key:t,className:"curriculum-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.length>100?"input-error":""),value:e,onChange:e=>n("abhidhamma",t,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c("abhidhamma",t)},"×")),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.length>100?"text-danger":""},e.length,"/100"))))))))))))};var H=e=>{var t;let{data:a,onChange:n}=e;const{0:i,1:c}=(0,l.useState)(null),m=(e,t)=>{const l=(0,o.A)(a.blocks);l[e]=Object.assign({},l[e],t),n({blocks:l})},d=(e,t,l,i)=>{const s=(0,o.A)(a.blocks),r=s[e];if("course"===r.type&&r.courses){const a=(0,o.A)(r.courses);a[t]=Object.assign({},a[t],{[l]:i}),s[e]=Object.assign({},r,{courses:a}),n({blocks:s})}};return l.createElement("div",{className:"chuyen-khoa-a-ty-dam-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Niên Khóa Page 6"),l.createElement(r,{locked:a.locked,onToggle:e=>n({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage program blocks and content")),l.createElement("div",{className:"editor-form "+(a.locked?"locked-section":""),style:a.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Content Blocks"),l.createElement("button",{className:"btn-mini-add",onClick:()=>{const e={id:"block-"+Date.now(),type:"schedule",title:"New Block",imageDesktop:"",imageMobile:"",schedules:{heading:"New Schedule Heading",items:[]}};n({blocks:[].concat((0,o.A)(a.blocks),[e])})}},"+ Add Block")),a.blocks.map((e,t)=>l.createElement("div",{key:e.id,className:"form-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Block ",t+1,": ",e.title),l.createElement("button",{className:"btn-mini-delete",onClick:()=>c(t),title:"Delete Block"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Block Title"),l.createElement("input",{type:"text",className:"form-input",value:e.title,onChange:e=>m(t,{title:e.target.value})})),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Block Type"),l.createElement("select",{className:"form-input",value:e.type,onChange:e=>{const a=e.target.value,l={type:a};"schedule"===a?(l.schedules={heading:"Schedule Heading",items:[]},delete l.courses):(l.courses=[],delete l.schedules),m(t,l)}},l.createElement("option",{value:"schedule"},"Schedule"),l.createElement("option",{value:"course"},"Course"))),l.createElement(s,{label:"Desktop Image",value:e.imageDesktop,onChange:e=>m(t,{imageDesktop:e}),aspectRatio:"landscape"}),void 0!==e.imageMobile&&l.createElement(s,{label:"Mobile Image",value:e.imageMobile,onChange:e=>m(t,{imageMobile:e}),aspectRatio:"landscape"}),l.createElement("div",{className:"form-group",style:{marginTop:"1rem"}},l.createElement("label",{className:"form-label"},"Image Position (Desktop)"),l.createElement("div",{className:"radio-group",style:{display:"flex",gap:"1.5rem"}},l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"block-pos-"+e.id,checked:!e.imagePosition||"right"===e.imagePosition,onChange:()=>m(t,{imagePosition:"right"})}),"Image Right (default)"),l.createElement("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"}},l.createElement("input",{type:"radio",name:"block-pos-"+e.id,checked:"left"===e.imagePosition,onChange:()=>m(t,{imagePosition:"left"})}),"Image Left"))),"schedule"===e.type&&e.schedules&&l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Schedule Heading"),l.createElement("input",{type:"text",className:"form-input",value:e.schedules.heading,onChange:a=>m(t,{schedules:Object.assign({},e.schedules,{heading:a.target.value})})})),l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Schedule Items"),l.createElement("div",{className:"sub-section-actions"},l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const t=(0,o.A)(a.blocks),l=t[e];if("schedule"===l.type&&l.schedules){const a={id:"item-"+Date.now(),dayLabel:"New Day",details:["New detail"]};t[e]=Object.assign({},l,{schedules:Object.assign({},l.schedules,{items:[].concat((0,o.A)(l.schedules.items),[a])})}),n({blocks:t})}})(t)},"+ Add Schedule Item"))),e.schedules.items.map((e,i)=>l.createElement("div",{key:e.id,className:"curriculum-item"},l.createElement("div",{className:"mini-item-row",style:{alignItems:"center"}},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Day Label",value:e.dayLabel,onChange:e=>((e,t,l,i)=>{const s=(0,o.A)(a.blocks),r=s[e];if("schedule"===r.type&&r.schedules){const a=(0,o.A)(r.schedules.items);a[t]=Object.assign({},a[t],{[l]:i}),s[e]=Object.assign({},r,{schedules:Object.assign({},r.schedules,{items:a})}),n({blocks:s})}})(t,i,"dayLabel",e.target.value)}),l.createElement("div",{className:"sub-section-actions"},l.createElement("button",{className:"btn-mini-add",onClick:()=>((e,t)=>{const l=(0,o.A)(a.blocks),i=l[e];if("schedule"===i.type&&i.schedules){const a=(0,o.A)(i.schedules.items);a[t]=Object.assign({},a[t],{details:[].concat((0,o.A)(a[t].details),["New detail"])}),l[e]=Object.assign({},i,{schedules:Object.assign({},i.schedules,{items:a})}),n({blocks:l})}})(t,i)},"+ Add Detail"),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t)=>{const l=(0,o.A)(a.blocks),i=l[e];if("schedule"===i.type&&i.schedules){const a=i.schedules.items.filter((e,a)=>a!==t);l[e]=Object.assign({},i,{schedules:Object.assign({},i.schedules,{items:a})}),n({blocks:l})}})(t,i),title:"Delete Schedule"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))))),l.createElement("div",{className:"schedule-details"},l.createElement("h5",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em"}},"Details"),e.details.map((e,s)=>l.createElement("div",{key:s,className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",value:e,onChange:e=>((e,t,l,i)=>{const s=(0,o.A)(a.blocks),r=s[e];if("schedule"===r.type&&r.schedules){const a=(0,o.A)(r.schedules.items),c=(0,o.A)(a[t].details);c[l]=i,a[t]=Object.assign({},a[t],{details:c}),s[e]=Object.assign({},r,{schedules:Object.assign({},r.schedules,{items:a})}),n({blocks:s})}})(t,i,s,e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t,l)=>{const i=(0,o.A)(a.blocks),s=i[e];if("schedule"===s.type&&s.schedules){const a=(0,o.A)(s.schedules.items),r=a[t].details.filter((e,t)=>t!==l);a[t]=Object.assign({},a[t],{details:r}),i[e]=Object.assign({},s,{schedules:Object.assign({},s.schedules,{items:a})}),n({blocks:i})}})(t,i,s),title:"Delete Detail"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))))))))),"course"===e.type&&e.courses&&l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Courses"),l.createElement("button",{className:"btn-mini-add",onClick:()=>(e=>{const t=(0,o.A)(a.blocks),l=t[e];if("course"===l.type&&l.courses){const a={id:"course-"+Date.now(),title:"New Course",description:"New course description"};t[e]=Object.assign({},l,{courses:[].concat((0,o.A)(l.courses),[a])}),n({blocks:t})}})(t)},"+ Add Course")),e.courses.map((e,i)=>l.createElement("div",{key:e.id,className:"curriculum-item"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Course Title",value:e.title,onChange:e=>d(t,i,"title",e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>((e,t)=>{const l=(0,o.A)(a.blocks),i=l[e];if("course"===i.type&&i.courses){const a=i.courses.filter((e,a)=>a!==t);l[e]=Object.assign({},i,{courses:a}),n({blocks:l})}})(t,i),title:"Delete Course"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))),l.createElement("textarea",{className:"form-input",placeholder:"Course Description",value:e.description,onChange:e=>d(t,i,"description",e.target.value),rows:3})))))))),l.createElement(u,{isOpen:null!==i,onClose:()=>c(null),title:"Delete Block?",subtitle:'Are you sure you want to delete the block "'+(null!==i?null===(t=a.blocks[i])||void 0===t?void 0:t.title:"")+'"? This action cannot be undone.',type:"error",buttons:[{buttonText:"Yes, Delete Block",buttonTextActive:"Deleting...",buttonTextResponse:"Deleted!",variant:"danger",onClick:async()=>{null!==i&&((e=>{const t=a.blocks.filter((t,a)=>a!==e);n({blocks:t})})(i),c(null))}},{buttonText:"Cancel",variant:"secondary",onClick:()=>c(null)}]}))};var F=e=>{let{data:t,onChange:a}=e;const n=(e,l,n)=>{const i=(0,o.A)(t.links);i[e]=Object.assign({},i[e],{[l]:n}),a({links:i})};return l.createElement("div",{className:"chuyen-khoa-a-ty-dam-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("h2",null,"Edit Program Section EF"),l.createElement(r,{locked:t.locked,onToggle:e=>a({locked:e})})),l.createElement("p",{className:"editor-subtitle"},"Manage program section content and links")),l.createElement("div",{className:"editor-form "+(t.locked?"locked-section":""),style:t.locked?{pointerEvents:"none",opacity:.6}:{}},l.createElement("div",{className:"form-section"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Section Title"),l.createElement("input",{type:"text",className:"form-input "+(t.title.length>80?"input-error":""),value:t.title,onChange:e=>a({title:e.target.value})}),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:t.title.length>80?"text-danger":""},t.title.length,"/80"))),l.createElement(s,{label:"Desktop Image",value:t.images.desktop,onChange:e=>a({images:Object.assign({},t.images,{desktop:e})}),aspectRatio:"landscape"}),l.createElement(s,{label:"Mobile Image",value:t.images.mobile,onChange:e=>a({images:Object.assign({},t.images,{mobile:e})}),aspectRatio:"landscape"}),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"form-label"},"Image Alt Text"),l.createElement("input",{type:"text",className:"form-input",value:t.images.alt,onChange:e=>a({images:Object.assign({},t.images,{alt:e.target.value})})}))),l.createElement("div",{className:"form-section"},l.createElement("div",{className:"section-header"},l.createElement("h3",{className:"section-title"},"Program Links")),l.createElement("div",{className:"sub-section"},l.createElement("div",{className:"sub-section-header"},l.createElement("h4",null,"Links"),l.createElement("button",{className:"btn-mini-add",onClick:()=>{const e={id:"ef-"+Date.now(),label:"New Link",href:"#"};a({links:[].concat((0,o.A)(t.links),[e])})}},"+ Add Link")),l.createElement("div",{className:"schedule-items"},t.links.map((e,i)=>l.createElement("div",{key:e.id,className:"schedule-item"},l.createElement("div",{className:"mini-item-container"},l.createElement("div",{className:"mini-item-row"},l.createElement("input",{type:"text",className:"form-input mini "+(e.label.length>60?"input-error":""),placeholder:"Link Label",value:e.label,onChange:e=>n(i,"label",e.target.value)}),l.createElement("input",{type:"text",className:"form-input mini",placeholder:"Link URL",value:e.href,onChange:e=>n(i,"href",e.target.value)}),l.createElement("button",{className:"btn-mini-delete",onClick:()=>(e=>{if(!window.confirm("Delete this link?"))return;const l=t.links.filter((t,a)=>a!==e);a({links:l})})(i),title:"Delete Link"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))),l.createElement("div",{className:"input-counter"},l.createElement("span",{className:e.label.length>60?"text-danger":""},e.label.length,"/60"))))))))))};const V="sbu_cms_alerts",z="sbu_cms_submissions",W=[{id:"sub_001",date:"2026-02-05T10:30:00Z",email:"ali@example.com",formName:"Contact Form",message:"Hello, I would like to inquire about your services and pricing details..."},{id:"sub_002",date:"2026-02-04T15:45:00Z",email:"sara@example.com",formName:"Booking Form",message:"Can you please confirm availability for next week? I am looking to book..."},{id:"sub_003",date:"2026-02-03T09:12:00Z",email:"mohammad@example.com",formName:"Feedback Form",message:"Overall the experience was good, but I think the interface could be improved..."}],U=[{id:"alt_001",user:"ali@example.com",action:"submitted Contact Form",timestamp:"2026-02-05T10:30:00Z",link:"submissions?id=sub_001",type:"success"},{id:"alt_002",user:"Admin",action:"updated Homepage",timestamp:"2026-02-05T08:20:00Z",link:null,type:"info"},{id:"alt_003",user:"System",action:"completed nightly backup",timestamp:"2026-02-05T00:00:00Z",link:null,type:"info"},{id:"alt_004",user:"sara@example.com",action:"submitted Booking Form",timestamp:"2026-02-04T15:45:00Z",link:"submissions?id=sub_002",type:"success"}],G=e=>{if("undefined"==typeof window)return[];const t=localStorage.getItem(e);return t?JSON.parse(t):[]},K={async getSubmissions(){return new Promise(e=>{console.log("[API] GET /submissions"),setTimeout(()=>{const t=G(z);e({success:!0,data:t})},600)})},async getAlerts(){return new Promise(e=>{console.log("[API] GET /alerts"),setTimeout(()=>{const t=G(V);t.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),e({success:!0,data:t})},600)})},async logActivity(e,t,a){return void 0===a&&(a=null),new Promise(l=>{if(!e||!t)return console.warn("[API Warning] logActivity: Missing user or action",{user:e,action:t}),l({success:!1,error:"Missing required parameters"});console.log("[API] POST /alerts",{user:e,action:t,link:a}),setTimeout(()=>{const n=G(V),i={id:"alt_"+Date.now(),user:e,action:t,timestamp:(new Date).toISOString(),link:a,type:"info"};n.unshift(i),localStorage.setItem(V,JSON.stringify(n)),l({success:!0,data:i})},600)})}};"undefined"!=typeof window&&(localStorage.getItem(z)||localStorage.setItem(z,JSON.stringify(W)),localStorage.getItem(V)||localStorage.setItem(V,JSON.stringify(U)));const _=[{value:"short_answer",label:"Short Answer"},{value:"paragraph",label:"Paragraph"},{value:"multiple_choice",label:"Multiple Choice"},{value:"dropdown",label:"Dropdown"},{value:"checkboxes",label:"Checkboxes"},{value:"linear_scale",label:"Linear Scale"},{value:"file_upload",label:"File Upload"},{value:"date",label:"Date"},{value:"time",label:"Time"}],q=[{id:"blank",label:"Blank Form",fields:[]},{id:"contact",label:"Sample Contact Form",fields:[{id:"f1",name:"Email Address",type:"short_answer",required:!0,validation:{mode:"email"}},{id:"f2",name:"Message",type:"paragraph",required:!1}]}];var J=e=>{let{showNotification:t}=e;const{forms:a,loading:i,createForm:s,updateForm:c,deleteForm:m}=(0,C.O)(),{0:d,1:g}=(0,l.useState)(null),{0:p,1:E}=(0,l.useState)(null),{0:h,1:v}=(0,l.useState)(!1),{0:b,1:N}=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(d){const e=a.find(e=>e.id===d);e?E(JSON.parse(JSON.stringify(e))):(g(null),E(null))}},[d,a]);const f=()=>{const e={id:"temp_"+Date.now(),title:"New Form",fields:[]};g(null),E(e),v(!1)},{updateGhiDanhNhapHocContent:k}=(0,n.f9)(),y=(e,t)=>{if(!p)return;const a=p.fields.map(a=>a.id===e?Object.assign({},a,t):a);E(Object.assign({},p,{fields:a}))};return i?l.createElement("div",{className:"form-builder-container"},l.createElement("div",{className:"workspace-empty-state"},l.createElement("p",null,"Loading forms..."))):l.createElement("div",{className:"form-builder-container"},l.createElement("aside",{className:"form-builder-sidebar"},l.createElement("div",{className:"sidebar-header"},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"}},l.createElement("h3",{style:{margin:0}},"My Forms"),l.createElement("div",{style:{position:"relative"}},l.createElement("button",{className:"btn-secondary",style:{padding:"4px 8px",fontSize:"12px",cursor:"pointer",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px"},onClick:()=>v(!h)},"Templates ▾"),h&&l.createElement("div",{style:{position:"absolute",top:"100%",right:0,background:"white",border:"1px solid #e5e7eb",borderRadius:"6px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",zIndex:10,width:"180px",padding:"4px"}},q.map(e=>l.createElement("button",{key:e.id,style:{width:"100%",textAlign:"left",padding:"8px",background:"none",border:"none",fontSize:"13px",cursor:"pointer",borderRadius:"4px"},onMouseOver:e=>e.currentTarget.style.background="#f3f4f6",onMouseOut:e=>e.currentTarget.style.background="none",onClick:()=>(e=>{const t=q.find(t=>t.id===e);if("blank"!==e){if(t){const e={id:"temp_"+Date.now(),title:t.label,fields:JSON.parse(JSON.stringify(t.fields))};g(null),E(e)}v(!1)}else f()})(e.id)},e.label))))),l.createElement("button",{className:"btn-create-form",onClick:f},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),"Create Form")),l.createElement("div",{className:"form-list"},a.map(e=>l.createElement("div",{key:e.id,className:"form-list-item "+(d===e.id?"active":""),onClick:()=>g(e.id)},l.createElement("span",{className:"form-item-title"},e.title),l.createElement("div",{className:"form-item-badge"},e.fields.length," fields"))),0===a.length&&l.createElement("p",{style:{textAlign:"center",color:"#9ca3af",fontSize:"0.875rem",marginTop:"2rem"}},"No forms created yet."))),l.createElement("main",{className:"form-builder-workspace"},p?l.createElement("div",{style:{width:"100%",maxWidth:"800px"}},l.createElement("div",{className:"form-editor-card"},l.createElement("div",{className:"form-editor-header"},l.createElement("input",{className:"form-title-input",value:p.title,onChange:e=>{return t=e.target.value,void(p&&E(Object.assign({},p,{title:t})));var t},placeholder:"Enter form title...",disabled:!!p.locked}),l.createElement("div",{style:{marginRight:"1rem"}},l.createElement(r,{locked:p.locked,onToggle:e=>E(Object.assign({},p,{locked:e}))})),l.createElement("div",{className:"form-actions",style:{display:"flex",alignItems:"center"}},l.createElement("button",{onClick:()=>{if(p){if(d)c(d,p);else{const e=s(p.title,p.fields);g(e.id)}k({}),window.dispatchEvent(new CustomEvent("sbu-cms-re-resolve")),t("Form saved successfully!","success")}},style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",fontWeight:500,fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",marginRight:"8px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},onMouseOver:e=>e.currentTarget.style.background="#059669",onMouseOut:e=>e.currentTarget.style.background="#10b981"},l.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),l.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),l.createElement("polyline",{points:"7 3 7 8 15 8"})),"Save Form"),d&&l.createElement("button",{className:"btn-delete-form",onClick:()=>N(!0)},"Delete Form"))),l.createElement("div",{className:"fields-container",style:{opacity:p.locked?.6:1,pointerEvents:p.locked?"none":"auto",transition:"opacity 0.3s"}},0===p.fields.length&&l.createElement("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"#6b7280"}},l.createElement("p",{style:{fontSize:"1.125rem",fontWeight:500}},"Empty Form"),l.createElement("p",{style:{fontSize:"0.875rem"}},'Click "Add Field" below to begin building your form.')),p.fields.map(e=>l.createElement("div",{key:e.id,className:"field-block"},l.createElement("div",{className:"field-row"},l.createElement("div",{className:"field-input-group"},l.createElement("label",{className:"field-label"},"Question name"),l.createElement("input",{className:"input-standard",value:e.name,onChange:t=>y(e.id,{name:t.target.value}),placeholder:"e.g. Email Address"})),l.createElement("div",{className:"field-input-group"},l.createElement("label",{className:"field-label"},"Field Type"),l.createElement("select",{className:"input-standard",value:e.type,onChange:t=>{const a=t.target.value,l={type:a};["multiple_choice","dropdown","checkboxes"].includes(a)&&!e.options&&(l.options=["Option 1"]),y(e.id,l)}},_.map(e=>l.createElement("option",{key:e.value,value:e.value},e.label)))),l.createElement("button",{className:"btn-delete-field",onClick:()=>(e=>{if(!p)return;const t=p.fields.filter(t=>t.id!==e);E(Object.assign({},p,{fields:t}))})(e.id),title:"Remove field"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))),["linear_scale","file_upload"].includes(e.type)&&l.createElement("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#f8f9fa",borderRadius:"6px",fontSize:"13px",color:"#6b7280",border:"1px dashed #d1d5db"}},"linear_scale"===e.type?"Linear scale field (configure later)":"File upload field (configure later)"),["multiple_choice","dropdown","checkboxes"].includes(e.type)&&l.createElement("div",{className:"field-options-editor",style:{marginTop:"1.25rem",paddingLeft:"1rem",borderLeft:"3px solid #e5e7eb"}},l.createElement("label",{className:"field-label",style:{marginBottom:"0.75rem",display:"block"}},"Options"),l.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"}},(e.options||[]).map((t,a)=>l.createElement("div",{key:a,style:{display:"flex",gap:"0.5rem",alignItems:"center"}},l.createElement("div",{style:{color:"#9ca3af",fontSize:"12px"}},a+1,"."),l.createElement("input",{className:"input-standard",style:{padding:"6px 10px",height:"36px"},value:t,onChange:t=>{const l=(0,o.A)(e.options);l[a]=t.target.value,y(e.id,{options:l})},placeholder:"Option "+(a+1)}),l.createElement("button",{onClick:()=>{const t=e.options.filter((e,t)=>t!==a);y(e.id,{options:t})},style:{background:"none",border:"none",color:"#ef4444",cursor:"pointer",padding:"4px"}},l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))))),l.createElement("button",{onClick:()=>{const t=e.options||[];y(e.id,{options:[].concat((0,o.A)(t),["Option "+(t.length+1)])})},style:{alignSelf:"flex-start",background:"none",border:"none",color:"#3b82f6",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",marginTop:"4px"}},l.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),"Add Option"))),l.createElement("div",{className:"field-footer-row",style:{marginTop:"1.25rem"}},l.createElement("div",{className:"field-input-group",style:{flex:1}},l.createElement("label",{className:"field-label"},"Placeholder (Optional)"),l.createElement("input",{className:"input-standard",value:e.placeholder||"",onChange:t=>y(e.id,{placeholder:t.target.value}),placeholder:"Gray text inside input..."})),l.createElement("div",{className:"field-input-group",style:{flex:1}},l.createElement("label",{className:"field-label"},"Help Text"),l.createElement("input",{className:"input-standard input-help-text",value:e.helpText||"",onChange:t=>y(e.id,{helpText:t.target.value}),placeholder:"Instruction for users..."})),l.createElement("label",{className:"field-required-label"},l.createElement("input",{type:"checkbox",checked:!!e.required,onChange:t=>y(e.id,{required:t.target.checked})}),l.createElement("span",null,"Required"))))),l.createElement("div",{className:"add-field-footer"},l.createElement("button",{className:"btn-add-field",onClick:()=>{if(!p)return;const e={id:"field_"+Date.now(),name:"New Question",type:"short_answer",required:!1,helpText:""};E(Object.assign({},p,{fields:[].concat((0,o.A)(p.fields),[e])}))}},l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),"Add Field"))))):l.createElement("div",{className:"workspace-empty-state"},l.createElement("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3",style:{marginBottom:"1.5rem"}},l.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.createElement("polyline",{points:"14 2 14 8 20 8"}),l.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}),l.createElement("line",{x1:"9",y1:"11",x2:"15",y2:"11"}),l.createElement("line",{x1:"9",y1:"19",x2:"12",y2:"19"})),l.createElement("h2",null,"Form Builder"),l.createElement("p",null,'Select an existing form from the sidebar or click "Create Form" to get started.'))),l.createElement(u,{isOpen:b,onClose:()=>N(!1),title:"Delete Form?",subtitle:'Are you sure you want to delete "'+(null==p?void 0:p.title)+'"? This will permanently remove the form and all its fields. This action cannot be undone.',type:"error",buttons:[{buttonText:"Yes, Delete Form",buttonTextActive:"Deleting...",buttonTextResponse:"Deleted!",variant:"danger",onClick:async()=>{d&&(m(d),g(null),E(null),N(!1))}},{buttonText:"Cancel",variant:"secondary",onClick:()=>N(!1)}]}))};const Y=[{id:"sub_001",date:"2026-02-05",email:"ali@example.com",formName:"Contact Form",message:"Hello, I would like to inquire about your services and pricing details. I am particularly interested in the advanced meditation course and would like to know the schedule for the upcoming months. Please let me know if there are any prerequisites for joining."},{id:"sub_002",date:"2026-02-04",email:"sara@example.com",formName:"Booking Form",message:"Can you please confirm availability for next week? I am looking to book a session for our group of 15 people. We are interested in a half-day retreat covering the basics of mindfulness."},{id:"sub_003",date:"2026-02-03",email:"mohammad@example.com",formName:"Feedback Form",message:"Overall the experience was good, but I think the interface could be improved. Some buttons are hard to find on mobile devices, and the loading speed seems a bit slow at times."}];var Z=()=>{const{0:e,1:t}=(0,l.useState)(null),a=Y.find(t=>t.id===e),n=e=>new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});return a?l.createElement("div",{className:"submissions-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("button",{className:"btn-back",onClick:()=>t(null)},l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),l.createElement("polyline",{points:"12 19 5 12 12 5"})),"Back to List"),l.createElement("h2",null,"Submission Details")),l.createElement("div",{className:"submission-detail-container"},l.createElement("div",{className:"detail-header"},l.createElement("span",{className:"col-form-name"},a.formName),l.createElement("span",{className:"col-date"},n(a.date))),l.createElement("div",{className:"detail-content"},l.createElement("div",{className:"detail-info-grid"},l.createElement("div",{className:"info-item"},l.createElement("span",{className:"info-label"},"Form Name"),l.createElement("span",{className:"info-value"},a.formName)),l.createElement("div",{className:"info-item"},l.createElement("span",{className:"info-label"},"Date Submitted"),l.createElement("span",{className:"info-value"},n(a.date))),l.createElement("div",{className:"info-item"},l.createElement("span",{className:"info-label"},"Email Address"),l.createElement("span",{className:"info-value"},a.email))),l.createElement("div",{className:"detail-message-section"},l.createElement("span",{className:"detail-message-label"},"Message"),l.createElement("div",{className:"detail-message-body"},a.message))))):l.createElement("div",{className:"submissions-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("h2",null,"Form Submissions"),l.createElement("p",{className:"editor-subtitle"},"Review and manage all incoming form responses")),l.createElement("div",{className:"submissions-table-container"},l.createElement("table",{className:"submissions-table"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",{style:{width:"150px"}},"Date"),l.createElement("th",{style:{width:"250px"}},"Email"),l.createElement("th",{style:{width:"150px"}},"Form Name"),l.createElement("th",null,"Message Preview"))),l.createElement("tbody",null,Y.sort((e,t)=>t.date.localeCompare(e.date)).map(e=>{return l.createElement("tr",{key:e.id,onClick:()=>t(e.id)},l.createElement("td",{className:"col-date","data-label":"Date"},n(e.date)),l.createElement("td",{className:"col-email","data-label":"Email"},e.email),l.createElement("td",{"data-label":"Form"},l.createElement("span",{className:"col-form-name"},e.formName)),l.createElement("td",{className:"col-message","data-label":"Message"},(a=e.message).length<=70?a:a.substring(0,70)+"..."));var a}))),0===Y.length&&l.createElement("div",{className:"empty-state"},l.createElement("p",null,"No submissions found."))))};var Q=e=>{let{onNavigate:t}=e;const{0:a,1:n}=(0,l.useState)([]),{0:i,1:s}=(0,l.useState)(!0),{0:r,1:c}=(0,l.useState)(1);(0,l.useEffect)(()=>{(async()=>{try{const e=await K.getAlerts();e.success&&e.data&&n(e.data)}catch(e){console.error("Failed to fetch alerts:",e)}finally{s(!1)}})()},[]);const o=e=>{e&&(t?t(e):(console.log("Navigating to: "+e),alert("Navigating to "+e+". (Internal routing simulation)")))},m=Math.ceil(a.length/10),d=a.slice(10*(r-1),10*r);return i?l.createElement("div",{className:"alerts-editor"},l.createElement("div",{className:"alerts-loading"},l.createElement("div",{className:"spinner"}),l.createElement("p",null,"Loading activity feed..."))):l.createElement("div",{className:"alerts-editor"},l.createElement("div",{className:"editor-header-title"},l.createElement("h2",null,"System Alerts & Activity"),l.createElement("p",{className:"editor-subtitle"},"Recent events and changes across the CMS")),l.createElement("div",{className:"alerts-list"},d.map(e=>l.createElement("div",{key:e.id,className:"alert-item "+(e.link?"navigable":""),onClick:()=>o(e.link)},l.createElement("div",{className:"alert-icon"},"System"===e.user?l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})):"Admin"===e.user?l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})):l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),l.createElement("polyline",{points:"22,6 12,13 2,6"}))),l.createElement("div",{className:"alert-content"},l.createElement("div",{className:"alert-main"},l.createElement("span",{className:"alert-user"},e.user),l.createElement("span",{className:"alert-action"},e.action)),l.createElement("span",{className:"alert-timestamp"},(e=>{const t=new Date(e),a=new Date,l=Math.floor((a.getTime()-t.getTime())/1e3);return l<60?"Just now":l<3600?Math.floor(l/60)+"m ago":l<86400?Math.floor(l/3600)+"h ago":t.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})(e.timestamp))),e.link&&l.createElement("div",{className:"nav-indicator"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("polyline",{points:"9 18 15 12 9 6"}))))),0===a.length&&l.createElement("div",{className:"empty-state"},l.createElement("p",null,"No recent activity records found."))),a.length>10&&l.createElement("div",{className:"pagination-container"},l.createElement("button",{className:"btn-pagination",disabled:1===r,onClick:()=>c(e=>e-1)},"Previous"),l.createElement("span",{className:"pagination-info"},"Page ",r," of ",m),l.createElement("button",{className:"btn-pagination",disabled:r===m,onClick:()=>c(e=>e+1)},"Next")))};var X=()=>{const e=(0,l.useRef)(null),t=(0,l.useRef)(null),{0:a,1:i}=(0,l.useState)(!1),{0:s,1:r}=(0,l.useState)(!1);(0,l.useEffect)(()=>{const a=a=>{e.current&&!e.current.contains(a.target)&&i(!1),t.current&&!t.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const{0:o,1:u}=(0,l.useState)("global"),{0:N,1:f}=(0,l.useState)(null),{cmsData:C,resetCMSData:x,updateHeaderContent:V,updateFooterContent:z,updatePageHeader:W,updateUpcomingEventContent:U,updateNewsContent:G,updatePrograms:_,updateSupportContent:q,updateScriptureContent:Y,updateLoiTuBachContent:X,updateBonDaiTongChiContent:$,updateBanNhanSuContent:ee,updateGhiDanhNhapHocContent:te,updateKhongGianThienContent:ae,updateKhongGianThien12Content:le,updateGhiDanhThienContent:ne,updateChuongTrinhSoTrungDangContent:ie,updateNienKhoaContent:se,updateNienKhoa2022Content:re,updateNienKhoa2019Content:ce,updateChuongTrinhCaoDangContent:oe,updateCaoDangNienKhoaContent:me,updateCaoDang2022Content:de,updateCaoDang2019Content:ue,updateChuyenKhoaATyDamContent:ge,updateNienKhoaContent6:pe,updateProgramSectionEFContent:Ee,saveDraft:he,publishCMSData:ve,importCMSData:be,discardDraft:Ne,hasDraftChanges:fe,hasUnsavedChanges:ke,remoteVersion:ye,draftVersion:Ce,isSuperAdmin:xe,isSuperAdminMode:we,toggleSuperAdminMode:Ie}=(0,n.f9)(),Se={global:{name:"Cài đặt chung (Header/Footer)",sections:[{id:1,name:"Navigation (Menu)",icon:""},{id:2,name:"Footer (Chân trang)",icon:""}]},home:{name:"Trang Chủ (/home)",sections:[{id:1,name:"Hero Section (Banner)",icon:""},{id:6,name:"Upcoming Event (Sắp diễn ra)",icon:""},{id:2,name:"Announcements (Thông báo)",icon:""},{id:3,name:"Programs (Chương trình)",icon:""},{id:4,name:"Dharma Support (Hộ trì)",icon:""},{id:5,name:"Library Section (Thư viện)",icon:""}]},page2:{name:"Về SBU (/Về-SBU)",sections:[{id:1,name:"Hero Section (Banner)",icon:""},{id:2,name:"Lời Từ Bạch",icon:""},{id:3,name:"Bốn Đại Tông Chỉ",icon:""},{id:4,name:"Ban Nhân Sự",icon:""},{id:5,name:"Ghi Danh Nhập Học",icon:""}]},page3:{name:"Chương trình Thiền (/Chương-trình-Thiền)",sections:[{id:1,name:"Hero Section (Banner)",icon:""},{id:2,name:"Không Gian Thiền",icon:""},{id:3,name:"Không Gian Thiền 1-2",icon:""},{id:4,name:"Ghi Danh Thiền",icon:""}]},page4:{name:"Sơ trung đẳng Phật học (/Sơ-trung-đẳng-Phật-học)",sections:[{id:1,name:"Hero Section (Banner)",icon:""},{id:2,name:"Chương Trình Đào Tạo",icon:""},{id:3,name:"Niên Khóa",icon:""},{id:4,name:"NIÊN KHÓA 2022 - 2025",icon:""},{id:5,name:"NIÊN KHÓA 2019 - 2022",icon:""}]},page5:{name:"Cao đẳng Phật học (/Cao-đẳng-Phật-học)",sections:[{id:1,name:"Hero Section (Banner)",icon:""},{id:2,name:"CHƯƠNG TRÌNH CAO ĐẲNG",icon:""},{id:3,name:"NIÊN KHÓA 2025-2028",icon:""},{id:4,name:"NIÊN KHÓA 2022-2025",icon:""},{id:5,name:"NIÊN KHÓA 2019-2022",icon:""}]},page6:{name:"Chuyên khoa A tỳ đàm (/Chuyên-khoa-A-tỳ-đàm)",sections:[{id:1,name:"Hero Section (Banner)",icon:""},{id:2,name:"CHUYÊN KHOA A TỲ ĐÀM",icon:""},{id:3,name:"NIÊN KHÓA 2024-2027",icon:""},{id:4,name:"Lịch Học Chi Tiết",icon:""}]},submissions:{name:"Submissions",sections:[{id:1,name:"All Submissions",icon:""}]},alerts:{name:"Alerts",sections:[{id:1,name:"Activity Feed",icon:""}]},form_builder:{name:"Form Builder",sections:[{id:1,name:"Builder",icon:""}]}},{0:Te,1:De}=(0,l.useState)(!1),{0:Ae,1:Le}=(0,l.useState)(!1),{0:je,1:Oe}=(0,l.useState)(!1),{0:Pe,1:Be}=(0,l.useState)(!1),{0:Me,1:Re}=(0,l.useState)(null),He=function(e,t){void 0===t&&(t="success");const a=Date.now();Re({message:e,type:t,id:a}),setTimeout(()=>{Re(e=>(null==e?void 0:e.id)===a?null:e)},3e3)},{0:Fe,1:Ve}=(0,l.useState)([]),ze=async()=>{try{const e=await K.getAlerts();e.success&&e.data&&Ve(e.data)}catch(e){console.error("Failed to fetch alerts:",e)}};(0,l.useEffect)(()=>{ze();const e=setInterval(ze,6e4);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>{localStorage.getItem("sbu-cms-draft")&&(console.log("[EDITOR][RECOVERY] Draft found on mount - showing banner"),Be(!0))},[]);const We=e=>{i(!1),e&&(e.startsWith("submissions")?(u("submissions"),f("All Submissions"),He("Navigating to form submission details...","info")):(console.log("Navigating to: "+e),He("Navigating to: "+e,"info")))},Ue=async()=>{confirm("Are you sure you want to discard your unsaved changes? This will revert the editor to the last saved version.")&&(Oe(!0),await new Promise(e=>setTimeout(e,1e3)),Ne(),Be(!1),await K.logActivity("Admin","discarded unsaved changes"),ze(),Oe(!1),He("Unsaved changes discarded. Reverted to last saved version.","info"))},Ge=async()=>{De(!0),await new Promise(e=>setTimeout(e,1500)),he(),await K.logActivity("Admin","saved a new draft version"),ze(),De(!1),He("Draft saved successfully! Preview is now available.")},{0:Ke,1:_e}=(0,l.useState)(!1),qe=async()=>{confirm("Are you sure you want to publish this draft? This will make the changes LIVE on the site.")&&(_e(!0),await new Promise(e=>setTimeout(e,2e3)),ve(),await K.logActivity("Admin","published content to version "+(C.version||"new")),ze(),_e(!1),He("Content published successfully! Changes are now live."))},Je=async()=>{Le(!0),await K.logActivity("Admin","generated a preview"),ze(),await new Promise(e=>setTimeout(e,800)),Le(!1);let e="/";"page2"===o?e="/Về-SBU":"page3"===o?e="/Chương-trình-Thiền":"page4"===o?e="/Sơ-trung-đẳng-Phật-học":"page5"===o?e="/Cao-đẳng-Phật-học":"page6"===o?e="/Chuyên-khoa-A-tỳ-đàm":"form_builder"===o&&(e="/Chương-trình-Thiền"),window.open(e+(e.includes("?")?"&":"?")+"preview=true","_blank"),He("Opening preview for "+Se[o].name+" in a new tab","info")},Ye=Se[o].sections;return l.createElement("div",{className:"editor-page"},Pe&&l.createElement("div",{className:"recovery-banner"},l.createElement("div",{className:"recovery-banner-content"},l.createElement("div",{className:"recovery-icon"},l.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("path",{d:"M11 17l-5-5 5-5M18 17l-5-5 5-5"}))),l.createElement("div",{className:"recovery-text"},l.createElement("h3",null,"Recovered Changes Found"),l.createElement("p",null,"We found draft changes that weren't implemented. Would you like to reload them now or discard them?")),l.createElement("div",{className:"recovery-actions"},l.createElement("button",{className:"btn-recovery-reload",onClick:()=>{const e=localStorage.getItem("sbu-cms-draft");e&&(be(e),He("Draft recovered successfully!","success")),Be(!1)}},"Reload Draft"),l.createElement("button",{className:"btn-recovery-discard",onClick:()=>{Ne(),Be(!1)}},"Discard Draft")))),l.createElement("header",{className:"editor-header"},l.createElement("div",{className:"editor-header-content"},l.createElement("h1",{className:"editor-title"},"Content Editor"),l.createElement("div",{className:"editor-actions"},l.createElement("div",{className:"mobile-menu-container",ref:t},l.createElement("button",{className:"btn-mobile-menu",onClick:()=>r(!s),title:"Menu"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),l.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),l.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}))),s&&l.createElement("div",{className:"mobile-menu-dropdown"},l.createElement("button",{className:"mobile-menu-item",onClick:()=>{Je(),r(!1)},disabled:!fe||ke||Ae||Te||je||Ke},l.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.createElement("circle",{cx:"12",cy:"12",r:"3"})),fe?"Preview":"Nothing to preview"),l.createElement("button",{className:"mobile-menu-item primary",onClick:()=>{Ge(),r(!1)},disabled:!ke||Te||Ae||je||Ke},l.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),l.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),l.createElement("polyline",{points:"7 3 7 8 15 8"})),"Save Draft"),l.createElement("button",{className:"mobile-menu-item success",onClick:()=>{qe(),r(!1)},disabled:!fe||ke||Ke||Te||Ae||je},l.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),l.createElement("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})),"Publish"),l.createElement("button",{className:"mobile-menu-item danger",onClick:()=>{Ue(),r(!1)},disabled:!fe||je||Te||Ae||Ke},l.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("polyline",{points:"3 6 5 6 21 6"}),l.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})),"Delete Draft"),l.createElement("button",{className:"mobile-menu-item logout",onClick:()=>{window.location.href="/logout"}},l.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.createElement("polyline",{points:"16 17 21 12 16 7"}),l.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"})),"Logout"))),l.createElement("div",{className:"alerts-bell-container",ref:e},l.createElement("button",{className:"btn-bell "+(a?"active":""),onClick:()=>i(!a),title:"System Alerts"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),l.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})),Fe.length>0&&l.createElement("span",{className:"bell-badge"},Fe.length)),a&&l.createElement("div",{className:"alerts-dropdown"},l.createElement("div",{className:"alerts-dropdown-header"},l.createElement("h3",null,"Recent Activity")),l.createElement("div",{className:"alerts-dropdown-list"},Fe.slice(0,5).map(e=>l.createElement("div",{key:e.id,className:"alert-preview-item "+(e.link?"navigable":""),onClick:()=>We(e.link)},l.createElement("div",{className:"alert-preview-main"},l.createElement("span",{className:"alert-preview-user"},e.user),l.createElement("span",{className:"alert-preview-action"},e.action)),l.createElement("span",{className:"alert-preview-time"},(e=>{const t=new Date(e),a=new Date,l=Math.floor((a.getTime()-t.getTime())/1e3);return l<60?"Just now":l<3600?Math.floor(l/60)+"m ago":l<86400?Math.floor(l/3600)+"h ago":t.toLocaleDateString("en-GB",{day:"2-digit",month:"short"})})(e.timestamp)))),0===Fe.length&&l.createElement("div",{className:"alert-preview-item"},l.createElement("span",{className:"alert-preview-action"},"No recent activity"))),l.createElement("div",{className:"alerts-dropdown-footer"},l.createElement("button",{className:"btn-read-more",onClick:()=>{u("alerts"),f("Activity Feed"),i(!1)}},"Read all alerts")))),l.createElement("button",{className:"btn-secondary desktop-only",onClick:Je,disabled:!fe||ke||Ae||Te||je||Ke,title:ke?"Save draft first to preview changes":"Preview saved draft"},Ae&&l.createElement("div",{className:"dots-loader"},l.createElement("span",null),l.createElement("span",null),l.createElement("span",null)),fe?"Preview":"Nothing to preview"),l.createElement("button",{className:"btn-danger desktop-only",onClick:Ue,disabled:!fe||je||Te||Ae||Ke},je&&l.createElement("div",{className:"dots-loader"},l.createElement("span",null),l.createElement("span",null),l.createElement("span",null)),"Delete Draft"),l.createElement("button",{className:"btn-primary desktop-only",onClick:Ge,disabled:!ke||Te||Ae||je||Ke},Te&&l.createElement("div",{className:"dots-loader"},l.createElement("span",null),l.createElement("span",null),l.createElement("span",null)),"Save Draft"),l.createElement("button",{className:"btn-publish desktop-only",onClick:qe,disabled:!fe||ke||Ke||Te||Ae||je},Ke&&l.createElement("div",{className:"dots-loader"},l.createElement("span",null),l.createElement("span",null),l.createElement("span",null)),"Publish"),l.createElement("button",{className:"btn-logout desktop-only",onClick:()=>window.location.href="/logout",title:"Sign Out"},l.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.createElement("polyline",{points:"16 17 21 12 16 7"}),l.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"})),"Logout")))),l.createElement("div",{className:"editor-layout"},l.createElement("aside",{className:"editor-panel"},l.createElement("div",{className:"page-selector"},l.createElement("label",{htmlFor:"page-select",className:"page-selector-label"},"Select Category"),l.createElement("select",{id:"page-select",className:"page-select",value:o,onChange:e=>{u(e.target.value),f(null)}},l.createElement("option",{value:"global"},"Cài đặt chung (Nav/Footer)"),l.createElement("option",{value:"home"},"Trang Chủ (/home)"),l.createElement("option",{value:"page2"},"Về SBU "),l.createElement("option",{value:"page3"},"Chương trình Thiền "),l.createElement("option",{value:"page4"},"Sơ trung đẳng Phật học"),l.createElement("option",{value:"page5"},"Cao đẳng Phật học"),l.createElement("option",{value:"page6"},"Chuyên khoa A tỳ đàm"),l.createElement("option",{value:"submissions"},"Đơn đăng ký (Submissions)"),l.createElement("option",{value:"alerts"},"Thông báo hệ thống (Alerts)"),l.createElement("option",{value:"form_builder"},"Thiết kế Form (Builder)"))),l.createElement("div",{className:"panel-header"},l.createElement("h2",null,Se[o].name," Sections"),l.createElement("p",{className:"panel-subtitle"},"Select a section to edit")),l.createElement("div",{className:"section-list"},Ye.map(e=>l.createElement("div",{key:e.id,className:"section-block "+(N===e.name?"active":""),onClick:()=>f(e.name)},l.createElement("span",{className:"section-icon"},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),l.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"9"}),l.createElement("line",{x1:"9",y1:"13",x2:"15",y2:"13"}))),l.createElement("div",{className:"section-info"},l.createElement("h3",{className:"section-name"},e.name),l.createElement("p",{className:"section-status"},N===e.name?"Editing...":"Ready to edit")),l.createElement("button",{className:"section-edit-btn"},l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},l.createElement("path",{d:"M11.333 2.00004C11.5081 1.82494 11.716 1.68605 11.9447 1.59129C12.1735 1.49653 12.4187 1.44775 12.6663 1.44775C12.914 1.44775 13.1592 1.49653 13.3879 1.59129C13.6167 1.68605 13.8246 1.82494 13.9997 2.00004C14.1748 2.17513 14.3137 2.383 14.4084 2.61178C14.5032 2.84055 14.552 3.08575 14.552 3.33337C14.552 3.58099 14.5032 3.82619 14.4084 4.05497C14.3137 4.28374 14.1748 4.49161 13.9997 4.66671L5.33301 13.3334L1.99967 14.3334L2.99967 11L11.333 2.00004Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))))),l.createElement("div",{className:"seperate-line"}),l.createElement("div",{className:"version-info"},l.createElement("div",{className:"version-item"},l.createElement("span",{className:"version-label"},"Current Version:"),l.createElement("span",{className:"version-value"},C.version||0)),l.createElement("div",{className:"version-item"},l.createElement("span",{className:"version-label"},"Draft Version:"),l.createElement("span",{className:"version-value draft"},Ce||"No draft")),l.createElement("div",{className:"version-item"},l.createElement("span",{className:"version-label"},"Remote Version:"),l.createElement("span",{className:"version-value remote"},ye||0)),xe&&l.createElement("div",{className:"version-item",style:{marginTop:"10px",borderTop:"1px solid #e5e5e5",paddingTop:"10px"}},l.createElement("span",{className:"version-label",style:{color:"#ef4444"}},"Super Admin:"),l.createElement("label",{className:"news-toggle-control",style:{transform:"scale(0.8)",marginLeft:"auto",marginBottom:0}},l.createElement("input",{type:"checkbox",checked:we,onChange:Ie}),l.createElement("span",{className:"news-toggle-slider"}))),l.createElement("div",{className:"version-item",style:{marginTop:"12px",borderTop:"1px solid #e5e5e5",paddingTop:"12px",flexDirection:"column",alignItems:"stretch"}},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},l.createElement("span",{className:"version-label",style:{color:"#E6B422",fontWeight:"bold",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.5px"}},"Typography System"),l.createElement("span",{style:{fontSize:"10px",color:"#999",fontWeight:"500"}},"v2"===C.global.footerContent.fontVersion?"FIGMA EXACT":"CLASSIC")),l.createElement("div",{className:"premium-font-switcher",style:{display:"flex",background:"#f0f0f0",padding:"3px",borderRadius:"20px",position:"relative",marginBottom:"10px"}},l.createElement("button",{onClick:()=>z({fontVersion:"v1"}),style:{flex:1,zIndex:2,border:"none",background:"transparent",padding:"6px 10px",fontSize:"11px",fontWeight:"v2"!==C.global.footerContent.fontVersion?"bold":"normal",color:"v2"!==C.global.footerContent.fontVersion?"#1a2a24":"#666",cursor:"pointer",transition:"all 0.3s ease"}},"Version 1"),l.createElement("button",{onClick:()=>z({fontVersion:"v2"}),style:{flex:1,zIndex:2,border:"none",background:"transparent",padding:"6px 10px",fontSize:"11px",fontWeight:"v2"===C.global.footerContent.fontVersion?"bold":"normal",color:"v2"===C.global.footerContent.fontVersion?"#1a2a24":"#666",cursor:"pointer",transition:"all 0.3s ease"}},"Version 2"),l.createElement("div",{style:{position:"absolute",top:"3px",left:"v2"===C.global.footerContent.fontVersion?"50%":"3px",width:"calc(50% - 3px)",height:"calc(100% - 6px)",background:"#fff",borderRadius:"18px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",transition:"all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28)",zIndex:1}})),l.createElement("div",{style:{padding:"8px",background:"rgba(230, 180, 34, 0.04)",borderRadius:"6px",border:"1px solid rgba(230, 180, 34, 0.12)"}},l.createElement("p",{style:{fontSize:"10px",margin:0,color:"#555",lineHeight:"1.4"}},"v2"===C.global.footerContent.fontVersion?l.createElement(l.Fragment,null,l.createElement("strong",null,"H:")," Be Vietnam Pro • ",l.createElement("strong",null,"B:")," Roboto",l.createElement("br",null),l.createElement("strong",null,"A:")," Allison (Script/Quotes)"):l.createElement(l.Fragment,null,l.createElement("strong",null,"H/B:")," Inter & Playfair Display",l.createElement("br",null),"(Legacy Setup)")))))),l.createElement("main",{className:"preview-area"},(()=>{if("global"===o){if("Navigation (Menu)"===N)return l.createElement(m,{data:C.global.headerContent,onChange:V});if("Footer (Chân trang)"===N)return l.createElement(v,{data:C.global.footerContent,onChange:z})}if("home"===o){if("Hero Section (Banner)"===N)return l.createElement(c,{data:C.pages.home.header,onChange:e=>W("home",e)});if("Upcoming Event (Sắp diễn ra)"===N)return l.createElement(d,{data:C.pages.home.upcomingEventContent,onChange:U});if("Announcements (Thông báo)"===N)return l.createElement(g,{data:C.pages.home.newsContent,onChange:G});if("Programs (Chương trình)"===N)return l.createElement(p,{data:C.pages.home.programsContent,onChange:_});if("Dharma Support (Hộ trì)"===N)return l.createElement(E,{data:C.pages.home.supportContent,onChange:q});if("Library Section (Thư viện)"===N)return l.createElement(h,{data:C.pages.home.scriptureContent,onChange:Y})}if(["home","page2","page3","page4","page5","page6"].includes(o)&&"Hero Section (Banner)"===N){const e=o;return l.createElement(c,{data:C.pages[e].header,onChange:t=>W(e,t)})}if("page2"===o){if("Lời Từ Bạch"===N)return l.createElement(b,{data:C.pages.page2.loiTuBachContent,onChange:X});if("Bốn Đại Tông Chỉ"===N)return l.createElement(k,{data:C.pages.page2.bonDaiTongChiContent,onChange:$});if("Ban Nhân Sự"===N)return l.createElement(y,{data:C.pages.page2.banNhanSuContent,onChange:ee});if("Ghi Danh Nhập Học"===N)return l.createElement(w,{data:C.pages.page2.ghiDanhNhapHocContent,onChange:te,onNavigate:u})}if("page3"===o){if("Không Gian Thiền"===N)return l.createElement(I,{data:C.pages.page3.khongGianThienContent,onChange:ae});if("Không Gian Thiền 1-2"===N)return l.createElement(S,{data:C.pages.page3.khongGianThien12Content,onChange:le});if("Ghi Danh Thiền"===N)return l.createElement(T,{data:C.pages.page3.ghiDanhThienContent,onChange:ne,onNavigate:u})}if("page4"===o){if("Chương Trình Đào Tạo"===N)return l.createElement(D,{data:C.pages.page4.chuongTrinhSoTrungDangContent,onChange:ie});if("Niên Khóa"===N)return l.createElement(A,{data:C.pages.page4.nienKhoaContent,onChange:se});if("NIÊN KHÓA 2022 - 2025"===N)return l.createElement(L,{data:C.pages.page4.nienKhoa2022Content,onChange:re});if("NIÊN KHÓA 2019 - 2022"===N)return l.createElement(j,{data:C.pages.page4.nienKhoa2019Content,onChange:ce})}if("page5"===o){if("CHƯƠNG TRÌNH CAO ĐẲNG"===N)return l.createElement(O,{data:C.pages.page5.chuongTrinhCaoDangContent,onChange:oe});if("NIÊN KHÓA 2025-2028"===N)return l.createElement(P,{data:C.pages.page5.caoDangNienKhoaContent,onChange:me});if("NIÊN KHÓA 2022-2025"===N)return l.createElement(B,{data:C.pages.page5.caoDang2022Content,onChange:de});if("NIÊN KHÓA 2019-2022"===N)return l.createElement(M,{data:C.pages.page5.caoDang2019Content,onChange:ue})}if("page6"===o){if("CHUYÊN KHOA A TỲ ĐÀM"===N)return l.createElement(R,{data:C.pages.page6.chuyenKhoaATyDamContent,onChange:ge});if("NIÊN KHÓA 2024-2027"===N)return l.createElement(H,{data:C.pages.page6.nienKhoaContent,onChange:pe});if("Lịch Học Chi Tiết"===N)return l.createElement(F,{data:C.pages.page6.programSectionEFContent,onChange:Ee})}return"submissions"===o?l.createElement(Z,null):"alerts"===o?l.createElement(Q,{onNavigate:We}):"form_builder"===o?l.createElement(J,{showNotification:He}):l.createElement("div",{className:"preview-placeholder"},l.createElement("div",{className:"preview-icon"},l.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none"},l.createElement("rect",{x:"8",y:"12",width:"48",height:"40",rx:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"}),l.createElement("rect",{x:"12",y:"16",width:"40",height:"8",rx:"2",fill:"currentColor",opacity:"0.2"}),l.createElement("rect",{x:"12",y:"28",width:"30",height:"4",rx:"2",fill:"currentColor",opacity:"0.15"}),l.createElement("rect",{x:"12",y:"36",width:"35",height:"4",rx:"2",fill:"currentColor",opacity:"0.15"}),l.createElement("rect",{x:"12",y:"44",width:"25",height:"4",rx:"2",fill:"currentColor",opacity:"0.15"}))),l.createElement("h2",{className:"preview-title"},N?"Edit "+N:"Select a section to edit"),l.createElement("p",{className:"preview-description"},N?"Editor for this section is coming soon.":"Choose a category and section from the left panel to start editing."))})())),Me&&l.createElement("div",{className:"notification-container"},l.createElement("div",{className:"notification "+Me.type},l.createElement("div",{className:"notification-icon"},"success"===Me.type&&l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",style:{color:"#10b981"}},l.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})),"error"===Me.type&&l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",style:{color:"#ef4444"}},l.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})),"info"===Me.type&&l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",style:{color:"#3b82f6"}},l.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))),l.createElement("div",{className:"notification-message"},Me.message))))}}}]);
//# sourceMappingURL=629de8e4252b8c8f99bc709bb1ea30398af266f7-7320bbb2236e391c267e.js.map