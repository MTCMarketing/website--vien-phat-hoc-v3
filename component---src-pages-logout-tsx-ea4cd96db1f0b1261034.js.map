{"version":3,"file":"component---src-pages-logout-tsx-ea4cd96db1f0b1261034.js","mappings":"6OAGA,MAAMA,EAAaA,MACfC,EAAAA,EAAAA,WAAU,KAEgBC,WAClBC,QAAQC,IAAI,oCAGNC,EAAAA,GAASC,KAAKC,QAAQ,CAAEC,MAAO,WAGrCC,aAAaC,WAAW,kBACxBD,aAAaC,WAAW,mBAGlB,IAAIC,QAAQC,GAAWC,WAAWD,EAAS,MAGjDE,OAAOC,SAASC,KAAO,UAG3BC,IACD,IAEH,MAAMC,EAAiD,CACnDC,UAAW,CACPC,UAAW,QACXC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBC,WAAY,UACZC,WAAY,sFACZC,MAAO,WAEXC,KAAM,CACFH,WAAY,QACZI,QAAS,OACTC,aAAc,OACdC,UAAW,wEACXC,UAAW,SACXC,MAAO,oBAEXC,QAAS,CACLD,MAAO,OACPE,OAAQ,OACRC,OAAQ,oBACRC,UAAW,oBACXP,aAAc,MACdQ,UAAW,0BACXC,OAAQ,eAEZC,QAAS,CACLC,SAAU,WACVC,WAAY,IACZH,OAAQ,IAIhB,OACII,EAAAA,cAAA,OAAKC,MAAO1B,EAAOC,WACfwB,EAAAA,cAAA,uNAQAA,EAAAA,cAAA,OAAKC,MAAO1B,EAAOU,MACfe,EAAAA,cAAA,OAAKC,MAAO1B,EAAOgB,UACnBS,EAAAA,cAAA,KAAGC,MAAO1B,EAAOsB,SAAS,yBAM1C,Y","sources":["webpack://gatsby-starter-minimal-ts/./src/pages/logout.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { supabase } from \"../database/supabase\";\n\nconst LogoutPage = () => {\n    useEffect(() => {\n        // Function to perform logout\n        const performLogout = async () => {\n            console.log(\"[Auth] Clearing session...\");\n\n            // THIS is the only real change: proper Supabase logout\n            await supabase.auth.signOut({ scope: \"global\" });\n\n            // Clear any stored authentication data\n            localStorage.removeItem('cms_auth_token');\n            localStorage.removeItem('user_role');\n\n            // Short delay for visual feedback (you wanted this kept)\n            await new Promise(resolve => setTimeout(resolve, 1000));\n\n            // Redirect to login page (unchanged)\n            window.location.href = '/login';\n        };\n\n        performLogout();\n    }, []);\n\n    const styles: { [key: string]: React.CSSProperties } = {\n        container: {\n            minHeight: '100vh',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            background: '#f8f9fa',\n            fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif',\n            color: '#1f2937'\n        },\n        card: {\n            background: 'white',\n            padding: '2rem',\n            borderRadius: '16px',\n            boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\n            textAlign: 'center',\n            width: 'min(320px, 90vw)'\n        },\n        spinner: {\n            width: '24px',\n            height: '24px',\n            border: '3px solid #f3f3f3',\n            borderTop: '3px solid #E6B422',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 1rem'\n        },\n        message: {\n            fontSize: '1.125rem',\n            fontWeight: 600,\n            margin: 0\n        }\n    };\n\n    return (\n        <div style={styles.container}>\n            <style>\n                {`\n                    @keyframes spin {\n                        0% { transform: rotate(0deg); }\n                        100% { transform: rotate(360deg); }\n                    }\n                `}\n            </style>\n            <div style={styles.card}>\n                <div style={styles.spinner}></div>\n                <p style={styles.message}>Logging you out...</p>\n            </div>\n        </div>\n    );\n};\n\nexport default LogoutPage;"],"names":["LogoutPage","useEffect","async","console","log","supabase","auth","signOut","scope","localStorage","removeItem","Promise","resolve","setTimeout","window","location","href","performLogout","styles","container","minHeight","display","flexDirection","alignItems","justifyContent","background","fontFamily","color","card","padding","borderRadius","boxShadow","textAlign","width","spinner","height","border","borderTop","animation","margin","message","fontSize","fontWeight","React","style"],"sourceRoot":""}