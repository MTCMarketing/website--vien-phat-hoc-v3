"use strict";(self.webpackChunkgatsby_starter_minimal_ts=self.webpackChunkgatsby_starter_minimal_ts||[]).push([[846],{244:function(e,t,a){a.a(e,async function(e,n){try{a.r(t);var r=a(6540),u=a(7003),i=a(2924),_=e([i]);i=(_.then?(await _)():_)[0];const s=()=>r.createElement(i.A,{role:"admin"},r.createElement(u.default,null));t.default=s,n()}catch(s){n(s)}})},682:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Y:function(){return useUniversalRouter}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6540);function useUniversalRouter(){const routesRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),gatsbyNavigateRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),initializedRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{initializedRef.current||"undefined"==typeof window||(initializedRef.current=!0,(async()=>{try{const gatsbyModuleName="gatsby",gatsby=await eval("import("+JSON.stringify(gatsbyModuleName)+")");if("function"==typeof gatsby.navigate)return void(gatsbyNavigateRef.current=gatsby.navigate)}catch(_unused){}const isVite="undefined"!=typeof window&&!!window.__vite_plugin_react_preamble_installed__;if(isVite)try{const virtualName="virtual:generated-pages-react",mod=await eval("import("+JSON.stringify(virtualName)+")");routesRef.current=mod.default}catch(_unused2){}})())},[]);const go=e=>{gatsbyNavigateRef.current?gatsbyNavigateRef.current(e):window.location.assign(e)},getRoutes=()=>routesRef.current;return{go:go,getRoutes:getRoutes}}},2924:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{A:function(){return c}});var r=a(6540),u=a(1454),i=a(682),_=e([u]);function c(e){var t;let{role:a,children:n}=e;const{0:_,1:s}=(0,r.useState)(null),{0:c,1:o}=(0,r.useState)(!0),{go:l}=(0,i.Y)();if((0,r.useEffect)(()=>{let e=!0;u.ND.auth.getSession().then(t=>{let{data:a}=t;e&&(s(a.session),o(!1))});const{data:{subscription:t}}=u.ND.auth.onAuthStateChange((t,a)=>{e&&s(a)});return()=>{e=!1,t.unsubscribe()}},[]),c)return null;if(null==_||!_.user)return l("/login"),null;return(null===(t=_.user.app_metadata)||void 0===t?void 0:t.role)!==a?(l("/unauthorized"),null):r.createElement(r.Fragment,null,n)}u=(_.then?(await _)():_)[0],n()}catch(s){n(s)}})}}]);
//# sourceMappingURL=component---src-pages-cms-tsx-fe75fdb80843eb195b98.js.map